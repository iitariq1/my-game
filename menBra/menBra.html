<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููู ุจุฑุง ุงูุณุงููุฉุ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: #0a1a3a;
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .star {
            position: absolute;
            background: white;
            width: 10px;
            height: 10px;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .card {
            background: rgba(12, 28, 60, 0.85);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3),
                        inset 0 0 100px rgba(212, 175, 55, 0.03);
            border: 2px solid rgba(212, 175, 55, 0.35);
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .ramadan {
            font-size: 24px;
            color: #d4af37;
            font-weight: 700;
            text-align: center;
            margin-bottom: 15px;
        }

        .emoji {
            font-size: 80px;
            text-align: center;
            margin: 20px 0;
        }

        h1 {
            font-size: 42px;
            font-weight: 900;
            color: #0a1a3a;
            background: linear-gradient(135deg, #d4af37, #f5e6a3, #d4af37);
            padding: 8px 24px;
            border-radius: 12px;
            display: inline-block;
            text-align: center;
            margin-bottom: 10px;
        }

        h2 {
            font-size: 28px;
            font-weight: 900;
            color: #0a1a3a;
            text-align: center;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #d4af37, #f5e6a3);
            padding: 6px 18px;
            border-radius: 10px;
            display: inline-block;
        }

        p {
            text-align: center;
            color: #f3f4f6;
            font-size: 18px;
            margin-bottom: 20px;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }

        .status {
            background: rgba(212, 175, 55, 0.1);
            border: 2px solid rgba(212, 175, 55, 0.3);
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .status.success {
            background: linear-gradient(135deg, rgba(209, 250, 229, 0.3), rgba(167, 243, 208, 0.3));
            border-color: rgba(16, 185, 129, 0.6);
        }

        .status.error {
            background: linear-gradient(135deg, rgba(254, 226, 226, 0.3), rgba(254, 202, 202, 0.3));
            border-color: rgba(239, 68, 68, 0.6);
        }

        .status p {
            color: #ffffff;
            font-weight: 700;
            margin: 5px 0;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        input[type="text"] {
            width: 100%;
            padding: 18px 24px;
            font-size: 24px;
            font-weight: 700;
            text-align: center;
            background: rgba(10, 26, 58, 0.6);
            border: 2px solid rgba(212, 175, 55, 0.4);
            border-radius: 16px;
            color: #ffffff;
            font-family: 'Cairo', sans-serif;
            margin-bottom: 15px;
            backdrop-filter: blur(10px);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 10;
            cursor: text;
        }

        input:focus {
            outline: none;
            box-shadow: 0 0 0 4px rgba(212, 175, 55, 0.3);
            border-color: #d4af37;
        }

        input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #d4af37, #b8941e);
            color: #0a1a3a;
            font-weight: 700;
            margin: 3px;
            transition: all 0.2s;
        }

        .btn:hover { opacity: 0.9; }
        .btn:disabled { opacity: 0.4; cursor: not-allowed; }
        .btn:active { transform: scale(0.98); }
        
        .btn-full { width: 100%; margin: 5px 0; }

        .btn-gold {
            background: linear-gradient(135deg, #d4af37, #b8941e);
            color: #0a1a3a;
            font-weight: 700;
        }
        
        .btn-purple {
            background: rgba(212, 175, 55, 0.2);
            color: #d4af37;
            border: 2px solid rgba(212, 175, 55, 0.5);
        }

        .btn-green {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4);
        }

        .btn-green:hover:not(:disabled) {
            box-shadow: 0 6px 20px rgba(39, 174, 96, 0.6);
        }
        
        .btn-green:active:not(:disabled) {
            transform: translateY(0px) scale(0.98);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-small { padding: 6px 10px; font-size: 12px; }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 20px 0;
        }

        .category-btn {
            padding: 18px;
            font-size: 18px;
            font-weight: 700;
            border: 2px solid rgba(212, 175, 55, 0.2);
            border-radius: 14px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            background: rgba(10, 26, 58, 0.6);
            color: #ffffff;
            backdrop-filter: blur(10px);
            transition: all 0.3s;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 10;
        }

        .category-btn:hover {
            transform: scale(1.05);
            border-color: #d4af37;
        }
        
        .category-btn:active {
            transform: scale(0.98);
        }

        .category-btn.active {
            background: linear-gradient(135deg, #d4af37, #b8941e);
            color: #0a1a3a;
            border-color: #d4af37;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
        }
        
        .category-btn-result {
            padding: 18px;
            font-size: 18px;
            font-weight: 700;
            border: 2px solid rgba(212, 175, 55, 0.2);
            border-radius: 14px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            background: rgba(10, 26, 58, 0.6);
            color: #ffffff;
            backdrop-filter: blur(10px);
            transition: all 0.3s;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 10;
        }

        .category-btn-result:hover {
            transform: scale(1.05);
            border-color: #d4af37;
        }
        
        .category-btn-result:active {
            transform: scale(0.98);
        }

        .category-btn-result.active {
            background: linear-gradient(135deg, #d4af37, #b8941e);
            color: #0a1a3a;
            border-color: #d4af37;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
        }

        .room-code {
            background: linear-gradient(135deg, #d4af37, #f5e6a3);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            margin: 20px 0;
        }

        .room-code-number {
            font-size: 60px;
            font-weight: 900;
            letter-spacing: 10px;
            color: #0a1a3a;
        }

        .player-list {
            margin: 20px 0;
        }

        .player-item {
            background: rgba(10, 26, 58, 0.6);
            border: 2px solid rgba(212, 175, 55, 0.3);
            border-radius: 14px;
            padding: 18px;
            margin: 12px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .player-name {
            font-size: 22px;
            font-weight: 700;
            color: #ffffff;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        .points {
            font-size: 28px;
            font-weight: 900;
            color: #d4af37;
        }

        .host-badge {
            background: #d4af37;
            color: #0a1a3a;
            padding: 6px 14px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 800;
        }

        .word-box {
            background: linear-gradient(135deg, #d4af37, #b8941e);
            border-radius: 26px;
            padding: 50px;
            margin: 30px 0;
            text-align: center;
        }

        .word-text {
            font-size: 64px;
            font-weight: 900;
            color: #0a1a3a;
            text-shadow: none;
        }

        .impostor-badge {
            background: #dc2626;
            border-radius: 16px;
            padding: 20px;
            margin-top: 20px;
        }

        .impostor-badge p {
            color: white;
            font-size: 26px;
            font-weight: 700;
            margin: 0;
        }

        .vote-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin: 20px 0;
        }

        .vote-card {
            background: rgba(10, 26, 58, 0.6);
            border: 2px solid rgba(212, 175, 55, 0.3);
            border-radius: 18px;
            padding: 26px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
            min-height: 150px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .vote-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(212, 175, 55, 0.3);
            border-color: #d4af37;
            background: rgba(212, 175, 55, 0.15);
        }

        .vote-card.selected {
            background: rgba(212, 175, 55, 0.25);
            border-width: 3px;
            border-color: #d4af37;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.4);
        }

        .hidden {
            display: none !important;
        }

        .divider {
            position: relative;
            margin: 24px 0;
            text-align: center;
        }

        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(to right, transparent, #d4af37, transparent);
        }

        .divider span {
            position: relative;
            background: rgba(10, 26, 58, 0.8);
            backdrop-filter: blur(10px);
            padding: 0 20px;
            color: #d4af37;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        .guess-input {
            margin: 20px 0;
        }

        /* ุชุตููู ุงุญุชุฑุงูู ูููุงุฆุฒ */
        .winner-announcement {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 193, 7, 0.2));
            border: 3px solid rgba(255, 215, 0, 0.6);
            border-radius: 20px;
            padding: 30px 25px;
            margin: 25px 0;
            text-align: center;
            backdrop-filter: blur(15px);
            box-shadow: 0 10px 40px rgba(255, 215, 0, 0.3);
            animation: winnerGlow 2s ease-in-out infinite;
        }

        @keyframes winnerGlow {
            0%, 100% { 
                box-shadow: 0 10px 40px rgba(255, 215, 0, 0.3);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 15px 50px rgba(255, 215, 0, 0.5);
                transform: scale(1.02);
            }
        }

        .winner-announcement .crown {
            font-size: 70px;
            margin-bottom: 15px;
            animation: crownFloat 2s ease-in-out infinite;
        }

        @keyframes crownFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .winner-announcement .winner-title {
            font-size: 26px;
            color: #fbbf24;
            font-weight: 800;
            margin-bottom: 12px;
            text-shadow: 0 3px 8px rgba(0, 0, 0, 0.4);
        }

        .winner-announcement .winner-name-text {
            font-size: 38px;
            color: #ffffff;
            font-weight: 900;
            margin: 15px 0;
            text-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
            letter-spacing: 1px;
        }

        .winner-announcement .winner-score {
            font-size: 20px;
            color: #fef3c7;
            font-weight: 700;
            margin-top: 10px;
            text-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
        }

        .winner-announcement .congrats {
            font-size: 18px;
            color: #d4af37;
            font-weight: 600;
            margin-top: 15px;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
    </style>
<!-- Code Protection -->
<script>
(function(){document.addEventListener('contextmenu',function(e){e.preventDefault();return false;});document.addEventListener('keydown',function(e){if(e.key==='F12')return e.preventDefault(),false;if(e.ctrlKey&&e.shiftKey&&['I','i','J','j','C','c'].includes(e.key))return e.preventDefault(),false;if(e.ctrlKey&&['u','U','s','S'].includes(e.key))return e.preventDefault(),false;});(function(){setInterval(function(){(function(){return false;})['constructor']('debugger')();},50);})();Object.defineProperty(window,'console',{get:function(){return{log:function(){},warn:function(){},error:function(){},info:function(){},debug:function(){},clear:function(){},dir:function(){},table:function(){},trace:function(){},assert:function(){},count:function(){},group:function(){},groupEnd:function(){},time:function(){},timeEnd:function(){}}}});document.addEventListener('dragstart',function(e){e.preventDefault();});document.addEventListener('copy',function(e){e.preventDefault();});document.addEventListener('cut',function(e){e.preventDefault();});})();
</script>
<style>*:not(input):not(textarea):not(button){-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important;}</style>
</head>
<body>
    <div class="stars" id="stars"></div>

    <div class="container">
        <!-- ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ -->
        <div id="homeScreen" class="card">
            <div class="ramadan">โช ุฑูุถุงู ูุฑูู โช</div>
            <div class="emoji">๐ญ</div>
            <h1>ููู ุจุฑุง ุงูุณุงููุฉุ</h1>
            
            <div style="background:rgba(0,0,0,0.3);padding:15px;border-radius:10px;margin:20px 0;border-right:4px solid #d4af37;">
                <p style="text-align:right;font-size:0.9em;line-height:1.8;color:#fff;">
                    <strong style="color:#d4af37;">๐ ููู ุชูุนุจ:</strong><br><br>
                    ูุนุจุฉ ุฌูุงุนูุฉ ููุชุนุฉ! ูู ูุงุนุจ ูุญุตู ุนูู ูููุฉ ูู ููุณ ุงูููุถูุนุ ุฅูุง ูุงุญุฏ... ูู "ุจุฑุง ุงูุณุงููุฉ"!<br><br>
                    ุนุจุฑ ุฌููุงุช ุงูุฃุณุฆูุฉ ูุงูุฃุฌูุจุฉุ ุญุงูู ุชูุชุดู ููู ุงูุดุฎุต ุงููู ูุง ุนูุฏู ููุณ ุงูููุถูุน. ููู ูุญุงูู ูุฎูู ุงูุณุงููุฉ ุงูุฃุณุงุณูุฉ!<br><br>
                    <strong style="color:#d4af37;">๐ฏ ุงููุฏู:</strong> ุงูุชุดู ุงููู ุจุฑุง ุงูุณุงููุฉ ูุจู ูุง ููุชุดู ููุถูุนูู!
                </p>
            </div>
            
            <button class="btn btn-full btn-gold" id="goToCreateBtn">๐ ุฅูุดุงุก ุบุฑูุฉ ุฌุฏูุฏุฉ</button>
            <button class="btn btn-full btn-purple" id="goToJoinBtn">๐ช ุงูุถูุงู ูุบุฑูุฉ</button>
            <button class="btn btn-full btn-secondary" onclick="window.location.href='../index.html'" style="margin-top: 10px;">โ ุงูุนูุฏุฉ ูููุงุฆูุฉ</button>
        </div>

        <!-- ุดุงุดุฉ ุฅูุดุงุก ุบุฑูุฉ -->
        <div id="createRoomScreen" class="card hidden">
            <div class="ramadan">โช ุฑูุถุงู ูุฑูู โช</div>
            <h2>ุฅูุดุงุก ุบุฑูุฉ ุฌุฏูุฏุฉ</h2>
            
            <input type="text" id="hostName" placeholder="ุงุณูู" maxlength="15">
            
            <div id="categorySection" style="margin: 20px 0;">
                <label style="display: block; text-align: center; font-weight: 700; color: #ffffff; margin-bottom: 12px; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);">ุงุฎุชุฑ ุงููุฆุฉ:</label>
                <div class="category-grid">
                    <button class="category-btn active" data-category="ุญููุงูุงุช">๐ฆ ุญููุงูุงุช</button>
                    <button class="category-btn" data-category="ุฃูู">๐ ุฃูู</button>
                    <button class="category-btn" data-category="ุฃูุงูู">๐๏ธ ุฃูุงูู</button>
                    <button class="category-btn" data-category="ูุธุงุฆู">๐จโโ๏ธ ูุธุงุฆู</button>
                    <button class="category-btn" data-category="ูุฏู ุณุนูุฏูุฉ"> ูุฏู ุณุนูุฏูุฉ</button>
                    <button class="category-btn" data-category="ุฏูู"> ุฏูู</button>
                    <button class="category-btn" data-category="ูุณูุณูุงุช"> ูุณูุณูุงุช </button>
                    <button class="category-btn" data-category="ุฃุซุงุซ"> ุฃุซุงุซ </button>
                    <button class="category-btn" data-category="ูุงุนุจูู"> ูุงุนุจูู </button>
                    <button class="category-btn" data-category="ุฃูุฏูุฉ"> ุฃูุฏูุฉ </button>
                </div>
            </div>
            
            <div style="margin: 20px 0; text-align: center;">
                <label style="display: block; font-weight: 700; color: #ffffff; margin-bottom: 12px; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);">ุนุฏุฏ ููุงุท ุงูููุฒ: <span id="winScoreDisplay" style="color: #fbbf24; font-size: 24px;">5</span></label>
                <div style="display: flex; align-items: center; justify-content: center; gap: 15px;">
                    <span style="color: #aaa; font-size: 14px;">2</span>
                    <input type="range" id="winScoreSlider" min="2" max="7" value="5" style="width: 200px; accent-color: #d4af37; cursor: pointer;">
                    <span style="color: #aaa; font-size: 14px;">7</span>
                </div>
            </div>
            
            <button class="btn btn-full btn-success" id="confirmCreateBtn">โ ุฅูุดุงุก ุงูุบุฑูุฉ</button>
            <button class="btn btn-full btn-secondary" id="backFromCreate">๐ ุฑุฌูุน</button>
        </div>

        <!-- ุดุงุดุฉ ุงูุงูุถูุงู -->
        <div id="joinRoomScreen" class="card hidden">
            <div class="ramadan">โช ุฃููุงู ูุณููุงู โช</div>
            <h2>ุงูุถูุงู ูุบุฑูุฉ</h2>
            
            <input type="text" id="joinPlayerName" placeholder="ุงุณูู" maxlength="15">
            <input type="text" id="joinRoomCode" placeholder="ููุฏ ุงูุบุฑูุฉ (4 ุฃุฑูุงู)" maxlength="4" style="text-transform:uppercase;text-align:center;font-size:1.5em;letter-spacing:5px;">
            
            <button class="btn btn-full btn-success" id="confirmJoinBtn">โ ุงูุถูุงู</button>
            <button class="btn btn-full btn-secondary" id="backFromJoin">๐ ุฑุฌูุน</button>
        </div>

        <!-- ุบุฑูุฉ ุงูุงูุชุธุงุฑ -->
        <div id="lobbyScreen" class="card hidden">
            <div class="ramadan">โช ุฑูุถุงู ูุฑูู โช</div>
            <h2>ุบุฑูุฉ ุงูุงูุชุธุงุฑ</h2>

            <div class="room-code">
                <p style="font-size: 18px; margin-bottom: 10px; color: #1f2937;">ููุฏ ุงูุบุฑูุฉ:</p>
                <div class="room-code-number" id="displayCode">0000</div>
                <button class="btn btn-purple" id="copyBtn" style="width: auto; padding: 12px 24px; font-size: 18px; margin-top: 15px;">๐ ูุณุฎ</button>
            </div>

            <div id="categorySection">
                <label style="display: block; text-align: center; font-weight: 700; color: #ffffff; margin-bottom: 12px; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);">ุงุฎุชุฑ ุงููุฆุฉ:</label>
                <div class="category-grid">
                    <button class="category-btn active" data-category="ุญููุงูุงุช">๐ฆ ุญููุงูุงุช</button>
                    <button class="category-btn" data-category="ุฃูู">๐ ุฃูู</button>
                    <button class="category-btn" data-category="ุฃูุงูู">๐๏ธ ุฃูุงูู</button>
                    <button class="category-btn" data-category="ูุธุงุฆู">๐จโโ๏ธ ูุธุงุฆู</button>
                    <button class="category-btn" data-category="ูุฏู ุณุนูุฏูุฉ"> ูุฏู ุณุนูุฏูุฉ</button>
                    <button class="category-btn" data-category="ุฏูู"> ุฏูู</button>
                    <button class="category-btn" data-category="ูุณูุณูุงุช"> ูุณูุณูุงุช </button>
                    <button class="category-btn" data-category="ุฃุซุงุซ"> ุฃุซุงุซ </button>
                    <button class="category-btn" data-category="ูุงุนุจูู"> ูุงุนุจูู </button>
                    <button class="category-btn" data-category="ุฃูุฏูุฉ"> ุฃูุฏูุฉ </button>
                </div>
            </div>

            <div class="status">
                <p>ุงููุฆุฉ ุงููุฎุชุงุฑุฉ: <span id="displayCategory" style="color: #fbbf24;">ุญููุงูุงุช</span></p>
                <p>ููุงุท ุงูููุฒ: <span id="displayWinScore" style="color: #fbbf24;">5</span> ๐</p>
            </div>

            <h2>ุงููุงุนุจูู (<span id="playerCount">0</span>)</h2>
            <div class="player-list" id="playerList"></div>

            <div id="minWarning" class="status error hidden">
                <p>โ๏ธ ุชุญุชุงุฌ 3 ูุงุนุจูู ุนูู ุงูุฃูู</p>
            </div>

            <div id="hostControls" class="hidden">
                <button class="btn btn-full btn-success" id="startBtn">โถ๏ธ ุงุจุฏุฃ ุงูุฌูู</button>
            </div>

            <button class="btn btn-full btn-danger" id="leaveBtn">๐ช ูุบุงุฏุฑุฉ</button>
            <button class="btn btn-full btn-secondary" id="backToHomeBtn">๐ ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ</button>
        </div>

        <!-- ุดุงุดุฉ ุงููููุฉ -->
        <div id="wordScreen" class="card hidden">
            <div class="ramadan">โช ุชุจุงุฑู ุงูุฑุญูู โช</div>
            <h2 id="wordTitle">ูููุชู</h2>

            <div id="beforeReveal">
                <div class="emoji">๐ด</div>
                <p>ุฌุงูุฒ ุชุดูู ูููุชูุ</p>
                <button class="btn btn-full btn-gold" id="revealBtn">๐๏ธ ุงูุดู</button>
            </div>

            <div id="afterReveal" class="hidden">
                <div class="word-box">
                    <p style="font-size: 26px; margin-bottom: 18px; color: #ffffff;">ูููุชู:</p>
                    <div class="word-text" id="myWord">---</div>
                    <div id="impostorBadge" class="impostor-badge hidden">
                        <p style="color: white; font-size: 28px; font-weight: 700; margin: 0; margin-bottom: 12px;">๐ญ ุฃูุช ุจุฑุง ุงูุณุงููุฉ!</p>
                        <p style="color: rgba(255,255,255,0.95); font-size: 18px; font-weight: 600; margin: 0; line-height: 1.5;">๐ก ุญุงูู ุชูุชุดู ุงูุณุงููุฉ ุงูุฃุณุงุณูุฉ ูู ููุงู ุงููุงุนุจูู ูุงุณุชูุน ุฌูุฏุงู!</p>
                    </div>
                </div>

                <div class="status">
                    <p>๐ก ุชููู ุนู ูููุชู ุจุฏูู ูุง ุชููููุง!</p>
                </div>

                <div id="hostNext" class="hidden">
                    <button class="btn btn-full btn-success" id="nextPhaseBtn">โก๏ธ ุงูุชุงูู</button>
                </div>

                <div id="waitingHost" class="status hidden">
                    <p>โณ ุงูุชุธุฑ ุงููุถูู...</p>
                </div>
            </div>
        </div>

        <!-- ุดุงุดุฉ ุงูุฃุณุฆูุฉ ุงูููุธูุฉ -->
        <div id="questionsScreen" class="card hidden">
            <div class="ramadan">โช ุจุณู ุงููู โช</div>
            <h2>ุฌููุฉ ุงูุฃุณุฆูุฉ ๐ฃ๏ธ</h2>

            <div id="currentQuestion" class="word-box" style="margin: 30px 0;">
                <p style="font-size: 22px; color: #ffffff; margin-bottom: 15px; font-weight: 700;">ุงูุณุคุงู <span id="questionNum">1</span>:</p>
                <p style="font-size: 32px; color: #ffffff; font-weight: 900; margin: 10px 0;">
                    <span id="askerName" style="color: #ffd700;">ุฃุญูุฏ</span> โ <span id="answererName" style="color: #ffd700;">ุณุงุฑุฉ</span>
                </p>
                <p style="font-size: 18px; color: #ffffff; margin-top: 15px; opacity: 0.9;">
                    <span id="askerName2">ุฃุญูุฏ</span> ูุณุฃู <span id="answererName2">ุณุงุฑุฉ</span> ุณุคุงู ุนู ูููุชูุง
                </p>
            </div>

            <div class="status">
                <p>๐ก ุงุณุฃู ุฃุณุฆูุฉ ุฐููุฉ ูุชูุชุดู ููู ุจุฑุง ุงูุณุงููุฉ!</p>
            </div>

            <div id="hostQuestionControls" class="hidden">
                <button class="btn btn-full btn-success" id="nextQuestionBtn">โก๏ธ ุงูุณุคุงู ุงูุชุงูู</button>
            </div>

            <div id="waitQuestionHost" class="status hidden">
                <p>โณ ุงูุชุธุฑ ุงููุถูู...</p>
            </div>
        </div>

        <!-- ุดุงุดุฉ ุงูุฃุณุฆูุฉ ุงูุญุฑุฉ -->
        <div id="freeQuestionsScreen" class="card hidden">
            <div class="ramadan">โช ุงููู ูููููู โช</div>
            <h2>ุฃุณุฆูุฉ ุญุฑุฉ ๐ฌ</h2>

            <div class="word-box" style="margin: 30px 0;">
                <p style="font-size: 48px; color: #ffffff; font-weight: 900; margin: 0;">โฐ <span id="freeTimer">60</span></p>
                <p style="font-size: 20px; color: #ffffff; margin-top: 10px;">ุซุงููุฉ ูุชุจููุฉ</p>
            </div>

            <div class="status">
                <p>๐ฌ ุฃู ูุงุญุฏ ููุฏุฑ ูุณุฃู ุฃู ูุงุญุฏ!</p>
                <p style="font-size: 16px; margin-top: 8px;">ุงุณุชุบู ุงูููุช ูุงูุชุดุงู ุงููู ุจุฑุง ุงูุณุงููุฉ</p>
            </div>

            <div id="hostFreeControls" class="hidden">
                <button class="btn btn-full btn-success" id="endFreeQuestionsBtn">โ ุฅููุงุก ูุจุฏุก ุงูุชุตููุช</button>
            </div>
        </div>

        <!-- ุดุงุดุฉ ุงูููุงุด -->
        <div id="discussScreen" class="card hidden">
            <div class="ramadan">โช ุงููู ูููููู โช</div>
            <h2>ููุช ุงูููุงุด! ๐ฃ๏ธ</h2>

            <div class="status">
                <p>๐ฌ ูู ูุงุญุฏ ูุชููู ุนู ูููุชู</p>
                <p>๐ต๏ธ ุญุงูููุง ุชูุชุดููู ููู ุจุฑุง ุงูุณุงููุฉ!</p>
            </div>

            <div class="emoji">๐ญ</div>

            <div id="hostDiscuss" class="hidden">
                <button class="btn btn-full btn-success" id="startVoteBtn">๐ณ๏ธ ุงุจุฏุฃ ุงูุชุตููุช</button>
            </div>

            <div id="waitDiscuss" class="status hidden">
                <p>โณ ุงูุชุธุฑ ุงููุถูู ูุจุฏุฃ ุงูุชุตููุช...</p>
            </div>
        </div>

        <!-- ุดุงุดุฉ ุงูุชุตููุช -->
        <div id="voteScreen" class="card hidden">
            <div class="ramadan">โช ุจุณู ุงููู โช</div>
            <h2>ุตููุช: ููู ุจุฑุง ุงูุณุงููุฉุ</h2>

            <div class="vote-grid" id="voteGrid"></div>

            <div id="voteWaiting" class="status hidden">
                <p>โ ุชู ุชุณุฌูู ุตูุชู!</p>
                <p>โณ ูู ุงูุชุธุงุฑ ุงูุจุงููู...</p>
            </div>
        </div>

        <!-- ุดุงุดุฉ ุชุฎููู ุงููู ุจุฑุง ุงูุณุงููุฉ -->
        <div id="guessScreen" class="card hidden">
            <div class="ramadan">ุงููู ููููู ๐</div>
            <h2>ุฃูุช ุจุฑุง ุงูุณุงููุฉ! ๐ญ</h2>

            <div class="status">
                <p style="font-size: 20px; margin-bottom: 10px;">๐ก ุงุฎุชุฑ ุงููููุฉ ุงูุตุญูุญุฉ ูู ุงูุฎูุงุฑุงุช:</p>
                <p style="font-size: 16px; opacity: 0.9;">ุฅุฐุง ุฎูููุช ุตุญุ ุชูุณุจ ููุทุฉ! ๐ฏ</p>
            </div>

            <div id="guessOptions" class="vote-grid" style="margin: 20px 0;">
                <!-- ุณูุชู ููุคูุง ุจุงูุฎูุงุฑุงุช -->
            </div>

            <div id="guessWait" class="status hidden">
                <p>โ ุชู ุฅุฑุณุงู ุชุฎูููู!</p>
                <p>โณ ุงูุชุธุฑ ุงููุชุงุฆุฌ...</p>
            </div>
        </div>
        
        <!-- ุดุงุดุฉ ุงูุชุธุงุฑ ุชุฎููู ุงููู ุจุฑุง ุงูุณุงููุฉ -->
        <div id="waitingGuessScreen" class="card hidden">
            <div class="ramadan">ุงูุชุธุฑูุง ๐</div>
            <div class="emoji">โณ</div>
            <h2>ุงููู ุจุฑุง ุงูุณุงููุฉ ูุฎููู ุงููููุฉ ุงูุตุญูุญุฉ...</h2>
            
            <div class="word-box">
                <p style="font-size: 22px; margin-bottom: 15px; color: #ffffff;">ุงููู ุจุฑุง ุงูุณุงููุฉ: <span id="impostorNameWait">---</span> ๐ญ</p>
            </div>
            
            <div class="status">
                <p style="font-size: 18px;">๐ญ ุงููู ุจุฑุง ุงูุณุงููุฉ ุงูุญูู ูุฎุชุงุฑ ูู 6 ุฎูุงุฑุงุช...</p>
                <p style="font-size: 16px; margin-top: 10px;">ุฅุฐุง ุฎููู ุตุญุ ููุณุจ ููุทุฉ! ๐ฏ</p>
            </div>
        </div>

        <!-- ุดุงุดุฉ ุงููุชูุฌุฉ -->
        <div id="resultScreen" class="card hidden">
            <div class="ramadan">ูุง ุดุงุก ุงููู ๐</div>
            <div class="emoji" id="resultEmoji">๐</div>
            <h2 id="resultTitle">ุงููุชูุฌุฉ</h2>

            <div class="word-box">
                <p style="font-size: 22px; margin-bottom: 15px; color: #ffffff;">ุงููู ุจุฑุง ุงูุณุงููุฉ: <span id="impostorName">---</span> ๐ญ</p>
                <div style="background: rgba(255,255,255,0.2); border-radius: 16px; padding: 20px;">
                    <p style="margin: 8px 0; color: #ffffff; font-weight: 700;">ุงููููุฉ ุงูุตุญูุญุฉ: <strong id="mainWord">---</strong></p>
                    <p style="margin: 8px 0; color: #ffffff; font-weight: 700;">ูููุฉ ุงููู ุจุฑุง ุงูุณุงููุฉ: <strong id="impostorWord">---</strong></p>
                </div>
            </div>

            <div id="roundResults"></div>

            <h2>ุงูููุงุท ุงูุฅุฌูุงููุฉ ๐</h2>
            <div class="player-list" id="scoreList"></div>

            <!-- ุฅุนูุงู ุงููุงุฆุฒ ุงูุงุญุชุฑุงูู -->
            <div id="winnerAnnounce" class="winner-announcement hidden">
                <div class="crown">๐</div>
                <div class="winner-title">ุงููุงุฆุฒ</div>
                <div class="winner-name-text" id="winnerName">---</div>
                <div class="winner-score">ูุตู ูู <span id="winnerPoints">5</span> ููุงุท!</div>
                <div class="congrats">ูุจุฑูู! ๐</div>
            </div>

            <div id="hostResult" class="hidden">
                <button class="btn btn-full btn-success" id="nextRoundBtn">โถ๏ธ ุงูุฌููุฉ ุงูุชุงููุฉ</button>
                <button class="btn btn-full btn-gold" id="newGameBtn">๐ ุฅุนุงุฏุฉ ุงููุนุจ (ุชุตููุฑ ุงูููุงุท)</button>
                <button class="btn btn-full btn-secondary" id="backToMenuBtn">๐ช ุงูุฎุฑูุฌ</button>
            </div>
            
            <!-- ูุงูุฐุฉ ุงุฎุชูุงุฑ ุงููุฆุฉ ููุฌููุฉ ุงูุฌุฏูุฏุฉ -->
            <div id="categoryModal" class="hidden" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; align-items: center; justify-content: center;">
                <div style="background: rgba(12, 28, 60, 0.95); border-radius: 20px; padding: 30px; max-width: 400px; width: 90%; border: 2px solid rgba(212, 175, 55, 0.5);">
                    <h3 style="color: #d4af37; text-align: center; margin-bottom: 20px; font-size: 22px;">ุงุฎุชุฑ ุงููุฆุฉ ููุฌููุฉ ุงูุฌุฏูุฏุฉ ๐ฏ</h3>
                    <div class="category-grid" id="categoryModalGrid">
                        <button class="category-btn-result active" data-category="ุญููุงูุงุช">๐ฆ ุญููุงูุงุช</button>
                        <button class="category-btn-result" data-category="ุฃูู">๐ ุฃูู</button>
                        <button class="category-btn-result" data-category="ุฃูุงูู">๐๏ธ ุฃูุงูู</button>
                        <button class="category-btn-result" data-category="ูุธุงุฆู">๐จโโ๏ธ ูุธุงุฆู</button>
                        <button class="category-btn-result" data-category="ูุฏู ุณุนูุฏูุฉ"> ูุฏู ุณุนูุฏูุฉ</button>
                        <button class="category-btn-result" data-category="ุฏูู"> ุฏูู</button>
                        <button class="category-btn-result" data-category="ูุณูุณูุงุช"> ูุณูุณูุงุช</button>
                        <button class="category-btn-result" data-category="ุฃุซุงุซ"> ุฃุซุงุซ</button>
                        <button class="category-btn-result" data-category="ูุงุนุจูู"> ูุงุนุจูู</button>
                        <button class="category-btn-result" data-category="ุฃูุฏูุฉ"> ุฃูุฏูุฉ</button>
                    </div>
                    <button class="btn btn-full btn-success" id="confirmCategoryBtn" style="margin-top: 15px;">โ ุชุฃููุฏ ูุจุฏุก ุงูุฌููุฉ</button>
                    <button class="btn btn-full btn-secondary" id="cancelCategoryBtn" style="margin-top: 10px;">โ ุฅูุบุงุก</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ุฅุถุงูุฉ ุงููุฌูู
        const starsEl = document.getElementById('stars');
        for (let i = 0; i < 30; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.animationDelay = Math.random() * 3 + 's';
            starsEl.appendChild(star);
        }

        // ุชููุฆุฉ Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyDmcYuujBwML0KyNemCopBNSAM9yJOk76w",
            authDomain: "mynbra-a1bbc.firebaseapp.com",
            databaseURL: "https://mynbra-a1bbc-default-rtdb.firebaseio.com",
            projectId: "mynbra-a1bbc",
            storageBucket: "mynbra-a1bbc.firebasestorage.app",
            messagingSenderId: "114341063618",
            appId: "1:114341063618:web:8d1b3e0263490c83e1845b"
        };

        let db = null;
        let roomRef = null;
        let firebaseReady = false;

        // ุชุญููู Firebase
        setTimeout(() => {
            try {
                if (typeof firebase !== 'undefined') {
                    firebase.initializeApp(firebaseConfig);
                    db = firebase.database();
                    firebaseReady = true;
                    console.log('โ Firebase ุฌุงูุฒ');
                } else {
                    console.log('โ๏ธ Firebase ุบูุฑ ูุชููุฑ');
                }
            } catch (e) {
                console.log('โ๏ธ Firebase:', e.message);
            }
        }, 1000);

        // ุงููููุงุช
        const wordSets = {
            'ุญููุงูุงุช': [
                { main: 'ุฃุณุฏ', impostor: 'ููุฑ', options: ['ูุทุฉ', 'ููุจ', 'ุฃุฑูุจ', 'ุฃุณุฏ', 'ุฐุฆุจ', 'ุซุนูุจ'] },
                { main: 'ููู', impostor: 'ูุญูุฏ ุงููุฑู', options: ['ุญุตุงู', 'ุฌูู', 'ุฒุฑุงูุฉ', 'ููู', 'ุจูุฑุฉ', 'ุฎุฑูู'] },
                { main: 'ุฏููููู', impostor: 'ุญูุช', options: ['ุณููุฉ', 'ูุฑุด', 'ุฃุฎุทุจูุท', 'ุฏููููู', 'ุณูุญูุงุฉ', 'ูููุฉ'] },
                { main: 'ูุณุฑ', impostor: 'ุตูุฑ', options: ['ุญูุงูุฉ', 'ุฏุฌุงุฌุฉ', 'ุจุทุฉ', 'ูุณุฑ', 'ุจุจุบุงุก', 'ุนุตููุฑ'] },
                { main: 'ูุฑุฏ', impostor: 'ุบูุฑููุง', options: ['ูุฃุฑ', 'ุฃุฑูุจ', 'ูุฑุฏ', 'ุฏุจ', 'ุฑุงููู', 'ุณูุฌุงุจ'] },
                { main: 'ุซุนุจุงู', impostor: 'ุณุญููุฉ', options: ['ุชูุณุงุญ', 'ุถูุฏุน', 'ุซุนุจุงู', 'ุนูุฑุจ', 'ุณูุญูุงุฉ', 'ูุฑู'] }
            ],
            'ุฃูู': [
                { main: 'ุจูุชุฒุง', impostor: 'ุจุงุณุชุง', options: ['ูุนูุฑููุฉ', 'ุจุฑุฌุฑ', 'ูุจุณุฉ', 'ุจูุชุฒุง', 'ุดุงูุฑูุง', 'ููุฏู'] },
                { main: 'ุจุฑุฌุฑ', impostor: 'ุดุงูุฑูุง', options: ['ุจูุชุฒุง', 'ุจุงุณุชุง', 'ูุจุณุฉ', 'ุจุฑุฌุฑ', 'ุณูุฏูุชุด', 'ููุงูู'] },
                { main: 'ูุจุณุฉ', impostor: 'ููุฏู', options: ['ุจุฑูุงูู', 'ูุจุณุฉ', 'ููููุจุฉ', 'ูุฌุฏุฑุฉ', 'ูุฑููุฉ', 'ูุถุบูุท'] },
                { main: 'ููุงูุฉ', impostor: 'ุจุณุจูุณุฉ', options: ['ุจููุงูุฉ', 'ููุงูุฉ', 'ุจุณุจูุณุฉ', 'ูุฑูุณุฉ', 'ูุนููู', 'ุบุฑูุจุฉ'] },
                { main: 'ุณูุดู', impostor: 'ุณุงุดููู', options: ['ุณูู', 'ุฑุฒ', 'ุณูุดู', 'ุฑุงูู', 'ููุฏูุฒ', 'ุฏูุจููุฌ'] },
                { main: 'ููุงูู', impostor: 'ุณูุจูุณุฉ', options: ['ูุจุฉ', 'ููุงูู', 'ุจุฑุฌุฑ', 'ุณูุฏูุชุด', 'ูุทูุฑุฉ', 'ูุนุฌูุงุช'] }
            ],
            'ุฃูุงูู': [
                { main: 'ุดุงุทุฆ', impostor: 'ุตุญุฑุงุก', options: ['ุจุญุฑ', 'ุฌุจู', 'ุบุงุจุฉ', 'ุดุงุทุฆ', 'ููุฑ', 'ุจุญูุฑุฉ'] },
                { main: 'ูุทุงุฑ', impostor: 'ูุญุทุฉ ูุทุงุฑ', options: ['ูููุงุก', 'ูุทุงุฑ', 'ูููู', 'ูุญุทุฉ', 'ุฌุณุฑ', 'ููู'] },
                { main: 'ูุฏุฑุณุฉ', impostor: 'ุฌุงูุนุฉ', options: ['ุฑูุถุฉ', 'ูุฏุฑุณุฉ', 'ูุนูุฏ', 'ูููุฉ', 'ุฃูุงุฏูููุฉ', 'ูุฑูุฒ'] },
                { main: 'ุณูู', impostor: 'ููู', options: ['ุฏูุงู', 'ูุญู', 'ุจูุงูุฉ', 'ุณูู', 'ูุชุฌุฑ', 'ูุฑูุฒ'] },
                { main: 'ูุณุชุดูู', impostor: 'ุนูุงุฏุฉ', options: ['ุตูุฏููุฉ', 'ูุฎุชุจุฑ', 'ูุณุชุดูู', 'ูุฑูุฒ', 'ูุณุชูุตู', 'ุทูุงุฑุฆ'] },
                { main: 'ูุทุนู', impostor: 'ูุงููู', options: ['ูููู', 'ุจูููู', 'ูุทุนู', 'ูุงูุชูุฑูุง', 'ููุฏู', 'ูุฎุจุฒ'] }
            ],
            'ูุธุงุฆู': [
                { main: 'ุทุจูุจ', impostor: 'ููุฑุถ', options: ['ุตูุฏูู', 'ูุนุงูุฌ', 'ุทุจูุจ', 'ุฌุฑุงุญ', 'ูุณุงุนุฏ', 'ุฃุฎุตุงุฆู'] },
                { main: 'ูููุฏุณ', impostor: 'ูุนูุงุฑ', options: ['ูุตูู', 'ุฑุณุงู', 'ูููุฏุณ', 'ูุดุฑู', 'ุชููู', 'ููู'] },
                { main: 'ูุนูู', impostor: 'ุฃุณุชุงุฐ', options: ['ูุฏุฑุณ', 'ูุนูู', 'ูุญุงุถุฑ', 'ูุฏุฑุจ', 'ูุฑุจู', 'ููุฌู'] },
                { main: 'ุทุจุงุฎ', impostor: 'ุฎุจุงุฒ', options: ['ุดูู', 'ุทุจุงุฎ', 'ุญููุงูู', 'ุนุงูู', 'ูุณุงุนุฏ', 'ูุชุฏุฑุจ'] },
                { main: 'ูุญุงูู', impostor: 'ูุงุถู', options: ['ูุญุงูู', 'ูููู', 'ูุณุชุดุงุฑ', 'ุฎุจูุฑ', 'ูุญูู', 'ูุฏุนู'] },
                { main: 'ูุจุฑูุฌ', impostor: 'ูุทูุฑ', options: ['ูุตูู', 'ูุจุฑูุฌ', 'ูุญูู', 'ุชููู', 'ูุฏูุฑ', 'ูููุฏุณ'] }
            ],
            'ูุฏู ุณุนูุฏูุฉ': [
  { main: 'ุงูุฑูุงุถ', impostor: 'ุงูุฎุฑุฌ', options: ['ุงูุฑูุงุถ','ุงูุฎุฑุฌ','ุฌุฏุฉ','ููุฉ','ุงูุฏูุงู','ุงูุทุงุฆู'] },
  { main: 'ุฌุฏุฉ', impostor: 'ุงููุฏููุฉ', options: ['ุฌุฏุฉ','ุงููุฏููุฉ','ููุฉ','ุงูุทุงุฆู','ููุจุน','ุงูุฑูุงุถ'] },
  { main: 'ููุฉ', impostor: 'ุฌุฏุฉ', options: ['ููุฉ','ุฌุฏุฉ','ุงููุฏููุฉ','ุงูุทุงุฆู','ุชุจูู','ูุฌุฑุงู'] },
  { main: 'ุงููุฏููุฉ', impostor: 'ููุจุน', options: ['ุงููุฏููุฉ','ููุจุน','ููุฉ','ุฌุฏุฉ','ุญุงุฆู','ุงููุตูู'] },
  { main: 'ุงูุฏูุงู', impostor: 'ุงูุฎุจุฑ', options: ['ุงูุฏูุงู','ุงูุฎุจุฑ','ุงูุฌุจูู','ุงูุฃุญุณุงุก','ุญูุฑ ุงูุจุงุทู','ุงูุฑูุงุถ'] },
  { main: 'ุงูุฎุจุฑ', impostor: 'ุงูุฌุจูู', options: ['ุงูุฎุจุฑ','ุงูุฌุจูู','ุงูุฏูุงู','ุงูุฃุญุณุงุก','ุงููุทูู','ุจููู'] },
  { main: 'ุงูุฃุญุณุงุก', impostor: 'ุจููู', options: ['ุงูุฃุญุณุงุก','ุจููู','ุงูุฏูุงู','ุงูุฌุจูู','ุงููุทูู','ุญูุฑ ุงูุจุงุทู'] },
  { main: 'ุงูุทุงุฆู', impostor: 'ุงูุจุงุญุฉ', options: ['ุงูุทุงุฆู','ุงูุจุงุญุฉ','ุฃุจูุง','ููุฉ','ุงูุฑูุงุถ','ุฌูุฒุงู'] },
  { main: 'ุฃุจูุง', impostor: 'ุฎููุณ ูุดูุท', options: ['ุฃุจูุง','ุฎููุณ ูุดูุท','ุงูุจุงุญุฉ','ูุฌุฑุงู','ุฌูุฒุงู','ุงูุทุงุฆู'] },
  { main: 'ุฎููุณ ูุดูุท', impostor: 'ูุฌุฑุงู', options: ['ุฎููุณ ูุดูุท','ูุฌุฑุงู','ุฃุจูุง','ุฌูุฒุงู','ุญุงุฆู','ุชุจูู'] },
  { main: 'ุฌูุฒุงู', impostor: 'ูุฌุฑุงู', options: ['ุฌูุฒุงู','ูุฌุฑุงู','ุฃุจูุง','ุงูุจุงุญุฉ','ุงูุทุงุฆู','ุชุจูู'] },
  { main: 'ูุฌุฑุงู', impostor: 'ุณูุงูุง', options: ['ูุฌุฑุงู','ุณูุงูุง','ุฌูุฒุงู','ุชุจูู','ุญุงุฆู','ุงููุตูู'] },
  { main: 'ุชุจูู', impostor: 'ุญุงุฆู', options: ['ุชุจูู','ุญุงุฆู','ุณูุงูุง','ุงููุตูู','ุงููุฏููุฉ','ุงูุทุงุฆู'] },
  { main: 'ุญุงุฆู', impostor: 'ุณูุงูุง', options: ['ุญุงุฆู','ุณูุงูุง','ุชุจูู','ุงููุตูู','ุนุฑุนุฑ','ุงูุฌูู'] },
  { main: 'ุณูุงูุง', impostor: 'ุนุฑุนุฑ', options: ['ุณูุงูุง','ุนุฑุนุฑ','ุญุงุฆู','ุชุจูู','ุงููุตูู','ุงูุฑูุงุถ'] },
  { main: 'ุนุฑุนุฑ', impostor: 'ุณูุงูุง', options: ['ุนุฑุนุฑ','ุณูุงูุง','ุญุงุฆู','ุชุจูู','ุงูุฏูุงู','ุงูุฑูุงุถ'] },
  { main: 'ุจุฑูุฏุฉ', impostor: 'ุนููุฒุฉ', options: ['ุจุฑูุฏุฉ','ุนููุฒุฉ','ุงูุฑุณ','ุงูุฑูุงุถ','ุญุงุฆู','ุชุจูู'] },
  { main: 'ุนููุฒุฉ', impostor: 'ุงูุฑุณ', options: ['ุนููุฒุฉ','ุงูุฑุณ','ุจุฑูุฏุฉ','ุญุงุฆู','ุงูุทุงุฆู','ุงููุฏููุฉ'] },
  { main: 'ููุจุน', impostor: 'ุฃููุฌ', options: ['ููุจุน','ุฃููุฌ','ุงููุฏููุฉ','ุชุจูู','ุฌุฏุฉ','ููุฉ'] },
  { main: 'ุฃููุฌ', impostor: 'ููุจุน', options: ['ุฃููุฌ','ููุจุน','ุชุจูู','ุงููุฏููุฉ','ุฌุฏุฉ','ุงูุทุงุฆู'] }
],

'ุฏูู': [
  { main: 'ุงูุณุนูุฏูุฉ', impostor: 'ุงูุฅูุงุฑุงุช', options: ['ุงูุณุนูุฏูุฉ','ุงูุฅูุงุฑุงุช','ูุทุฑ','ุงููููุช','ุงูุจุญุฑูู','ุนูุงู'] },
  { main: 'ูุตุฑ', impostor: 'ุงููุบุฑุจ', options: ['ูุตุฑ','ุงููุบุฑุจ','ุชููุณ','ุงูุฌุฒุงุฆุฑ','ููุจูุง','ุงูุณูุฏุงู'] },
  { main: 'ุงูุฃุฑุฏู', impostor: 'ูุจูุงู', options: ['ุงูุฃุฑุฏู','ูุจูุงู','ุณูุฑูุง','ุงูุนุฑุงู','ููุณุทูู','ูุตุฑ'] },
  { main: 'ุชุฑููุง', impostor: 'ุงููููุงู', options: ['ุชุฑููุง','ุงููููุงู','ุจูุบุงุฑูุง','ุฌูุฑุฌูุง','ุฃุฐุฑุจูุฌุงู','ุฅูุฑุงู'] },
  { main: 'ูุฑูุณุง', impostor: 'ุฅูุทุงููุง', options: ['ูุฑูุณุง','ุฅูุทุงููุง','ุฅุณุจุงููุง','ุฃููุงููุง','ููููุฏุง','ุณููุณุฑุง'] },
  { main: 'ุจุฑูุทุงููุง', impostor: 'ุฃูุฑููุฏุง', options: ['ุจุฑูุทุงููุง','ุฃูุฑููุฏุง','ูุฑูุณุง','ุจูุฌููุง','ููููุฏุง','ุฃููุงููุง'] },
  { main: 'ุฃูุฑููุง', impostor: 'ููุฏุง', options: ['ุฃูุฑููุง','ููุฏุง','ุงูููุณูู','ุงูุจุฑุงุฒูู','ุงูุฃุฑุฌูุชูู','ุชุดููู'] },
  { main: 'ุงูุจุฑุงุฒูู', impostor: 'ุงูุฃุฑุฌูุชูู', options: ['ุงูุจุฑุงุฒูู','ุงูุฃุฑุฌูุชูู','ุฃูุฑููุง','ููุฏุง','ุฅุณุจุงููุง','ุงูุจุฑุชุบุงู'] },
  { main: 'ุงููุงุจุงู', impostor: 'ููุฑูุง ุงูุฌููุจูุฉ', options: ['ุงููุงุจุงู','ููุฑูุง ุงูุฌููุจูุฉ','ุงูุตูู','ุงูููุฏ','ุชุงูููุฏ','ุณูุบุงููุฑุฉ'] },
  { main: 'ุงูุตูู', impostor: 'ุงูููุฏ', options: ['ุงูุตูู','ุงูููุฏ','ุงููุงุจุงู','ููุฑูุง ุงูุฌููุจูุฉ','ููุชูุงู','ูุงููุฒูุง'] },
  { main: 'ุฃุณุชุฑุงููุง', impostor: 'ูููุฒูููุฏุง', options: ['ุฃุณุชุฑุงููุง','ูููุฒูููุฏุง','ุจุฑูุทุงููุง','ููุฏุง','ุฃูุฑููุง','ุงููุงุจุงู'] },
  { main: 'ุฑูุณูุง', impostor: 'ุฃููุฑุงููุง', options: ['ุฑูุณูุง','ุฃููุฑุงููุง','ุจูููุฏุง','ุฃููุงููุง','ุชุฑููุง','ุฑููุงููุง'] },
  { main: 'ุฅูุฑุงู', impostor: 'ุงูุนุฑุงู', options: ['ุฅูุฑุงู','ุงูุนุฑุงู','ุชุฑููุง','ุณูุฑูุง','ุงูุฃุฑุฏู','ุงููููุช'] },
  { main: 'ุจุงูุณุชุงู', impostor: 'ุฃูุบุงูุณุชุงู', options: ['ุจุงูุณุชุงู','ุฃูุบุงูุณุชุงู','ุงูููุฏ','ุงูุตูู','ุฅูุฑุงู','ุชุฑููุง'] },
  { main: 'ุฅูุฏูููุณูุง', impostor: 'ูุงููุฒูุง', options: ['ุฅูุฏูููุณูุง','ูุงููุฒูุง','ุณูุบุงููุฑุฉ','ุชุงูููุฏ','ุงูููุจูู','ููุชูุงู'] },
  { main: 'ุฅุณุจุงููุง', impostor: 'ุงูุจุฑุชุบุงู', options: ['ุฅุณุจุงููุง','ุงูุจุฑุชุบุงู','ูุฑูุณุง','ุฅูุทุงููุง','ุฃููุงููุง','ููููุฏุง'] },
  { main: 'ุงูุณููุฏ', impostor: 'ุงููุฑููุฌ', options: ['ุงูุณููุฏ','ุงููุฑููุฌ','ููููุฏุง','ุงูุฏููุงุฑู','ุฃููุงููุง','ููููุฏุง'] },
  { main: 'ุณููุณุฑุง', impostor: 'ุงูููุณุง', options: ['ุณููุณุฑุง','ุงูููุณุง','ุฃููุงููุง','ูุฑูุณุง','ุฅูุทุงููุง','ุจูุฌููุง'] },
  { main: 'ุฌููุจ ุฃูุฑูููุง', impostor: 'ููุฌูุฑูุง', options: ['ุฌููุจ ุฃูุฑูููุง','ููุฌูุฑูุง','ูุตุฑ','ุงููุบุฑุจ','ููููุง','ุฅุซููุจูุง'] },
  { main: 'ุงูุฃุฑุฌูุชูู', impostor: 'ุชุดููู', options: ['ุงูุฃุฑุฌูุชูู','ุชุดููู','ุงูุจุฑุงุฒูู','ุจูุฑู','ูููููุจูุง','ุฃูุฑูุฌูุงู'] }
],

'ุฃุซุงุซ': [
  { main: 'ููุจุฉ', impostor: 'ูุฑุณู', options: ['ููุจุฉ','ูุฑุณู','ุทุงููุฉ','ุณุฑูุฑ','ุฏููุงุจ','ููุชุจ'] },
  { main: 'ุณุฑูุฑ', impostor: 'ููุจุฉ', options: ['ุณุฑูุฑ','ููุจุฉ','ูุฑุณู','ููููุฏ','ุชุณุฑูุญุฉ','ุฏููุงุจ'] },
  { main: 'ุฏููุงุจ', impostor: 'ุฎุฒุงูุฉ', options: ['ุฏููุงุจ','ุฎุฒุงูุฉ','ููุชุจุฉ','ุชุณุฑูุญุฉ','ุณุฑูุฑ','ูุฑุณู'] },
  { main: 'ุทุงููุฉ', impostor: 'ููุชุจ', options: ['ุทุงููุฉ','ููุชุจ','ูุฑุณู','ููุจุฉ','ููุชุจุฉ','ุชููุงุฒ'] },
  { main: 'ููุชุจุฉ', impostor: 'ุฑู', options: ['ููุชุจุฉ','ุฑู','ุฏููุงุจ','ุทุงููุฉ','ููุชุจ','ูุฑุณู'] },
  { main: 'ุชุณุฑูุญุฉ', impostor: 'ููููุฏ', options: ['ุชุณุฑูุญุฉ','ููููุฏ','ุณุฑูุฑ','ุฏููุงุจ','ูุฑุณู','ูุฑุขุฉ'] },
  { main: 'ููุชุจ', impostor: 'ุทุงููุฉ', options: ['ููุชุจ','ุทุงููุฉ','ูุฑุณู','ููุชุจุฉ','ุฑู','ุฃุฑููุฉ'] },
  { main: 'ูุฑุณู', impostor: 'ููุนุฏ', options: ['ูุฑุณู','ููุนุฏ','ููุจุฉ','ุทุงููุฉ','ููุชุจ','ุณุฑูุฑ'] },
  { main: 'ุณุฌุงุฏุฉ', impostor: 'ููููุช', options: ['ุณุฌุงุฏุฉ','ููููุช','ุณุชุงุฑุฉ','ุทุงููุฉ','ููุจุฉ','ูุฑุณู'] },
  { main: 'ุณุชุงุฑุฉ', impostor: 'ุดุจูุงู', options: ['ุณุชุงุฑุฉ','ุดุจูุงู','ุณุฌุงุฏุฉ','ููุจุฉ','ุทุงููุฉ','ููุชุจุฉ'] },
  { main: 'ูุฑุขุฉ', impostor: 'ููุญุฉ', options: ['ูุฑุขุฉ','ููุญุฉ','ุชุณุฑูุญุฉ','ููููุฏ','ููุจุฉ','ุทุงููุฉ'] },
  { main: 'ููููุฏ', impostor: 'ุชุณุฑูุญุฉ', options: ['ููููุฏ','ุชุณุฑูุญุฉ','ุณุฑูุฑ','ุฏููุงุจ','ูุฑุขุฉ','ูุฑุณู'] },
  { main: 'ุฅุถุงุกุฉ ุฃุฑุถูุฉ', impostor: 'ูุตุจุงุญ', options: ['ุฅุถุงุกุฉ ุฃุฑุถูุฉ','ูุตุจุงุญ','ุซุฑูุง','ุฃุจุงุฌูุฑุฉ','ุทุงููุฉ','ููุจุฉ'] },
  { main: 'ุฃุจุงุฌูุฑุฉ', impostor: 'ูุตุจุงุญ', options: ['ุฃุจุงุฌูุฑุฉ','ูุตุจุงุญ','ุฅุถุงุกุฉ ุฃุฑุถูุฉ','ุซุฑูุง','ูุฑุณู','ููุชุจ'] },
  { main: 'ุซุฑูุง', impostor: 'ูุตุจุงุญ', options: ['ุซุฑูุง','ูุตุจุงุญ','ุฃุจุงุฌูุฑุฉ','ุฅุถุงุกุฉ ุฃุฑุถูุฉ','ุณุชุงุฑุฉ','ุณุฌุงุฏุฉ'] },
  { main: 'ุฑู', impostor: 'ููุชุจุฉ', options: ['ุฑู','ููุชุจุฉ','ุฏููุงุจ','ุทุงููุฉ','ููุชุจ','ูุฑุณู'] },
  { main: 'ุทุงููุฉ ูููุฉ', impostor: 'ุทุงููุฉ ุฌุงูุจูุฉ', options: ['ุทุงููุฉ ูููุฉ','ุทุงููุฉ ุฌุงูุจูุฉ','ููุจุฉ','ูุฑุณู','ุณุฌุงุฏุฉ','ููุชุจุฉ'] },
  { main: 'ุทุงููุฉ ุฌุงูุจูุฉ', impostor: 'ุทุงููุฉ ูููุฉ', options: ['ุทุงููุฉ ุฌุงูุจูุฉ','ุทุงููุฉ ูููุฉ','ููุจุฉ','ูุฑุณู','ุฃุจุงุฌูุฑุฉ','ุณุฌุงุฏุฉ'] },
  { main: 'ุตูุฏูู ุชุฎุฒูู', impostor: 'ุณูุฉ', options: ['ุตูุฏูู ุชุฎุฒูู','ุณูุฉ','ุฏููุงุจ','ุฑู','ููุชุจุฉ','ุทุงููุฉ'] },
  { main: 'ููุญุฉ ุฌุฏุงุฑูุฉ', impostor: 'ูุฑุขุฉ', options: ['ููุญุฉ ุฌุฏุงุฑูุฉ','ูุฑุขุฉ','ุณุชุงุฑุฉ','ุณุฌุงุฏุฉ','ููุจุฉ','ุทุงููุฉ'] }
],

'ูุณูุณูุงุช': [
  { main: 'ุจุงุจ ุงูุญุงุฑุฉ', impostor: 'ุถูุนุฉ ุถุงูุนุฉ', options: ['ุจุงุจ ุงูุญุงุฑุฉ','ุถูุนุฉ ุถุงูุนุฉ','ุงูุนุงุตูู','ุทุงุด ูุง ุทุงุด','ุงูููุจุฉ','ุฑุดุงุด'] },
  { main: 'ุทุงุด ูุง ุทุงุด', impostor: 'ุณูููู', options: ['ุทุงุด ูุง ุทุงุด','ุณูููู','ูุฎุฑุฌ 7','ุดุจุงุจ ุงูุจููุจ','ุงูุนุงุตูู','ุฑุดุงุด'] },
  { main: 'ุงูุนุงุตูู', impostor: 'ุดุจุงุจ ุงูุจููุจ', options: ['ุงูุนุงุตูู','ุดุจุงุจ ุงูุจููุจ','ูุฎุฑุฌ 7','ุทุงุด ูุง ุทุงุด','ุจุงุจ ุงูุญุงุฑุฉ','ุงูููุจุฉ'] },
  { main: 'ุฑุดุงุด', impostor: 'ุงูููุจุฉ', options: ['ุฑุดุงุด','ุงูููุจุฉ','ุงูุนุงุตูู','ุจุงุจ ุงูุญุงุฑุฉ','ูุฑููุฏุฒ','ูุงูุงุณุง ุฏู ุจุงุจูู'] },
  { main: 'ุงูููุจุฉ', impostor: 'ุจุงุจ ุงูุญุงุฑุฉ', options: ['ุงูููุจุฉ','ุจุงุจ ุงูุญุงุฑุฉ','ุฑุดุงุด','ุงูุนุงุตูู','ุจุฑููููู ุจุงุฏ','ุฏุงุฑู'] },
  { main: 'ูุนุจุฉ ุงูุญุจุงุฑ', impostor: 'ูุงูุงุณุง ุฏู ุจุงุจูู', options: ['ูุนุจุฉ ุงูุญุจุงุฑ','ูุงูุงุณุง ุฏู ุจุงุจูู','ุฏุงุฑู','ุดูุฑููู','ูุฑููุฏุฒ','ุจุฑูููู ุจุงุฏ'] },
  { main: 'ูุฑููุฏุฒ', impostor: 'ูุงู ุขู ูุช ููุฑ ูุงุฐุฑ', options: ['ูุฑููุฏุฒ','ูุงู ุขู ูุช ููุฑ ูุงุฐุฑ','ุฐุง ุฃูููุณ','ุดูุฑููู','ุฏุงุฑู','ุจุฑูููู ุจุงุฏ'] },
  { main: 'ุฐุง ุฃูููุณ', impostor: 'ุจุงุฑูุณ ุขูุฏ ุฑูู', options: ['ุฐุง ุฃูููุณ','ุจุงุฑูุณ ุขูุฏ ุฑูู','ูุฑููุฏุฒ','ููุฏุฑู ูุงูููู','ุจูุบ ุจุงูุบ','ุดูุฑููู'] },
  { main: 'ุจุฑูููู ุจุงุฏ', impostor: 'ุจูุชุฑ ููู ุณูู', options: ['ุจุฑูููู ุจุงุฏ','ุจูุชุฑ ููู ุณูู','ุฏุงุฑู','ุดูุฑููู','ูุงูุณุช','ูุงูููุบุฒ'] },
  { main: 'ุฏุงุฑู', impostor: 'ูุงูุณุช', options: ['ุฏุงุฑู','ูุงูุณุช','ุดูุฑููู','ูุงูุงุณุง ุฏู ุจุงุจูู','ูุนุจุฉ ุงูุญุจุงุฑ','ุจููู ุจูุงููุฏุฑุฒ'] },
  { main: 'ุดูุฑููู', impostor: 'ุฏูุชูุฑ ูุงูุณ', options: ['ุดูุฑููู','ุฏูุชูุฑ ูุงูุณ','ุฏุงุฑู','ูุฑููุฏุฒ','ุฐุง ุฃูููุณ','ุจูุบ ุจุงูุบ'] },
  { main: 'ุจููู ุจูุงููุฏุฑุฒ', impostor: 'ูุงุฑููุณ', options: ['ุจููู ุจูุงููุฏุฑุฒ','ูุงุฑููุณ','ูุงูุงุณุง ุฏู ุจุงุจูู','ุจุฑูููู ุจุงุฏ','ุฏุงุฑู','ูุงูููุบุฒ'] },
  { main: 'ูุงุฑููุณ', impostor: 'ูุงูุงุณุง ุฏู ุจุงุจูู', options: ['ูุงุฑููุณ','ูุงูุงุณุง ุฏู ุจุงุจูู','ุจููู ุจูุงููุฏุฑุฒ','ุจุฑูููู ุจุงุฏ','ุดูุฑููู','ุฏุงุฑู'] },
  { main: 'ูุงูููุบุฒ', impostor: 'ููุงูุฉ ุฃุฑุทุบุฑู', options: ['ูุงูููุบุฒ','ููุงูุฉ ุฃุฑุทุบุฑู','ุงููุคุณุณ ุนุซูุงู','ุจููู ุจูุงููุฏุฑุฒ','ุฏุงุฑู','ุดูุฑููู'] },
  { main: 'ููุงูุฉ ุฃุฑุทุบุฑู', impostor: 'ุงููุคุณุณ ุนุซูุงู', options: ['ููุงูุฉ ุฃุฑุทุบุฑู','ุงููุคุณุณ ุนุซูุงู','ูุงูููุบุฒ','ุจุงุจ ุงูุญุงุฑุฉ','ุงูููุจุฉ','ุฑุดุงุด'] },
  { main: 'ุงููุคุณุณ ุนุซูุงู', impostor: 'ููุงูุฉ ุฃุฑุทุบุฑู', options: ['ุงููุคุณุณ ุนุซูุงู','ููุงูุฉ ุฃุฑุทุบุฑู','ูุงูููุบุฒ','ุดูุฑููู','ุฏุงุฑู','ูุงูุงุณุง ุฏู ุจุงุจูู'] },
  { main: 'ููุฏุฑู ูุงูููู', impostor: 'ุจูุบ ุจุงูุบ', options: ['ููุฏุฑู ูุงูููู','ุจูุบ ุจุงูุบ','ูุฑููุฏุฒ','ุฐุง ุฃูููุณ','ูุงู ุขู ูุช ููุฑ ูุงุฐุฑ','ุดูุฑููู'] },
  { main: 'ุจูุบ ุจุงูุบ', impostor: 'ููุฏุฑู ูุงูููู', options: ['ุจูุบ ุจุงูุบ','ููุฏุฑู ูุงูููู','ูุฑููุฏุฒ','ุฐุง ุฃูููุณ','ุณูููู','ุทุงุด ูุง ุทุงุด'] },
  { main: 'ูุง ูุงุณุง ุฏู ุจุงุจูู', impostor: 'ูุนุจุฉ ุงูุญุจุงุฑ', options: ['ูุงูุงุณุง ุฏู ุจุงุจูู','ูุนุจุฉ ุงูุญุจุงุฑ','ูุงุฑููุณ','ุจููู ุจูุงููุฏุฑุฒ','ุฏุงุฑู','ุดูุฑููู'] },
  { main: 'ูุงูุณุช', impostor: 'ุฏุงุฑู', options: ['ูุงูุณุช','ุฏุงุฑู','ุดูุฑููู','ุจุฑูููู ุจุงุฏ','ูุงุฑููุณ','ูุงูุงุณุง ุฏู ุจุงุจูู'] }
],
        'ูุงุนุจูู': [
  { main: 'ูุฑูุณุชูุงูู ุฑููุงูุฏู', impostor: 'ูุฑูู ุจูุฒููุง', options: ['ูุฑูุณุชูุงูู ุฑููุงูุฏู','ูุฑูู ุจูุฒููุง','ูููููู ููุณู','ูููุงุฑ','ูุจุงุจู','ูุญูุฏ ุตูุงุญ'] },
  { main: 'ูููููู ููุณู', impostor: 'ูููุงุฑ', options: ['ูููููู ููุณู','ูููุงุฑ','ูุจุงุจู','ุฑููุงูุฏู','ุณูุงุฑูุฒ','ูุงูุงูุฏ'] },
  { main: 'ูุญูุฏ ุตูุงุญ', impostor: 'ุณุงุฏูู ูุงูู', options: ['ูุญูุฏ ุตูุงุญ','ุณุงุฏูู ูุงูู','ุฑูุงุถ ูุญุฑุฒ','ูุจุงุจู','ุจูุฒููุง','ููููุณููุณ'] },
  { main: 'ููููุงู ูุจุงุจู', impostor: 'ููููุณููุณ ุฌููููุฑ', options: ['ููููุงู ูุจุงุจู','ููููุณููุณ ุฌููููุฑ','ูุงูุงูุฏ','ูููุงุฑ','ููุณู','ุฑููุงูุฏู'] },
  { main: 'ุฅูุฑูููุบ ูุงูุงูุฏ', impostor: 'ูุงุฑู ููู', options: ['ุฅูุฑูููุบ ูุงูุงูุฏ','ูุงุฑู ููู','ูุจุงุจู','ููุณู','ุจูุฒููุง','ูููุงูุฏููุณูู'] },
  { main: 'ูุฑูู ุจูุฒููุง', impostor: 'ุฑููุงูุฏู', options: ['ูุฑูู ุจูุฒููุง','ุฑููุงูุฏู','ููุณู','ูุงูุงูุฏ','ููุฏุฑูุชุด','ููููุณููุณ'] },
  { main: 'ูููุงุฑ', impostor: 'ูุจุงุจู', options: ['ูููุงุฑ','ูุจุงุจู','ููุณู','ุฑููุงูุฏู','ุฑุงููููุง','ููููุณููุณ'] },
  { main: 'ุฑูุงุถ ูุญุฑุฒ', impostor: 'ูุญูุฏ ุตูุงุญ', options: ['ุฑูุงุถ ูุญุฑุฒ','ูุญูุฏ ุตูุงุญ','ูุงูู','ุจูุฒููุง','ูุจุงุจู','ูููุงุฑ'] },
  { main: 'ุณุงุฏูู ูุงูู', impostor: 'ูุญูุฏ ุตูุงุญ', options: ['ุณุงุฏูู ูุงูู','ูุญูุฏ ุตูุงุญ','ุฑูุงุถ ูุญุฑุฒ','ุฑููุงูุฏู','ุจูุฒููุง','ููุณู'] },
  { main: 'ูููุง ููุฏุฑูุชุด', impostor: 'ุชููู ูุฑูุณ', options: ['ูููุง ููุฏุฑูุชุด','ุชููู ูุฑูุณ','ุฏู ุจุฑููู','ุจููููุบูุงู','ูุงุณูููุฑู','ุชุดูุงูููู'] },
  { main: 'ุฌูุฏ ุจููููุบูุงู', impostor: 'ูุงูุงูููุบุง', options: ['ุฌูุฏ ุจููููุบูุงู','ูุงูุงูููุบุง','ุชุดูุงูููู','ููุฏุฑูุชุด','ุฏู ุจุฑููู','ูุฑูุณ'] },
  { main: 'ููููู ุฏู ุจุฑููู', impostor: 'ุจุฑูุงุฑุฏู ุณูููุง', options: ['ููููู ุฏู ุจุฑููู','ุจุฑูุงุฑุฏู ุณูููุง','ููุฏูู','ูุงูุงูุฏ','ููุฏุฑูุชุด','ูุฑูุณ'] },
  { main: 'ุฑูุจุฑุช ูููุงูุฏููุณูู', impostor: 'ูุงูุงูุฏ', options: ['ุฑูุจุฑุช ูููุงูุฏููุณูู','ูุงูุงูุฏ','ูุจุงุจู','ุจูุฒููุง','ููุณู','ุณูุงุฑูุฒ'] },
  { main: 'ูููุณ ุณูุงุฑูุฒ', impostor: 'ูุงฺคุงูู', options: ['ูููุณ ุณูุงุฑูุฒ','ูุงฺคุงูู','ููุณู','ูููุงุฑ','ุฑููุงูุฏู','ูุงูุงูุฏ'] },
  { main: 'ููููุณููุณ ุฌููููุฑ', impostor: 'ุฑูุฏุฑูุบู', options: ['ููููุณููุณ ุฌููููุฑ','ุฑูุฏุฑูุบู','ูุจุงุจู','ูููุงุฑ','ุจูุฒููุง','ููุณู'] },
  { main: 'ุฑูุฏุฑูุบู', impostor: 'ููููุณููุณ ุฌููููุฑ', options: ['ุฑูุฏุฑูุบู','ููููุณููุณ ุฌููููุฑ','ุจููููุบูุงู','ูุงูุงูุฏ','ูุจุงุจู','ููุฏุฑูุชุด'] },
  { main: 'ูุงุฑู ููู', impostor: 'ุณูู ููููุบ ููู', options: ['ูุงุฑู ููู','ุณูู ููููุบ ููู','ูุงูุงูุฏ','ูููุงูุฏููุณูู','ูุจุงุจู','ุฑููุงูุฏู'] },
  { main: 'ุณูู ููููุบ ููู', impostor: 'ูุงุฑู ููู', options: ['ุณูู ููููุบ ููู','ูุงุฑู ููู','ูุจุงุจู','ูููุงุฑ','ููุณู','ูุงูุงูุฏ'] },
  { main: 'ุฃุดุฑู ุญูููู', impostor: 'ูุงูุณููู', options: ['ุฃุดุฑู ุญูููู','ูุงูุณููู','ุฃุฑูููุฏ','ูุงุฑูุงุฎุงู','ูููุฑ','ุฃูุงุจุง'] },
  { main: 'ููุฑุฌูู ูุงู ุฏุงูู', impostor: 'ุฑูุจู ุฏูุงุฒ', options: ['ููุฑุฌูู ูุงู ุฏุงูู','ุฑูุจู ุฏูุงุฒ','ุฑุงููุณ','ุจูุจู','ุฃูุงุจุง','ูุงุฑูููููุณ'] }
],
'ุฃูุฏูุฉ': [
  { main: 'ุงููุตุฑ', impostor: 'ุงูููุงู', options: ['ุงููุตุฑ','ุงูููุงู','ุงูุงุชุญุงุฏ','ุงูุฃููู','ุงูุดุจุงุจ','ุงูุงุชูุงู'] },
  { main: 'ุงูููุงู', impostor: 'ุงููุตุฑ', options: ['ุงูููุงู','ุงููุตุฑ','ุงูุงุชุญุงุฏ','ุงูุฃููู','ุงูุดุจุงุจ','ุงูููุญุงุก'] },
  { main: 'ุงูุงุชุญุงุฏ', impostor: 'ุงูุฃููู', options: ['ุงูุงุชุญุงุฏ','ุงูุฃููู','ุงููุตุฑ','ุงูููุงู','ุงูุทุงุฆู','ุงูุชุนุงูู'] },
  { main: 'ุงูุฃููู', impostor: 'ุงูุงุชุญุงุฏ', options: ['ุงูุฃููู','ุงูุงุชุญุงุฏ','ุงูููุงู','ุงููุตุฑ','ุงูุดุจุงุจ','ุงููุชุญ'] },
  { main: 'ุงูุดุจุงุจ', impostor: 'ุงูุงุชูุงู', options: ['ุงูุดุจุงุจ','ุงูุงุชูุงู','ุงููุตุฑ','ุงูููุงู','ุงูุฑูุงุถ','ุงูููุตูู'] },
  { main: 'ุฑูุงู ูุฏุฑูุฏ', impostor: 'ุจุฑุดูููุฉ', options: ['ุฑูุงู ูุฏุฑูุฏ','ุจุฑุดูููุฉ','ุฃุชูุชููู ูุฏุฑูุฏ','ูุงููุณูุง','ุฅุดุจูููุฉ','ุจุงูุฑู ููููุฎ'] },
  { main: 'ุจุฑุดูููุฉ', impostor: 'ุฑูุงู ูุฏุฑูุฏ', options: ['ุจุฑุดูููุฉ','ุฑูุงู ูุฏุฑูุฏ','ุฃุชูุชููู ูุฏุฑูุฏ','ุฅุดุจูููุฉ','ูุงููุณูุง','ุจุงุฑูุณ ุณุงู ุฌูุฑูุงู'] },
  { main: 'ูุงูุดุณุชุฑ ุณูุชู', impostor: 'ูุงูุดุณุชุฑ ูููุงูุชุฏ', options: ['ูุงูุดุณุชุฑ ุณูุชู','ูุงูุดุณุชุฑ ูููุงูุชุฏ','ูููุฑุจูู','ุฃุฑุณูุงู','ุชุดููุณู','ุชูุชููุงู'] },
  { main: 'ูููุฑุจูู', impostor: 'ูุงูุดุณุชุฑ ูููุงูุชุฏ', options: ['ูููุฑุจูู','ูุงูุดุณุชุฑ ูููุงูุชุฏ','ุฃุฑุณูุงู','ุชุดููุณู','ูุงูุดุณุชุฑ ุณูุชู','ุชูุชููุงู'] },
  { main: 'ุจุงูุฑู ููููุฎ', impostor: 'ุจูุฑูุณูุง ุฏูุฑุชูููุฏ', options: ['ุจุงูุฑู ููููุฎ','ุจูุฑูุณูุง ุฏูุฑุชูููุฏ','ูุงูุจุฒูุบ','ูููุฑููุฒู','ุฑูุงู ูุฏุฑูุฏ','ุจุฑุดูููุฉ'] },
  { main: 'ุจุงุฑูุณ ุณุงู ุฌูุฑูุงู', impostor: 'ูุงุฑุณูููุง', options: ['ุจุงุฑูุณ ุณุงู ุฌูุฑูุงู','ูุงุฑุณูููุง','ูููู','ูููุงูู','ุจุฑุดูููุฉ','ุฑูุงู ูุฏุฑูุฏ'] },
  { main: 'ููููุชูุณ', impostor: 'ูููุงู', options: ['ููููุชูุณ','ูููุงู','ุฅูุชุฑ','ูุงุจููู','ุฑููุง','ูุงุชุณูู'] },
  { main: 'ุฅูุชุฑ', impostor: 'ูููุงู', options: ['ุฅูุชุฑ','ูููุงู','ููููุชูุณ','ูุงุจููู','ุฑููุง','ูุงุชุณูู'] },
  { main: 'ูุงุจููู', impostor: 'ุฑููุง', options: ['ูุงุจููู','ุฑููุง','ูููุงู','ุฅูุชุฑ','ููููุชูุณ','ูุงุชุณูู'] },
  { main: 'ุฃุฑุณูุงู', impostor: 'ุชุดููุณู', options: ['ุฃุฑุณูุงู','ุชุดููุณู','ูููุฑุจูู','ูุงูุดุณุชุฑ ุณูุชู','ุชูุชููุงู','ูุงูุดุณุชุฑ ูููุงูุชุฏ'] },
  { main: 'ุชุดููุณู', impostor: 'ุฃุฑุณูุงู', options: ['ุชุดููุณู','ุฃุฑุณูุงู','ูููุฑุจูู','ูุงูุดุณุชุฑ ูููุงูุชุฏ','ูุงูุดุณุชุฑ ุณูุชู','ุชูุชููุงู'] },
  { main: 'ุชูุชููุงู', impostor: 'ุฃุฑุณูุงู', options: ['ุชูุชููุงู','ุฃุฑุณูุงู','ุชุดููุณู','ูููุฑุจูู','ูุงูุดุณุชุฑ ุณูุชู','ูุงูุดุณุชุฑ ูููุงูุชุฏ'] },
  { main: 'ุฃุชูุชููู ูุฏุฑูุฏ', impostor: 'ุฑูุงู ูุฏุฑูุฏ', options: ['ุฃุชูุชููู ูุฏุฑูุฏ','ุฑูุงู ูุฏุฑูุฏ','ุจุฑุดูููุฉ','ุฅุดุจูููุฉ','ูุงููุณูุง','ุจุงูุฑู ููููุฎ'] },
  { main: 'ุจูุฑูุณูุง ุฏูุฑุชูููุฏ', impostor: 'ุจุงูุฑู ููููุฎ', options: ['ุจูุฑูุณูุง ุฏูุฑุชูููุฏ','ุจุงูุฑู ููููุฎ','ูุงูุจุฒูุบ','ูููุฑููุฒู','ุฑูุงู ูุฏุฑูุฏ','ุจุฑุดูููุฉ'] },
  { main: 'ุงูููุงู ุงูุณุนูุฏู', impostor: 'ุงููุตุฑ', options: ['ุงูููุงู ุงูุณุนูุฏู','ุงููุตุฑ','ุงูุงุชุญุงุฏ','ุงูุฃููู','ุงูุดุจุงุจ','ุงูุชุนุงูู'] }
]
        

        };

        // ุญุงูุฉ ุงููุนุจุฉ
        let state = {
            roomCode: '',
            playerId: '',
            playerName: '',
            isHost: false,
            category: 'ุญููุงูุงุช',
            roomData: null
        };
        
        // ูุชุบูุฑ ูุชุฎุฒูู ุงููุฆุฉ ุงููุฎุชุงุฑุฉ ูุคูุชุงู
        let selectedCategory = 'ุญููุงูุงุช';
        let selectedCategoryForNextRound = 'ุญููุงูุงุช';
        let lastScoredRound = null;

        // ุฃุฒุฑุงุฑ ุงูุชููู ููุดุงุดุงุช
        document.getElementById('goToCreateBtn').addEventListener('click', () => {
            showScreen('createRoomScreen');
        });

        document.getElementById('goToJoinBtn').addEventListener('click', () => {
            showScreen('joinRoomScreen');
        });

        document.getElementById('backFromCreate').addEventListener('click', () => {
            showScreen('homeScreen');
        });

        document.getElementById('backFromJoin').addEventListener('click', () => {
            showScreen('homeScreen');
        });

        // ุฃุฒุฑุงุฑ ุงููุฆุงุช ูู ุดุงุดุฉ ุงูุฅูุดุงุก
        document.querySelectorAll('#createRoomScreen .category-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('#createRoomScreen .category-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                selectedCategory = this.dataset.category;
            });
        });

        document.getElementById('winScoreSlider').addEventListener('input', function(e) {
            document.getElementById('winScoreDisplay').textContent = e.target.value;
        });

        // ุฒุฑ ุชุฃููุฏ ุฅูุดุงุก ุงูุบุฑูุฉ
        document.getElementById('confirmCreateBtn').addEventListener('click', async (e) => {
            e.preventDefault();
            console.log('๐ ุชู ุงูุถุบุท ุนูู ุฒุฑ ุฅูุดุงุก ุงูุบุฑูุฉ');
            
            const name = document.getElementById('hostName').value.trim();
            if (!name) {
                alert('ุฃุฏุฎู ุงุณูู ุฃููุงู!');
                return;
            }

            console.log('๐ค ุงูุงุณู:', name);

            if (!db) {
                console.log('โ Firebase ุบูุฑ ุฌุงูุฒ');
                alert('โ๏ธ ููุนุจ ุฃูููุงูู:\n\n1. ุงุฑูุน ุงูููู ุนูู ูููุน (Netlify)\n2. ุงูุชุญ ุงูุฑุงุจุท ูู ุงููุชุตูุญ\n\nุงูุขู ุงูููู ููุชูุญ ูุญููุงู โ');
                console.log('๐ก ุงุฑูุน ุงูููู ุนูู: https://app.netlify.com/drop');
                return;
            }

            console.log('โ Firebase ุฌุงูุฒ - ุฌุงุฑู ุฅูุดุงุก ุงูุบุฑูุฉ...');

            const code = Math.floor(1000 + Math.random() * 9000).toString();
            const playerId = Date.now().toString();

            const winScore = parseInt(document.getElementById('winScoreSlider').value) || 5;

            const room = {
                code,
                host: playerId,
                category: selectedCategory,
                winScore: winScore,
                state: 'lobby',
                players: {},
                scores: {},
                currentRound: null
            };

            room.players[playerId] = { name, ready: false };
            room.scores[playerId] = 0;

            try {
                await db.ref(`rooms/${code}`).set(room);
                console.log('โ ุชู ุฅูุดุงุก ุงูุบุฑูุฉ:', code);
                
                state.roomCode = code;
                state.playerId = playerId;
                state.playerName = name;
                state.isHost = true;
                state.category = selectedCategory;

                listenToRoom();
                showScreen('lobbyScreen');
            } catch (e) {
                console.error('โ ุฎุทุฃ:', e);
                alert('ุฎุทุฃ ูู ุฅูุดุงุก ุงูุบุฑูุฉ!\n\n' + e.message);
            }
        });

        // ุฒุฑ ุชุฃููุฏ ุงูุงูุถูุงู
        document.getElementById('confirmJoinBtn').addEventListener('click', async () => {
            const name = document.getElementById('joinPlayerName').value.trim();
            const code = document.getElementById('joinRoomCode').value.trim();

            if (!name || !code) {
                alert('ุฃุฏุฎู ุงุณูู ูููุฏ ุงูุบุฑูุฉ!');
                return;
            }

            if (!db) {
                alert('ูุฑุฌู ุงูุงูุชุธุงุฑ... ุฌุงุฑู ุงูุชุญููู');
                return;
            }

            try {
                const snapshot = await db.ref(`rooms/${code}`).once('value');
                if (!snapshot.exists()) {
                    alert('ุงูุบุฑูุฉ ุบูุฑ ููุฌูุฏุฉ!');
                    return;
                }

                const playerId = Date.now().toString();
                await db.ref(`rooms/${code}/players/${playerId}`).set({ name, ready: false });
                await db.ref(`rooms/${code}/scores/${playerId}`).set(0);

                state.roomCode = code;
                state.playerId = playerId;
                state.playerName = name;
                state.isHost = false;

                listenToRoom();
                showScreen('lobbyScreen');
            } catch (e) {
                alert('ุฎุทุฃ ูู ุงูุงูุถูุงู: ' + e.message);
            }
        });

        function listenToRoom() {
            roomRef = db.ref(`rooms/${state.roomCode}`);
            roomRef.on('value', (snapshot) => {
                state.roomData = snapshot.val();
                updateUI();
            });
        }

        function updateUI() {
            if (!state.roomData) return;

            const currentState = state.roomData.state;

            if (currentState === 'lobby') {
                showScreen('lobbyScreen');
                // ุชูุธูู ุงุณู ุงููุฆุฉ ุฅุฐุง ููู ููุทุชูู ุฒูุงุฏุฉ
                if (state.isHost && state.roomData.category && state.roomData.category.endsWith(':')) {
                    var cleanCat = state.roomData.category.replace(/:$/, '');
                    roomRef.update({ category: cleanCat });
                }
                updateLobby();
            } else if (currentState === 'revealing') {
                showWordScreen();
            } else if (currentState === 'questions') {
                showQuestionsScreen();
            } else if (currentState === 'freeQuestions') {
                showFreeQuestionsScreen();
            } else if (currentState === 'discussing') {
                showScreen('discussScreen');
                document.getElementById('hostDiscuss').classList.toggle('hidden', !state.isHost);
                document.getElementById('waitDiscuss').classList.toggle('hidden', state.isHost);
            } else if (currentState === 'voting') {
                if (state.roomData && state.roomData.players) {
                    console.log('๐ณ๏ธ ุนุฑุถ ุดุงุดุฉ ุงูุชุตููุช - ุนุฏุฏ ุงููุงุนุจูู:', Object.keys(state.roomData.players).length);
                    showVoteScreen();
                    
                    if (state.isHost) {
                        const round = state.roomData.currentRound;
                        const players = Object.keys(state.roomData.players);
                        const votes = round.votes || {};
                        const voteCount = Object.keys(votes).length;
                        
                        console.log(`๐ ุงูุฃุตูุงุช: ${voteCount}/${players.length}`);
                        
                        if (voteCount >= players.length) {
                            console.log('โ ุฌููุน ุงููุงุนุจูู ุตููุชูุง - ุงูุงูุชูุงู ูุดุงุดุฉ ุงูุชุฎููู');
                            setTimeout(() => {
                                roomRef.update({ state: 'waitingGuess' });
                            }, 1000);
                        }
                    }
                } else {
                    console.error('โ๏ธ ูุง ุชูุฌุฏ ุจูุงูุงุช ูุงุนุจูู!');
                }
            } else if (currentState === 'waitingGuess') {
                const round = state.roomData.currentRound;
                const players = state.roomData.players;
                
                if (state.playerId === round.impostorId) {
                    console.log('๐ฏ ุนุฑุถ ุดุงุดุฉ ุงูุชุฎููู ูููุชุทูู');
                    showGuessScreen();
                } else {
                    console.log('โณ ุนุฑุถ ุดุงุดุฉ ุงูุงูุชุธุงุฑ');
                    showScreen('waitingGuessScreen');
                    document.getElementById('impostorNameWait').textContent = players[round.impostorId].name;
                    
                    if (state.isHost) {
                        if (round.impostorGuessReady || round.impostorGuess) {
                            console.log('๐ ุงูููุณุช ููุงุญุธ ุฃู ุงููู ุจุฑุง ุงูุณุงููุฉ ุฎููู - ููุชูู ูููุชุงุฆุฌ');
                            setTimeout(() => {
                                roomRef.update({ state: 'results' });
                            }, 1500);
                        }
                    }
                }
            } else if (currentState === 'results') {
                showResults();
            }
        }

        function updateLobby() {
            document.getElementById('displayCode').textContent = state.roomCode;
            document.getElementById('displayCategory').textContent = state.roomData.category;
            document.getElementById('displayWinScore').textContent = state.roomData.winScore || 5;

            const players = Object.values(state.roomData.players || {});
            document.getElementById('playerCount').textContent = players.length;

            const list = document.getElementById('playerList');
            list.innerHTML = '';
            Object.entries(state.roomData.players || {}).forEach(([id, player]) => {
                const div = document.createElement('div');
                div.className = 'player-item';
                const score = state.roomData.scores[id] || 0;
                div.innerHTML = `
                    <div>
                        <span class="player-name">๐ค ${player.name}</span>
                        ${id === state.roomData.host ? '<span class="host-badge">ูุถูู</span>' : ''}
                    </div>
                    <span class="points">${score} ๐</span>
                `;
                list.appendChild(div);
            });

            document.getElementById('minWarning').classList.toggle('hidden', players.length >= 3);
            document.getElementById('hostControls').classList.toggle('hidden', !state.isHost);
            
            const categorySection = document.getElementById('categorySection');
            if (categorySection) {
                categorySection.style.display = state.isHost ? 'block' : 'none';
            }

            document.querySelectorAll('#lobbyScreen .category-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.category === state.roomData.category);
            });
        }

        document.addEventListener('click', async (e) => {
            if (e.target.closest('.category-btn') && state.isHost && state.roomData) {
                const btn = e.target.closest('.category-btn');
                const category = btn.dataset.category;
                
                document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                await roomRef.update({ category });
            }
        });

        document.getElementById('copyBtn').addEventListener('click', () => {
            navigator.clipboard.writeText(state.roomCode);
            alert('ุชู ูุณุฎ ุงูููุฏ! ๐');
        });

        document.getElementById('startBtn').addEventListener('click', async () => {
            const players = Object.keys(state.roomData.players);
            if (players.length < 3) {
                alert('ุชุญุชุงุฌ 3 ูุงุนุจูู ุนูู ุงูุฃูู!');
                return;
            }

            const category = state.roomData.category;
            const words = wordSets[category];
            if (!words || words.length === 0) {
                alert('ุฎุทุฃ: ูุง ุชูุฌุฏ ูููุงุช ููุฐู ุงููุฆุฉ! ุงุฎุชุฑ ูุฆุฉ ุซุงููุฉ.');
                return;
            }
            const selected = words[Math.floor(Math.random() * words.length)];
            const impostorIdx = Math.floor(Math.random() * players.length);
            const impostorId = players[impostorIdx];

            const round = {
                mainWord: selected.main,
                impostorWord: selected.impostor,
                impostorId,
                playerWords: {},
                votes: {},
                impostorGuess: null
            };

            players.forEach((id, idx) => {
                round.playerWords[id] = {
                    word: idx === impostorIdx ? selected.impostor : selected.main,
                    isImpostor: idx === impostorIdx
                };
            });

            await roomRef.update({
                state: 'revealing',
                currentRound: round
            });
        });

        function showWordScreen() {
            showScreen('wordScreen');
            document.getElementById('beforeReveal').classList.remove('hidden');
            document.getElementById('afterReveal').classList.add('hidden');
        }

        document.getElementById('revealBtn').addEventListener('click', () => {
            const round = state.roomData.currentRound;
            const myData = round.playerWords[state.playerId];

            document.getElementById('myWord').textContent = myData.word;
            document.getElementById('impostorBadge').classList.toggle('hidden', !myData.isImpostor);
            document.getElementById('beforeReveal').classList.add('hidden');
            document.getElementById('afterReveal').classList.remove('hidden');

            document.getElementById('hostNext').classList.toggle('hidden', !state.isHost);
            document.getElementById('waitingHost').classList.toggle('hidden', state.isHost);
        });

        document.getElementById('nextPhaseBtn').addEventListener('click', async () => {
            console.log('๐ฏ ุจุฏุก ูุธุงู ุงูุฃุณุฆูุฉ ุงูููุธูุฉ');
            
            const playerIds = Object.keys(state.roomData.players);
            
            function shuffle(array) {
                const shuffled = [...array];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled;
            }
            
            const shuffledAskers = shuffle(playerIds);
            const shuffledAnswerers = shuffle(playerIds);
            
            const questions = [];
            for (let i = 0; i < shuffledAskers.length; i++) {
                let answererIndex = i;
                if (shuffledAskers[i] === shuffledAnswerers[answererIndex]) {
                    answererIndex = (i + 1) % shuffledAnswerers.length;
                }
                
                questions.push({
                    asker: shuffledAskers[i],
                    answerer: shuffledAnswerers[answererIndex]
                });
            }

            console.log('๐ ุชู ุฅูุดุงุก', questions.length, 'ุณุคุงู');
            
            await roomRef.update({ 
                state: 'questions',
                'currentRound/questions': questions,
                'currentRound/currentQuestionIndex': 0
            });
        });

        document.getElementById('nextQuestionBtn').addEventListener('click', async () => {
            console.log('โก๏ธ ุงูุงูุชูุงู ููุณุคุงู ุงูุชุงูู');
            const round = state.roomData.currentRound;
            const currentIndex = round.currentQuestionIndex || 0;
            const nextIndex = currentIndex + 1;
            
            await roomRef.update({
                'currentRound/currentQuestionIndex': nextIndex
            });
        });

        document.getElementById('endFreeQuestionsBtn').addEventListener('click', async () => {
            console.log('โ ุฅููุงุก ุงูุฃุณุฆูุฉ ุงูุญุฑุฉ ูุงูุงูุชูุงู ููุชุตููุช');
            await roomRef.update({ state: 'voting' });
        });

        document.getElementById('startVoteBtn').addEventListener('click', async () => {
            await roomRef.update({ state: 'voting' });
        });

        function showVoteScreen() {
            console.log('๐ ุจุฏุก ุนุฑุถ ุดุงุดุฉ ุงูุชุตููุช');
            showScreen('voteScreen');
            
            const round = state.roomData.currentRound;
            const players = state.roomData.players;

            console.log('๐ฅ ุงูุจูุงูุงุช ุงููุงููุฉ:', {players, round, myId: state.playerId});

            if (round.votes && round.votes[state.playerId]) {
                console.log('โ ุงููุงุนุจ ุตููุช ุจุงููุนู');
                document.getElementById('voteWaiting').classList.remove('hidden');
                document.getElementById('voteGrid').innerHTML = '';
                return;
            }

            const grid = document.getElementById('voteGrid');
            grid.innerHTML = '';
            document.getElementById('voteWaiting').classList.add('hidden');

            let count = 0;

            Object.entries(players).forEach(([playerId, playerData]) => {
                if (playerId !== state.playerId) {
                    console.log(`โ ุฅุถุงูุฉ: ${playerData.name}`);
                    
                    const card = document.createElement('div');
                    card.setAttribute('style', `
                        background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%) !important;
                        border: 5px solid #d97706 !important;
                        border-radius: 20px !important;
                        padding: 30px 20px !important;
                        margin: 10px !important;
                        text-align: center !important;
                        cursor: pointer !important;
                        transition: all 0.3s ease !important;
                        box-shadow: 0 10px 30px rgba(0,0,0,0.4), inset 0 2px 10px rgba(255,255,255,0.3) !important;
                        min-height: 180px !important;
                        display: flex !important;
                        flex-direction: column !important;
                        align-items: center !important;
                        justify-content: center !important;
                        position: relative !important;
                    `);
                    
                    card.innerHTML = `
                        <div style="
                            font-size: 60px !important;
                            margin-bottom: 20px !important;
                            user-select: none !important;
                            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3)) !important;
                        ">๐ค</div>
                        <div style="
                            font-size: 28px !important;
                            font-weight: 900 !important;
                            color: #1f2937 !important;
                            text-shadow: 
                                1px 1px 0 #fff,
                                -1px -1px 0 #fff,
                                1px -1px 0 #fff,
                                -1px 1px 0 #fff,
                                0 2px 4px rgba(255,255,255,0.8) !important;
                            background: #ffffff !important;
                            padding: 15px 25px !important;
                            border-radius: 15px !important;
                            border: 3px solid #1f2937 !important;
                            min-width: 140px !important;
                            font-family: 'Cairo', sans-serif !important;
                            box-shadow: 0 4px 15px rgba(0,0,0,0.2) !important;
                            letter-spacing: 0.5px !important;
                        ">${playerData.name}</div>
                    `;
                    
                    card.onmouseover = function() {
                        this.style.transform = 'translateY(-8px) scale(1.05)';
                        this.style.boxShadow = '0 20px 45px rgba(251, 191, 36, 0.6), inset 0 2px 10px rgba(255,255,255,0.4)';
                        this.style.borderColor = '#b45309';
                    };
                    
                    card.onmouseout = function() {
                        this.style.transform = 'translateY(0) scale(1)';
                        this.style.boxShadow = '0 10px 30px rgba(0,0,0,0.4), inset 0 2px 10px rgba(255,255,255,0.3)';
                        this.style.borderColor = '#d97706';
                    };
                    
                    card.onclick = () => {
                        console.log(`๐ณ๏ธ ุงูุชุตููุช ุนูู: ${playerData.name}`);
                        card.style.background = 'linear-gradient(135deg, #10b981 0%, #059669 100%)';
                        card.style.borderColor = '#047857';
                        vote(playerId);
                    };
                    
                    grid.appendChild(card);
                    count++;
                }
            });

            console.log(`โ ุชู ุฅุถุงูุฉ ${count} ุจุทุงูุฉ`);
            
            if (count === 0) {
                console.error('โ๏ธ ูุง ุชูุฌุฏ ุจุทุงูุงุช!');
                grid.innerHTML = '<p style="color: white; font-size: 24px; text-align: center; padding: 40px;">ุฎุทุฃ: ูุง ุชูุฌุฏ ุจูุงูุงุช</p>';
            }
        }

        async function vote(votedId) {
            console.log('๐ณ๏ธ ุงูุชุตููุช ุนูู:', votedId);
            await roomRef.child(`currentRound/votes/${state.playerId}`).set(votedId);
            document.getElementById('voteWaiting').classList.remove('hidden');
            console.log('โ ุชู ุฅุฑุณุงู ุงูุตูุช');
        }
        
        function showGuessScreen() {
            console.log('๐ฏ ุนุฑุถ ุดุงุดุฉ ุงูุชุฎููู ูููุชุทูู');
            showScreen('guessScreen');
            
            const round = state.roomData.currentRound;
            const category = state.roomData.category;
            
            console.log('๐ ุงููุฆุฉ:', category);
            console.log('๐ ุงููููุฉ ุงูุฑุฆูุณูุฉ:', round.mainWord);
            
            const usedWordSet = wordSets[category].find(set => 
                set.main === round.mainWord
            );
            
            console.log('๐ ูุฌููุนุฉ ุงููููุงุช:', usedWordSet);
            
            if (!usedWordSet || !usedWordSet.options) {
                console.error('โ ูู ูุชู ุงูุนุซูุฑ ุนูู ุฎูุงุฑุงุช ูููููุฉ');
                alert('ุฎุทุฃ: ูู ูุชู ุงูุนุซูุฑ ุนูู ุฎูุงุฑุงุช!');
                return;
            }
            
            console.log('โ ุงูุฎูุงุฑุงุช:', usedWordSet.options);
            
            const optionsDiv = document.getElementById('guessOptions');
            optionsDiv.innerHTML = '';
            optionsDiv.style.display = 'grid';
            
            usedWordSet.options.forEach((option, index) => {
                console.log(`โ ุฅุถุงูุฉ ุฎูุงุฑ ${index + 1}:`, option);
                
                const card = document.createElement('div');
                card.className = 'vote-card';
                card.textContent = option;
                
                card.style.cursor = 'pointer';
                card.style.fontSize = '28px';
                card.style.fontWeight = '900';
                card.style.padding = '40px 20px';
                card.style.background = 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)';
                card.style.border = '5px solid #d97706';
                card.style.borderRadius = '20px';
                card.style.color = '#1f2937';
                card.style.textShadow = '1px 1px 2px rgba(255,255,255,0.5)';
                card.style.minHeight = '120px';
                card.style.display = 'flex';
                card.style.alignItems = 'center';
                card.style.justifyContent = 'center';
                card.style.transition = 'all 0.3s';
                
                card.addEventListener('click', async function() {
                    if (round.impostorGuess) {
                        console.log('โ๏ธ ุชู ุงูุชุฎููู ุจุงููุนู');
                        return;
                    }
                    
                    console.log('๐ฏ ุชู ุงุฎุชูุงุฑ:', option);
                    
                    document.querySelectorAll('#guessOptions .vote-card').forEach(c => {
                        c.classList.remove('selected');
                        c.style.background = 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)';
                        c.style.borderColor = '#d97706';
                        c.style.transform = 'scale(1)';
                    });
                    
                    this.classList.add('selected');
                    this.style.background = 'linear-gradient(135deg, #10b981 0%, #059669 100%)';
                    this.style.borderColor = '#047857';
                    this.style.transform = 'scale(1.05)';
                    
                    console.log('๐ค ุฅุฑุณุงู ุงูุชุฎููู ุฅูู Firebase:', option);
                    await roomRef.child('currentRound/impostorGuess').set(option);
                    
                    document.getElementById('guessWait').classList.remove('hidden');
                    document.getElementById('guessOptions').style.display = 'none';
                    
                    console.log('โ ุชู ุฅุฑุณุงู ุงูุชุฎููู ุจูุฌุงุญ');
                    
                    if (state.isHost) {
                        console.log('๐ ุงููู ุจุฑุง ุงูุณุงููุฉ ูู ุงูููุณุช - ููุชูู ูููุชุงุฆุฌ...');
                        setTimeout(() => {
                            roomRef.update({ state: 'results' });
                        }, 1500);
                    } else {
                        console.log('๐ข ุงููู ุจุฑุง ุงูุณุงููุฉ ููุณ ุงูููุณุช - ูุถุน ุนูุงูุฉ ููุงูุชูุงู...');
                        await roomRef.child('currentRound/impostorGuessReady').set(true);
                    }
                });
                
                optionsDiv.appendChild(card);
            });
            
            console.log(`โ ุชู ุฅุถุงูุฉ ${usedWordSet.options.length} ุฎูุงุฑ ุจูุฌุงุญ`);
            
            if (round.impostorGuess) {
                console.log('โน๏ธ ุงููู ุจุฑุง ุงูุณุงููุฉ ุฎููู ุจุงููุนู:', round.impostorGuess);
                document.getElementById('guessWait').classList.remove('hidden');
                document.getElementById('guessOptions').style.display = 'none';
            }
        }

        function showQuestionsScreen() {
            console.log('๐ ุนุฑุถ ุดุงุดุฉ ุงูุฃุณุฆูุฉ ุงูููุธูุฉ');
            showScreen('questionsScreen');
            
            const round = state.roomData.currentRound;
            const players = state.roomData.players;
            const questions = round.questions || [];
            const currentIndex = round.currentQuestionIndex || 0;
            
            if (currentIndex >= questions.length) {
                console.log('โ ุงูุชูุช ุงูุฃุณุฆูุฉ ุงูููุธูุฉ');
                if (state.isHost) {
                    roomRef.update({ 
                        state: 'freeQuestions',
                        'currentRound/freeQuestionsStartTime': Date.now()
                    });
                }
                return;
            }
            
            const currentQ = questions[currentIndex];
            const askerName = players[currentQ.asker]?.name || 'ูุงุนุจ';
            const answererName = players[currentQ.answerer]?.name || 'ูุงุนุจ';
            
            document.getElementById('questionNum').textContent = currentIndex + 1;
            document.getElementById('askerName').textContent = askerName;
            document.getElementById('answererName').textContent = answererName;
            document.getElementById('askerName2').textContent = askerName;
            document.getElementById('answererName2').textContent = answererName;
            
            document.getElementById('hostQuestionControls').classList.toggle('hidden', !state.isHost);
            document.getElementById('waitQuestionHost').classList.toggle('hidden', state.isHost);
        }

        function showFreeQuestionsScreen() {
            console.log('๐ฌ ุนุฑุถ ุดุงุดุฉ ุงูุฃุณุฆูุฉ ุงูุญุฑุฉ');
            showScreen('freeQuestionsScreen');
            
            const round = state.roomData.currentRound;
            const startTime = round.freeQuestionsStartTime || Date.now();
            const duration = 60;
            
            const updateTimer = () => {
                const elapsed = Math.floor((Date.now() - startTime) / 1000);
                const remaining = Math.max(0, duration - elapsed);
                
                const timerEl = document.getElementById('freeTimer');
                if (timerEl) {
                    timerEl.textContent = remaining;
                }
                
                if (remaining === 0 && state.isHost) {
                    roomRef.update({ state: 'voting' });
                    return;
                }
                
                if (state.roomData && state.roomData.state === 'freeQuestions') {
                    setTimeout(updateTimer, 1000);
                }
            };
            
            updateTimer();
            
            document.getElementById('hostFreeControls').classList.toggle('hidden', !state.isHost);
        }

        function showResults() {
            showScreen('resultScreen');

            const round = state.roomData.currentRound;
            const players = state.roomData.players;
            
            // โจ ุฅุตูุงุญ: ุชููุฆุฉ ุงููุฆุฉ ุงููุฎุชุงุฑุฉ ููุฌููุฉ ุงููุงุฏูุฉ
            selectedCategoryForNextRound = state.roomData.category || 'ุญููุงูุงุช';

            // ุญุณุงุจ ุงูุฃุตูุงุช
            const voteCount = {};
            Object.values(round.votes).forEach(v => {
                voteCount[v] = (voteCount[v] || 0) + 1;
            });

            const mostVoted = Object.keys(voteCount).reduce((a, b) => 
                voteCount[a] > voteCount[b] ? a : b
            );

            const impostorCaught = mostVoted === round.impostorId;
            const impostorGuessCorrect = round.impostorGuess === round.mainWord;

            // ุนุฑุถ ุงููุชุงุฆุฌ
            document.getElementById('resultEmoji').textContent = impostorCaught ? '๐' : '๐ฑ';
            document.getElementById('resultTitle').textContent = 
                impostorCaught ? 'ุงููุงุนุจูู ูุงุฒูุง!' : 'ุงููู ุจุฑุง ุงูุณุงููุฉ ูุฌุง!';
            document.getElementById('impostorName').textContent = players[round.impostorId].name;
            document.getElementById('mainWord').textContent = round.mainWord;
            document.getElementById('impostorWord').textContent = round.impostorWord;

            // ุญุณุงุจ ุงููุงุนุจูู ุงููู ุตูุชูุง ุตุญ
            const correctVoters = [];
            Object.entries(round.votes).forEach(([voterId, votedId]) => {
                if (votedId === round.impostorId) {
                    correctVoters.push(players[voterId].name);
                }
            });

            // ุนุฑุถ ูุชุงุฆุฌ ุงูุฌููุฉ
            const resultsDiv = document.getElementById('roundResults');
            resultsDiv.innerHTML = '<div class="status" style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px; margin: 20px 0;">';
            resultsDiv.innerHTML += '<h3 style="color: #ffffff; margin-bottom: 15px; font-size: 20px;">๐ ูุชุงุฆุฌ ูุฐู ุงูุฌููุฉ:</h3>';

            if (impostorCaught) {
                resultsDiv.innerHTML += '<p style="color: #2ecc71; font-weight: 700; font-size: 18px; margin: 10px 0;">โ ุงูุฃุบูุจูุฉ ุงูุชุดููุง ุงููู ุจุฑุง ุงูุณุงููุฉ!</p>';
            } else {
                resultsDiv.innerHTML += '<p style="color: #e74c3c; font-weight: 700; font-size: 18px; margin: 10px 0;">โ ุงููู ุจุฑุง ุงูุณุงููุฉ ูุฌุง ูู ุงูุฃุบูุจูุฉ!</p>';
            }

            // ุนุฑุถ ุงููุงุนุจูู ุงููู ุตูุชูุง ุตุญ ูุญุตููุง ููุงุท
            if (correctVoters.length > 0) {
                resultsDiv.innerHTML += '<p style="color: #2ecc71; font-weight: 700; font-size: 16px; margin: 10px 0;">๐ฏ ุตููุชูุง ุตุญ ูุญุตููุง ููุทุฉ: <strong>' + correctVoters.join('ุ ') + '</strong></p>';
            } else {
                resultsDiv.innerHTML += '<p style="color: #ffa500; font-weight: 700; font-size: 16px; margin: 10px 0;">๐ ูุง ุฃุญุฏ ุตููุช ุตุญ!</p>';
            }

            if (impostorGuessCorrect) {
                resultsDiv.innerHTML += '<p style="color: #d4af37; font-weight: 700; font-size: 18px; margin: 10px 0;">๐ฏ ุงููู ุจุฑุง ุงูุณุงููุฉ ุฎููู ุงููููุฉ ุตุญ: <strong>' + round.impostorGuess + '</strong> - ููุทุฉ ูู!</p>';
            } else if (round.impostorGuess) {
                resultsDiv.innerHTML += '<p style="color: #e74c3c; font-weight: 700; font-size: 18px; margin: 10px 0;">โ ุงููู ุจุฑุง ุงูุณุงููุฉ ุฎููู ุบูุท: <strong>' + round.impostorGuess + '</strong> (ุงูุตุญูุญุฉ: <strong>' + round.mainWord + '</strong>)</p>';
            }
            
            resultsDiv.innerHTML += '</div>';

            // โจ ูุธุงู ุงูููุงุท - ููุทุฉ ููู ูู ุตููุช ุตุญ (ูุฑุฉ ูุงุญุฏุฉ ููุท ููู ุฌููุฉ)
            var roundId = round.impostorId + '_' + round.mainWord;
            if (state.isHost && lastScoredRound !== roundId) {
                lastScoredRound = roundId;
                const newScores = { ...state.roomData.scores };

                // ููุทุฉ ููู ูุงุนุจ ุตููุช ุนูู ุงููู ุจุฑุง ุงูุณุงููุฉ (ุจุบุถ ุงููุธุฑ ุนู ุงูุฃุบูุจูุฉ)
                Object.entries(round.votes).forEach(([voterId, votedId]) => {
                    if (votedId === round.impostorId) {
                        newScores[voterId] = (newScores[voterId] || 0) + 1;
                        console.log(`โ ${players[voterId].name} ุญุตู ุนูู ููุทุฉ (ุตููุช ุตุญ)`);
                    }
                });

                // ููุทุฉ ููู ุจุฑุง ุงูุณุงููุฉ ุฅุฐุง ุฎููู ุงููููุฉ ุตุญ (ูุณุชูู ุนู ุชุตููุช ุงููุงุนุจูู)
                if (impostorGuessCorrect) {
                    newScores[round.impostorId] = (newScores[round.impostorId] || 0) + 1;
                    console.log(`โ ${players[round.impostorId].name} (ุงููุชุทูู) ุญุตู ุนูู ููุทุฉ (ุฎููู ุตุญ)`);
                }

                roomRef.child('scores').set(newScores);
            }

            // ุนุฑุถ ุงูููุงุท
            const scoreList = document.getElementById('scoreList');
            scoreList.innerHTML = '';
            const scores = state.roomData.scores;
            const sortedScores = Object.entries(scores).sort((a, b) => b[1] - a[1]);

            sortedScores.forEach(([id, score]) => {
                const div = document.createElement('div');
                div.className = 'player-item';
                div.innerHTML = `
                    <span class="player-name">๐ค ${players[id].name}</span>
                    <span class="points">${score} ๐</span>
                `;
                scoreList.appendChild(div);
            });

            // ูุญุต ุงููุงุฆุฒ
            var winScore = state.roomData.winScore || 5;
            var winner = sortedScores.find(function(entry) { return entry[1] >= winScore; });
            if (winner) {
                document.getElementById('winnerAnnounce').classList.remove('hidden');
                document.getElementById('winnerName').textContent = players[winner[0]].name;
                document.getElementById('winnerPoints').textContent = winner[1];
                document.getElementById('nextRoundBtn').style.display = 'none';
            } else {
                document.getElementById('winnerAnnounce').classList.add('hidden');
                document.getElementById('nextRoundBtn').style.display = '';
            }

            document.getElementById('hostResult').classList.toggle('hidden', !state.isHost);
        }

        // ุฃุฒุฑุงุฑ ุงููุฆุงุช ูู ุงููุงูุฐุฉ ุงูููุจุซูุฉ
        document.addEventListener('click', (e) => {
            if (e.target.closest('.category-btn-result')) {
                const btn = e.target.closest('.category-btn-result');
                selectedCategoryForNextRound = btn.dataset.category;
                
                document.querySelectorAll('#categoryModalGrid .category-btn-result').forEach(b => 
                    b.classList.remove('active')
                );
                btn.classList.add('active');
                
                console.log('๐ ุชู ุงุฎุชูุงุฑ ุงููุฆุฉ ููุฌููุฉ ุงูุฌุฏูุฏุฉ:', selectedCategoryForNextRound);
            }
        });

        // ูุชุบูุฑ ูุชุญุฏูุฏ ููุน ุงูุนูููุฉ (ุฌููุฉ ุฌุฏูุฏุฉ ุฃู ูุนุจุฉ ุฌุฏูุฏุฉ)
        let isNewGameReset = false;

        // ุฒุฑ ุงูุฌููุฉ ุงูุชุงููุฉ - ูุฑุฌุน ูููุจู ูุจุงุดุฑุฉ
        document.getElementById('nextRoundBtn').addEventListener('click', function() {
            lastScoredRound = null;
            if (!roomRef) { alert('ุฎุทุฃ ูู ุงูุงุชุตุงู'); return; }
            roomRef.update({
                state: 'lobby',
                currentRound: null
            });
        });

        // ุฒุฑ ุชุฃููุฏ ุงููุฆุฉ ูุจุฏุก ุงูุฌููุฉ
        document.getElementById('confirmCategoryBtn').addEventListener('click', async () => {
            lastScoredRound = null;
            console.log('๐ฎ ุจุฏุก ุฌููุฉ ุฌุฏูุฏุฉ ูุน ุงููุฆุฉ:', selectedCategoryForNextRound);
            
            if (!selectedCategoryForNextRound) {
                selectedCategoryForNextRound = state.roomData.category || 'ุญููุงูุงุช';
            }
            
            try {
                if (isNewGameReset) {
                    // ูุนุจุฉ ุฌุฏูุฏุฉ ูุน ุตูุฑ ุงูููุงุท
                    const scores = {};
                    Object.keys(state.roomData.players).forEach(id => {
                        scores[id] = 0;
                    });
                    
                    await roomRef.update({
                        category: selectedCategoryForNextRound,
                        state: 'lobby',
                        currentRound: null,
                        scores
                    });
                    console.log('โ ุชู ุฅุนุงุฏุฉ ุชุนููู ุงููุนุจุฉ ุจูุฌุงุญ');
                } else {
                    // ุฌููุฉ ุฌุฏูุฏุฉ ููุท
                    await roomRef.update({
                        category: selectedCategoryForNextRound,
                        state: 'lobby',
                        currentRound: null
                    });
                    console.log('โ ุชู ุชุญุฏูุซ ุงูุบุฑูุฉ ุจูุฌุงุญ');
                }
                
                document.getElementById('categoryModal').classList.add('hidden');
                document.getElementById('categoryModal').style.display = 'none';
            } catch (e) {
                console.error('โ ุฎุทุฃ:', e);
                alert('ุญุฏุซ ุฎุทุฃ! ุญุงูู ูุฑุฉ ุฃุฎุฑู.');
            }
        });

        // ุฒุฑ ุฅูุบุงุก ุงููุงูุฐุฉ
        document.getElementById('cancelCategoryBtn').addEventListener('click', () => {
            document.getElementById('categoryModal').classList.add('hidden');
            document.getElementById('categoryModal').style.display = 'none';
        });

        // โจ ุฅุตูุงุญ: ุฒุฑ ุงููุนุจุฉ ุงูุฌุฏูุฏุฉ - ููุชุญ ูุงูุฐุฉ ุงุฎุชูุงุฑ ุงููุฆุฉ ุฃูุถุงู
        document.getElementById('newGameBtn').addEventListener('click', () => {
            isNewGameReset = true;
            document.getElementById('categoryModal').classList.remove('hidden');
            document.getElementById('categoryModal').style.display = 'flex';
            
            // ุชุญุฏูุซ ุงููุฆุฉ ุงููุฎุชุงุฑุฉ ูู ุงููุงูุฐุฉ
            document.querySelectorAll('#categoryModalGrid .category-btn-result').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.category === (selectedCategoryForNextRound || state.roomData.category || 'ุญููุงูุงุช'));
            });
        });

        // โจ ุฒุฑ ุฌุฏูุฏ: ุงูุนูุฏุฉ ูููุงุฆูุฉ ุงูุฑุฆูุณูุฉ
        document.getElementById('backToMenuBtn').addEventListener('click', async () => {
            console.log('๐ ุงูุนูุฏุฉ ูููุงุฆูุฉ ุงูุฑุฆูุณูุฉ');
            
            if (confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุงูุนูุฏุฉ ูููุงุฆูุฉุ ุณูุชู ุฅููุงุก ุงููุนุจุฉ.')) {
                try {
                    if (roomRef) {
                        if (state.isHost) {
                            await roomRef.remove();
                        } else {
                            await roomRef.child(`players/${state.playerId}`).remove();
                            await roomRef.child(`scores/${state.playerId}`).remove();
                        }
                        roomRef.off();
                        roomRef = null;
                    }
                    
                    state = {
                        roomCode: '',
                        playerId: '',
                        playerName: '',
                        isHost: false,
                        category: 'ุญููุงูุงุช',
                        roomData: null
                    };
                    
                    showScreen('homeScreen');
                } catch (e) {
                    console.error('โ ุฎุทุฃ:', e);
                    alert('ุญุฏุซ ุฎุทุฃ! ุญุงูู ูุฑุฉ ุฃุฎุฑู.');
                }
            }
        });

        document.getElementById('leaveBtn').addEventListener('click', async () => {
            if (roomRef) {
                if (state.isHost) {
                    await roomRef.remove();
                } else {
                    await roomRef.child(`players/${state.playerId}`).remove();
                    await roomRef.child(`scores/${state.playerId}`).remove();
                }
                roomRef.off();
            }
            state = {
                roomCode: '',
                playerId: '',
                playerName: '',
                isHost: false,
                category: 'ุญููุงูุงุช',
                roomData: null
            };
            showScreen('homeScreen');
        });

        document.getElementById('backToHomeBtn').addEventListener('click', async () => {
            if (roomRef) {
                if (state.isHost) {
                    await roomRef.remove();
                } else {
                    await roomRef.child(`players/${state.playerId}`).remove();
                    await roomRef.child(`scores/${state.playerId}`).remove();
                }
                roomRef.off();
                roomRef = null;
            }
            state = {
                roomCode: '',
                playerId: '',
                playerName: '',
                isHost: false,
                category: 'ุญููุงูุงุช',
                roomData: null
            };
            showScreen('homeScreen');
        });

        function showScreen(id) {
            document.querySelectorAll('.card').forEach(c => c.classList.add('hidden'));
            document.getElementById(id).classList.remove('hidden');
        }
    </script>
</body>
</html>
