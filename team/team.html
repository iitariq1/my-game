<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ†Ø¨Ø©</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800;900&display=swap" rel="stylesheet">
<style>
:root{--bg:#0a1a3a;--card:rgba(12,28,60,0.85);--card2:rgba(15,35,70,0.8);--bdr:rgba(212,175,55,0.25);--gold:#d4af37;--goldL:rgba(212,175,55,0.15);--red:#C0392B;--redL:rgba(192,57,43,0.15);--blue:#4a9fd4;--blueL:rgba(74,159,212,0.15);--grn:#2ecc71;--grnL:rgba(46,204,113,0.15);--txt:#e8e0d4;--txtM:#b8c5d6;--txtD:#8fa3c0;--org:#d4af37;--orgL:rgba(212,175,55,0.15);--sh:0 2px 10px rgba(0,0,0,.2);--R:14px;--r:10px}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Tajawal',sans-serif;background:var(--bg);color:var(--txt);min-height:100dvh;display:flex;justify-content:center;align-items:center;padding:10px;position:relative;margin:0}
.app{width:100%;max-width:460px;display:flex;flex-direction:column;margin:0 auto}
.scr{display:none;flex-direction:column;flex:1}.scr.on{display:flex}
.hdr{text-align:center;padding:14px 0 10px}.hdr h1{font-size:1.5em;font-weight:900}.hdr .sub{font-size:.8em;color:var(--txtD);margin-top:2px}
.card{background:var(--card);border:1px solid var(--bdr);border-radius:var(--R);padding:16px;margin-bottom:10px;box-shadow:var(--sh)}
.fld{margin-bottom:12px}.fld label{display:block;font-size:.85em;font-weight:700;margin-bottom:5px;color:#d4af37}
.fld input,.fld select{width:100%;padding:11px 14px;background:rgba(10,26,58,0.5);border:1.5px solid var(--bdr);border-radius:var(--r);color:var(--txt);font-family:inherit;font-size:.95em;font-weight:500;outline:none}
.fld input:focus,.fld select:focus{border-color:var(--gold);box-shadow:0 0 0 3px rgba(212,175,55,.2)}
.fld input::placeholder{color:var(--txtD)}.fld select option{background:#0a1a3a;color:#fff}
.btn{width:100%;padding:13px;border:none;border-radius:var(--r);font-family:inherit;font-size:1em;font-weight:700;cursor:pointer;transition:all .15s;margin-top:6px}
.btn:active:not(:disabled){transform:scale(.97)}.btn:disabled{opacity:.4;cursor:not-allowed}
.bp{background:linear-gradient(135deg,#d4af37,#b8941e);color:#0a1a3a;font-weight:800;box-shadow:0 3px 12px rgba(212,175,55,.25)}
.bo{background:rgba(10,26,58,0.5);border:1.5px solid var(--bdr);color:var(--txtM)}
.bg{background:var(--grn);color:#fff}.br{background:var(--red);color:#fff}
.rcb{text-align:center;padding:14px;background:linear-gradient(135deg,#d4af37,#f5e6a3);border:1.5px solid #d4af37;border-radius:var(--R);margin-bottom:12px;box-shadow:var(--sh)}
.rcb .lb{font-size:.78em;color:#0a1a3a;font-weight:700}.rcb .code{font-size:2.4em;font-weight:900;color:#0a1a3a;letter-spacing:10px}
.chip{display:inline-flex;align-items:center;gap:5px;padding:5px 10px;background:rgba(10,26,58,0.5);border:1px solid var(--bdr);border-radius:20px;font-size:.82em;font-weight:600;margin:3px}
.dot{width:8px;height:8px;border-radius:50%}.dr{background:var(--red)}.db{background:var(--blue)}.dg{background:var(--gold)}
.tsg{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin:8px 0}
.tsb{padding:14px 8px;border-radius:var(--R);font-family:inherit;font-size:.95em;font-weight:700;cursor:pointer;border:2px solid transparent;transition:all .2s;text-align:center}
.tsb.rt{background:rgba(192,57,43,0.2);color:#e74c3c;border-color:rgba(192,57,43,.3)}
.tsb.bt{background:rgba(74,159,212,0.2);color:#4a9fd4;border-color:rgba(74,159,212,.3)}
.tsb.sel{border-color:var(--gold)!important;box-shadow:0 0 0 3px rgba(196,127,23,.15)}
.tsb:active{transform:scale(.96)}
.gtb{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:6px;margin-bottom:8px}
.tsc{padding:8px;border-radius:var(--r);text-align:center;box-shadow:var(--sh)}
.tsc.r{background:rgba(192,57,43,0.15);border:1.5px solid rgba(192,57,43,.3)}
.tsc.b{background:rgba(74,159,212,0.15);border:1.5px solid rgba(74,159,212,.3)}
.tsc .tn{font-size:.7em;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.tsc.r .tn{color:#e74c3c}.tsc.b .tn{color:#4a9fd4}
.tsc .tv{font-size:1.4em;font-weight:900;line-height:1}.tsc.r .tv{color:#e74c3c}.tsc.b .tv{color:#4a9fd4}
.vb{font-size:.75em;font-weight:900;color:var(--txtD);padding:4px 8px;border-radius:20px;border:1px solid var(--bdr);background:var(--card)}
.mpl{display:flex;flex-wrap:wrap;gap:3px;justify-content:center;margin-top:3px}
.mp{font-size:.63em;padding:2px 5px;border-radius:8px;font-weight:600;background:rgba(255,255,255,.05);color:var(--txtD)}.mp.oc{opacity:.5;background:rgba(212,175,55,0.15);color:var(--gold)}
.couch{background:rgba(212,175,55,0.1);border:1.5px solid rgba(212,175,55,0.3);border-radius:var(--R);padding:12px;margin-bottom:8px;box-shadow:var(--sh)}
.couch .clb{text-align:center;font-size:.78em;font-weight:800;color:var(--gold);letter-spacing:2px;margin-bottom:8px}
.cseats{display:flex;justify-content:center;gap:8px;flex-wrap:wrap}
.cseat{display:inline-flex;align-items:center;justify-content:center;gap:4px;padding:5px 12px;border-radius:20px;font-size:.78em;font-weight:700}
.cseat.fr{background:var(--red);color:#fff}.cseat.fb{background:var(--blue);color:#fff}
.cseat.empty{width:36px;height:36px;border-radius:50%;border:2px dashed rgba(212,175,55,0.3);color:rgba(212,175,55,0.4);font-size:.7em;padding:0}
.cseat.me{box-shadow:0 0 0 3px rgba(196,127,23,.4)}
.qcard{background:var(--card);border:1.5px solid var(--bdr);border-radius:var(--R);padding:16px;margin-bottom:8px;text-align:center;box-shadow:var(--sh)}
.qcat{font-size:.72em;font-weight:700;color:var(--gold);letter-spacing:1px;margin-bottom:6px}
.tbar{text-align:center;margin-bottom:8px}
.tc{display:inline-flex;align-items:center;justify-content:center;width:56px;height:56px;border-radius:50%;border:3px solid var(--gold);font-size:1.5em;font-weight:900;color:var(--gold);background:var(--card);box-shadow:var(--sh);transition:all .3s}
.tc.dng{border-color:var(--red);color:var(--red);animation:tp .5s infinite}
.tc.sm{width:44px;height:44px;font-size:1.2em;border-color:var(--org);color:var(--org)}
.tc.sm.dng{border-color:var(--red);color:var(--red)}
@keyframes tp{0%,100%{transform:scale(1)}50%{transform:scale(1.08)}}
.buzzb{width:100%;padding:20px;border:none;border-radius:var(--R);font-family:inherit;font-size:1.25em;font-weight:800;cursor:pointer;background:linear-gradient(135deg,#d4af37,#b8941e);color:#0a1a3a;box-shadow:0 4px 18px rgba(212,175,55,.3);transition:all .15s;margin-bottom:8px}
.buzzb:active:not(:disabled){transform:scale(.96)}
.buzzb:disabled{background:rgba(15,30,65,0.5);color:var(--txtD);box-shadow:none;cursor:not-allowed}
.sts{padding:8px 12px;border-radius:var(--r);font-size:.85em;font-weight:700;text-align:center;margin-bottom:8px}
.sts.i{background:rgba(74,159,212,0.15);color:#4a9fd4}.sts.s{background:rgba(46,204,113,0.15);color:#2ecc71}
.sts.e{background:rgba(192,57,43,0.15);color:#e74c3c}.sts.w{background:rgba(212,175,55,0.15);color:#d4af37}
.opts{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:8px}
.ob{padding:12px 8px;background:var(--card);border:1.5px solid var(--bdr);border-radius:var(--r);font-family:inherit;font-size:.9em;font-weight:700;color:var(--txt);cursor:pointer;transition:all .2s;text-align:center;min-height:50px;display:flex;align-items:center;justify-content:center;box-shadow:var(--sh)}
.ob:hover:not(:disabled){border-color:var(--gold);background:rgba(212,175,55,0.15)}
.ob:active:not(:disabled){transform:scale(.96)}.ob:disabled{opacity:.35;cursor:not-allowed}
.aia{margin-bottom:8px}
.aia input{width:100%;padding:12px;background:rgba(10,26,58,0.5);border:2px solid var(--gold);border-radius:var(--r);color:var(--txt);font-family:inherit;font-size:1em;font-weight:700;text-align:center;outline:none;margin-bottom:6px}
.aia input::placeholder{color:var(--txtD)}
.chg{display:grid;gap:8px;margin-bottom:8px}
.chb{padding:14px;border:none;border-radius:var(--r);font-family:inherit;font-size:.95em;font-weight:700;cursor:pointer;transition:all .2s}
.chb:active{transform:scale(.97)}.chb.sit{background:var(--grn);color:#fff}.chb.pull{background:var(--red);color:#fff}
.bzi{padding:6px 12px;border-radius:var(--r);background:rgba(212,175,55,0.1);text-align:center;font-size:.82em;font-weight:700;color:#d4af37;margin-bottom:8px}
.vic{display:none;text-align:center;padding:40px 16px;flex:1;justify-content:center;align-items:center;flex-direction:column}
.vic.on{display:flex}
.vic .tr{font-size:4em;margin-bottom:12px;animation:bnc 1.5s infinite}
@keyframes bnc{0%,100%{transform:translateY(0)}50%{transform:translateY(-12px)}}
.vic h2{font-size:1.6em;font-weight:900;color:var(--gold);margin-bottom:20px}
.spc{flex:1}.hid{display:none!important}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0}}
.qtxt{font-size:1.08em;font-weight:700;line-height:1.5;min-height:1.5em}
/* Replay team select overlay */
.rto{display:none;position:fixed;inset:0;background:rgba(0,0,0,.4);z-index:100;justify-content:center;align-items:center}
.rto.on{display:flex}
.rto .inner{background:rgba(12,28,60,0.95);border:1.5px solid rgba(212,175,55,0.3);border-radius:var(--R);padding:24px;width:90%;max-width:380px;box-shadow:0 8px 30px rgba(0,0,0,.3)}
</style>
<!-- Code Protection -->
<script>
(function(){document.addEventListener('contextmenu',function(e){e.preventDefault();return false;});document.addEventListener('keydown',function(e){if(e.key==='F12')return e.preventDefault(),false;if(e.ctrlKey&&e.shiftKey&&['I','i','J','j','C','c'].includes(e.key))return e.preventDefault(),false;if(e.ctrlKey&&['u','U','s','S'].includes(e.key))return e.preventDefault(),false;});document.addEventListener('dragstart',function(e){e.preventDefault();});document.addEventListener('copy',function(e){e.preventDefault();});document.addEventListener('cut',function(e){e.preventDefault();});})();
</script>
<style>*:not(input):not(textarea):not(button){-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important;}</style>
<script>function showScr(id){document.querySelectorAll('.scr').forEach(function(s){s.classList.remove('on')});document.getElementById(id).classList.add('on')}</script>
</head>
<body>
<div id="teamStars" style="position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0;"></div>
<div class="app" style="position:relative;z-index:1;">

<!-- WELCOME -->
<div id="scrWelcome" class="scr on">
            <div class="header">
                <p style="color:#d4af37;font-size:0.9em;margin-bottom:8px;">â˜ª Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ… â˜ª</p>
                <h1>Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ†Ø¨Ø©ğŸ›‹ï¸</h1>
            </div>
            <div class="card">
                <div style="background:rgba(0,0,0,0.3);padding:15px;border-radius:10px;margin-bottom:20px;border-right:4px solid #d4af37;">
                    <p style="text-align:right;font-size:0.85em;line-height:1.8;color:#fff;">
                        <strong style="color:#d4af37;">ğŸ“– ÙƒÙŠÙ ØªÙ„Ø¹Ø¨:</strong><br><br>
                        ÙØ±ÙŠÙ‚ÙŠÙ† ÙŠØªØ³Ø§Ø¨Ù‚ÙˆÙ† Ø¨Ø§Ù„Ø§Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ù„ÙŠ ÙŠØ¬Ø§ÙˆØ¨ Ø§ÙˆÙ„ ÙŠØ¬Ù„Ø³ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ†Ø¨Ø© ÙˆÙ„Ø§ÙŠÙ…ÙƒÙ†Ù‡ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø§ Ø§Ø°Ø§ Ù‚Ø±Ø± Ø§Ù„Ø®ØµÙ… Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ø§Ù†Ù‡Ù… ÙŠØ³Ø­Ø¨ÙˆÙ†Ù‡ Ù…Ù† Ø§Ù„ÙƒÙ†Ø¨Ø©.<br><br>
                        Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ù„ÙŠ ÙŠØ¬Ù„Ø³ ÙƒØ§Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ†Ø¨Ø© ÙŠÙÙˆØ².<br><br>
                        <strong style="color:#e74c3c;">âš ï¸ ØªÙ†Ø¨ÙŠÙ‡:</strong> Ù…Ù† ÙŠØ¶ØºØ· Ø§Ù„Ø¬Ø±Ø³ Ø£ÙˆÙ„Ø§ Ù„Ø¯ÙŠÙ‡ 7 Ø«ÙˆØ§Ù†ÙŠ Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ø°Ø§ Ø§Ø®Ø·Ø£ ÙŠØªÙƒÙ…Ù„ Ø§Ù„Ø³Ø¤Ø§Ù„ ÙˆØªØ¸Ù‡Ø± Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ù„Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø§Ø®Ø±
                    </p>
                </div>
<button class="btn bp" onclick="showScr('scrCreate')">Ø¥Ù†Ø´Ø§Ø¡ ØºØ±ÙØ© Ø¬Ø¯ÙŠØ¯Ø©</button>
<button class="btn bo" onclick="showScr('scrJoin')">Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„ØºØ±ÙØ© (Ø¨Ø§Ù„ÙƒÙˆØ¯)</button>
<div style="text-align:center;margin:6px 0;color:#d4af37;font-size:0.8em;">â”€â”€ Ø£Ùˆ â”€â”€</div>
<button class="btn bp" onclick="showScr('scrPublic');loadPublicRoomsTeam()" style="background:linear-gradient(135deg,#27ae60,#2ecc71);color:#fff;">ğŸŒ Ø±ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø©</button>
<button class="btn bp" onclick="quickJoinTeam()" id="quickJoinBtnTeam" style="background:linear-gradient(135deg,#2ecc71,#27ae60);color:#fff;">âš¡ Ø§Ù†Ø¶Ù…Ø§Ù… Ø³Ø±ÙŠØ¹</button>
<button class="btn bo" onclick="goBack()">Ø±Ø¬ÙˆØ¹</button>
</div></div>

<!-- PUBLIC ROOMS -->
<div class="scr" id="scrPublic">
<div class="hdr"><h1>ğŸŒ Ø±ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø©</h1></div>
<div class="card">
<div class="fld"><label>Ø§Ø³Ù…Ùƒ</label><input id="publicNameTeam" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ"></div>
<div id="publicRoomsListTeam" style="margin:10px 0;"><p style="text-align:center;color:#aaa;">â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø«...</p></div>
<div id="noPublicRoomsTeam" class="hidden" style="text-align:center;color:#aaa;padding:15px;">ğŸ˜• Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</div>
<button class="btn bo" onclick="loadPublicRoomsTeam()">ğŸ”„ ØªØ­Ø¯ÙŠØ«</button>
<button class="btn bo" onclick="showScr('scrWelcome')">ğŸ”™ Ø±Ø¬ÙˆØ¹</button>
</div></div>

<!-- CREATE -->
<div class="scr" id="scrCreate">
<div class="hdr"><h1>Ø¥Ù†Ø´Ø§Ø¡ ØºØ±ÙØ©</h1></div>
<div class="card">
<div class="fld"><label>Ø§Ø³Ù…Ùƒ</label><input id="hostName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ"></div>
<div style="display:flex;gap:5px;margin:8px 0;">
<button id="teamRoomPublic" onclick="teamIsPublic=true;this.style.opacity='1';document.getElementById('teamRoomPrivate').style.opacity='0.5'" class="btn bp" style="flex:1;opacity:0.5;background:#27ae60;color:#fff;">ğŸŒ Ø¹Ø§Ù…Ø©</button>
<button id="teamRoomPrivate" onclick="teamIsPublic=false;this.style.opacity='1';document.getElementById('teamRoomPublic').style.opacity='0.5'" class="btn bo" style="flex:1;">ğŸ”’ Ø®Ø§ØµØ©</button>
</div>
<div class="fld"><label>Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„</label><input id="t1n" value="Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø±"></div>
<div class="fld"><label>Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ</label><input id="t2n" value="Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚"></div>
<div class="fld"><label>Ø¹Ø¯Ø¯ Ù„Ø§Ø¹Ø¨ÙŠ ÙƒÙ„ ÙØ±ÙŠÙ‚ (= Ø­Ø¬Ù… Ø§Ù„ÙƒÙ†Ø¨Ø©)</label><select id="tsz"><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option></select></div>
<button class="btn bp" onclick="createRoom()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØºØ±ÙØ©</button>
<button class="btn bo" onclick="showScr('scrWelcome')">Ø±Ø¬ÙˆØ¹</button>
</div></div>

<!-- JOIN -->
<div class="scr" id="scrJoin">
<div class="hdr"><h1>Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„ØºØ±ÙØ©</h1></div>
<div class="card">
<div class="fld"><label>Ø§Ø³Ù…Ùƒ</label><input id="pName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ"></div>
<div class="fld"><label>ÙƒÙˆØ¯ Ø§Ù„ØºØ±ÙØ©</label><input id="pCode" placeholder="0000" maxlength="4" inputmode="numeric"></div>
<button class="btn bp" onclick="joinRoom()">Ø§Ù†Ø¶Ù…</button>
<button class="btn bo" onclick="showScr('scrWelcome')">Ø±Ø¬ÙˆØ¹</button>
</div></div>

<!-- TEAM SELECT -->
<div class="scr" id="scrTeam">
<div class="hdr"><h1>Ø§Ø®ØªØ± ÙØ±ÙŠÙ‚Ùƒ</h1><div class="sub">Ù…Ø±Ø­Ø¨Ø§Ù‹ <span id="wpn"></span></div></div>
<div class="card"><div class="tsg" id="tsBtns"></div></div></div>

<!-- LOBBY -->
<div class="scr" id="scrLobby">
<div class="hdr"><h1>ØºØ±ÙØ© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</h1></div>
<div class="rcb"><div class="lb">ÙƒÙˆØ¯ Ø§Ù„ØºØ±ÙØ©</div><div class="code" id="drc"></div></div>
<div class="card"><div style="font-size:.8em;font-weight:700;color:var(--txtD);margin-bottom:8px">Ø§Ø®ØªØ± ÙØ±ÙŠÙ‚Ùƒ</div><div class="tsg" id="htBtns"></div></div>
<div class="card"><div style="font-size:.8em;font-weight:700;color:var(--txtD);margin-bottom:8px">Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ† (<span id="pc">0</span>)</div><div id="lpl" style="display:flex;flex-wrap:wrap;gap:4px"></div></div>
<div class="spc"></div>
<button class="btn bp" onclick="startGame()" id="sgBtn" disabled>Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
</div>

<!-- WAITING -->
<div class="scr" id="scrWait">
<div class="hdr"><h1>ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¨Ø¯Ø¡</h1><div class="sub">Ø£Ù†Øª ÙÙŠ <span id="wtn" style="color:var(--gold);font-weight:700"></span></div></div>
<div class="card"><div style="font-size:.8em;font-weight:700;color:var(--txtD);margin-bottom:8px">Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ†</div><div id="wpl" style="display:flex;flex-wrap:wrap;gap:4px"></div></div></div>

<!-- GAME -->
<div class="scr" id="scrGame">
<div id="gTop" class="gtb">
<div class="tsc r"><div class="tn" id="gt1n"></div><div class="tv" id="gt1s">0</div><div class="mpl" id="gt1p"></div></div>
<div class="vb">VS</div>
<div class="tsc b"><div class="tn" id="gt2n"></div><div class="tv" id="gt2s">0</div><div class="mpl" id="gt2p"></div></div>
</div>
<div class="couch" id="couchSec"><div class="clb">ğŸ›‹ï¸ ÙƒÙ†Ø¨Ø© Ø§Ù„ÙÙˆØ² (<span id="couchCnt">0</span>/<span id="couchMax">2</span>)</div><div class="cseats" id="couchSeats"></div></div>
<div id="gContent">
<div class="qcard hid" id="qCard"><div class="qcat" id="qCat"></div><div class="qtxt" id="qTxt"></div></div>
<div class="tbar hid" id="tBar"><div class="tc" id="tCirc">30</div></div>
<div class="bzi hid" id="bzInd"></div>
<div class="sts i" id="gSts">Ø§Ù†ØªØ¸Ø± Ø§Ù„Ø³Ø¤Ø§Ù„...</div>
<button class="buzzb hid" id="bzBtn" onclick="buzzIn()" disabled>ğŸ”” Ø§Ø¶ØºØ· Ø§Ù„Ø¬Ø±Ø³!</button>
<div class="aia hid" id="aiArea"><div class="tbar"><div class="tc sm" id="atCirc">7</div></div><input id="tAns" placeholder="Ø§ÙƒØªØ¨ Ø¥Ø¬Ø§Ø¨ØªÙƒ..." autocomplete="off"><button class="btn bg" onclick="submitAns()">Ø¥Ø±Ø³Ø§Ù„</button></div>
<div class="opts hid" id="optsG"></div>
<div class="chg hid" id="chG"></div>
</div>
<div class="vic" id="vicOv"><div class="tr">ğŸ†</div><h2 id="vicMsg"></h2>
<button class="btn bp" onclick="askReplay()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨ ğŸ”„</button>
<button class="btn bo" onclick="window.location.href='index.html'">Ø§Ù„Ø®Ø±ÙˆØ¬ â†©ï¸</button>
</div>
<div class="spc"></div>
<div class="hid" id="hNext"><button class="btn bp" onclick="nextQ()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â–¶ï¸</button></div>
</div>

<!-- REPLAY TEAM SELECT OVERLAY -->
<div class="rto" id="replayOv">
<div class="inner">
<div class="hdr"><h1>Ø§Ø®ØªØ± ÙØ±ÙŠÙ‚Ùƒ</h1><div class="sub">ÙŠÙ…ÙƒÙ†Ùƒ ØªØºÙŠÙŠØ± ÙØ±ÙŠÙ‚Ùƒ Ù‚Ø¨Ù„ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</div></div>
<div class="tsg" id="rpBtns"></div>
<button class="btn bp" id="rpStart" onclick="confirmReplay()" style="margin-top:10px">ØªØ£ÙƒÙŠØ¯ ÙˆØ¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© â–¶ï¸</button>
<div style="text-align:center;margin-top:8px;font-size:.75em;color:var(--txtD)" id="rpWait" class="hid">ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…Ø¶ÙŠÙ...</div>
</div></div>

</div>

<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
<script>
firebase.initializeApp({
  apiKey:"AIzaSyBUXlgxP463b18dg9_Og_8EcMDLfLIr76o",
  authDomain:"team-cc63c.firebaseapp.com",
  databaseURL:"https://team-cc63c-default-rtdb.europe-west1.firebasedatabase.app/",
  projectId:"team-cc63c",
  storageBucket:"team-cc63c.firebasestorage.app",
  messagingSenderId:"511582595742",
  appId:"1:511582595742:web:3e21273dcf49bf26d7298f"
});
const db = firebase.database();

/* â•â•â•â•â•â•â• QUESTIONS â•â•â•â•â•â•â• */
const ALL_Q = [
  {cat:"Ø¯ÙŠÙ†ÙŠØ©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø³ÙˆØ± Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ",opts:["114 Ø³ÙˆØ±Ø©","110 Ø³ÙˆØ±Ø©","120 Ø³ÙˆØ±Ø©","100 Ø³ÙˆØ±Ø©"],c:0},
  {cat:"Ø¯ÙŠÙ†ÙŠØ©",q:"Ù…Ø§ Ù‡ÙŠ Ø£Ø·ÙˆÙ„ Ø³ÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ",opts:["Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø©","Ø³ÙˆØ±Ø© Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†","Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø³Ø§Ø¡","Ø³ÙˆØ±Ø© Ø§Ù„Ø£Ø¹Ø±Ø§Ù"],c:0},
  {cat:"Ø¯ÙŠÙ†ÙŠØ©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ",opts:["5","4","6","7"],c:0},
  {cat:"Ø¯ÙŠÙ†ÙŠØ©",q:"Ù…Ù† Ù‡Ùˆ Ø®Ø§ØªÙ… Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡ØŸ",opts:["Ù…Ø­Ù…Ø¯ ï·º","Ø¹ÙŠØ³Ù‰ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…","Ù…ÙˆØ³Ù‰ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…","Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…"],c:0},
  {cat:"Ø¯ÙŠÙ†ÙŠØ©",q:"ÙÙŠ Ø£ÙŠ Ø´Ù‡Ø± ÙÙØ±Ø¶ Ø§Ù„ØµÙŠØ§Ù…ØŸ",opts:["Ø±Ù…Ø¶Ø§Ù†","Ø´Ø¹Ø¨Ø§Ù†","Ø±Ø¬Ø¨","Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©"],c:0},
  {cat:"Ø¯ÙŠÙ†ÙŠØ©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥ÙŠÙ…Ø§Ù†ØŸ",opts:["6","5","7","4"],c:0},
  {cat:"Ø¯ÙŠÙ†ÙŠØ©",q:"Ù…Ø§ Ø£ÙˆÙ„ Ù…Ø§ Ù†Ø²Ù„ Ù…Ù† Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ",opts:["Ø§Ù‚Ø±Ø£","Ø§Ù„ÙØ§ØªØ­Ø©","Ø§Ù„Ù…Ø¯Ø«Ø±","Ø§Ù„Ø¨Ø³Ù…Ù„Ø©"],c:0},
  {cat:"Ø¯ÙŠÙ†ÙŠØ©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡ Ø§Ù„Ù…Ø°ÙƒÙˆØ±ÙŠÙ† ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŸ",opts:["25","24","26","30"],c:0},
  {cat:"Ø¯ÙŠÙ†ÙŠØ©",q:"Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„ØªÙŠ ØªØ¹Ø¯Ù„ Ø«Ù„Ø« Ø§Ù„Ù‚Ø±Ø¢Ù†ØŸ",opts:["Ø§Ù„Ø¥Ø®Ù„Ø§Øµ","Ø§Ù„ÙØ§ØªØ­Ø©","Ø§Ù„Ø¨Ù‚Ø±Ø©","ÙŠØ³"],c:0},
  {cat:"Ø«Ù‚Ø§ÙÙŠØ©",q:"Ù…Ù† Ù‡Ùˆ Ù…Ø®ØªØ±Ø¹ Ø§Ù„Ù…ØµØ¨Ø§Ø­ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØŸ",opts:["ØªÙˆÙ…Ø§Ø³ Ø¥Ø¯ÙŠØ³ÙˆÙ†","Ù†ÙŠÙƒÙˆÙ„Ø§ ØªØ³Ù„Ø§","Ø¨Ù†Ø¬Ø§Ù…ÙŠÙ† ÙØ±Ø§Ù†ÙƒÙ„ÙŠÙ†","Ø£Ù„ÙƒØ³Ù†Ø¯Ø± Ø¨ÙŠÙ„"],c:0},
  {cat:"Ø«Ù‚Ø§ÙÙŠØ©",q:"Ù…Ø§ Ù‡ÙŠ Ø£ÙƒØ¨Ø± Ø¯ÙˆÙ„Ø© Ø¹Ø±Ø¨ÙŠØ© Ù…Ø³Ø§Ø­Ø©ØŸ",opts:["Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±","Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©","Ø§Ù„Ø³ÙˆØ¯Ø§Ù†","Ù„ÙŠØ¨ÙŠØ§"],c:0},
  {cat:"Ø«Ù‚Ø§ÙÙŠØ©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",opts:["7","6","5","8"],c:0},
  {cat:"Ø«Ù‚Ø§ÙÙŠØ©",q:"Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø£ÙƒØ«Ø± ØªØ­Ø¯Ø«Ø§Ù‹ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",opts:["Ø§Ù„ØµÙŠÙ†ÙŠØ©","Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©","Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠØ©","Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"],c:0},
  {cat:"Ø¬ØºØ±Ø§ÙÙŠØ©",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„ÙŠØ§Ø¨Ø§Ù†ØŸ",opts:["Ø·ÙˆÙƒÙŠÙˆ","ÙƒÙŠÙˆØªÙˆ","Ø£ÙˆØ³Ø§ÙƒØ§","ÙŠÙˆÙƒÙˆÙ‡Ø§Ù…Ø§"],c:0},
  {cat:"Ø¬ØºØ±Ø§ÙÙŠØ©",q:"Ù…Ø§ Ù‡Ùˆ Ø£Ø·ÙˆÙ„ Ù†Ù‡Ø± ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",opts:["Ù†Ù‡Ø± Ø§Ù„Ù†ÙŠÙ„","Ù†Ù‡Ø± Ø§Ù„Ø£Ù…Ø§Ø²ÙˆÙ†","Ù†Ù‡Ø± Ø§Ù„Ù…Ø³ÙŠØ³ÙŠØ¨ÙŠ","Ù†Ù‡Ø± Ø§Ù„ÙŠØ§Ù†ØºØªØ³ÙŠ"],c:0},
  {cat:"Ø¬ØºØ±Ø§ÙÙŠØ©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø¯ÙˆÙ„ Ù…Ø¬Ù„Ø³ Ø§Ù„ØªØ¹Ø§ÙˆÙ† Ø§Ù„Ø®Ù„ÙŠØ¬ÙŠØŸ",opts:["6","5","7","8"],c:0},
  {cat:"Ø¬ØºØ±Ø§ÙÙŠØ©",q:"Ù…Ø§ Ù‡ÙŠ Ø£ÙƒØ¨Ø± ØµØ­Ø±Ø§Ø¡ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",opts:["Ø§Ù„ØµØ­Ø±Ø§Ø¡ Ø§Ù„ÙƒØ¨Ø±Ù‰","Ø§Ù„Ø±Ø¨Ø¹ Ø§Ù„Ø®Ø§Ù„ÙŠ","ØºÙˆØ¨ÙŠ","ÙƒØ§Ù„Ø§Ù‡Ø§Ø±ÙŠ"],c:0},
  {cat:"Ø¬ØºØ±Ø§ÙÙŠØ©",q:"Ù…Ø§ Ù‡ÙŠ Ø£ØµØºØ± Ø¯ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",opts:["Ø§Ù„ÙØ§ØªÙŠÙƒØ§Ù†","Ù…ÙˆÙ†Ø§ÙƒÙˆ","Ø³Ø§Ù† Ù…Ø§Ø±ÙŠÙ†Ùˆ","Ù„ÙŠØ®ØªÙ†Ø´ØªØ§ÙŠÙ†"],c:0},
  {cat:"Ø±ÙŠØ§Ø¶ÙŠØ©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ù„Ø§Ø¹Ø¨ÙŠ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… ÙÙŠ Ø§Ù„ÙØ±ÙŠÙ‚ØŸ",opts:["11","10","12","9"],c:0},
  {cat:"Ø±ÙŠØ§Ø¶ÙŠØ©",q:"ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ø£Ù‚ÙŠÙ…Øª Ø£ÙˆÙ„ Ø¨Ø·ÙˆÙ„Ø© ÙƒØ£Ø³ Ø¹Ø§Ù„Ù…ØŸ",opts:["1930","1928","1934","1926"],c:0},
  {cat:"Ø±ÙŠØ§Ø¶ÙŠØ©",q:"ÙƒÙ… Ù…Ø¯Ø© Ø§Ù„Ø´ÙˆØ· Ø§Ù„ÙˆØ§Ø­Ø¯ ÙÙŠ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…ØŸ",opts:["45 Ø¯Ù‚ÙŠÙ‚Ø©","40 Ø¯Ù‚ÙŠÙ‚Ø©","50 Ø¯Ù‚ÙŠÙ‚Ø©","30 Ø¯Ù‚ÙŠÙ‚Ø©"],c:0},
  {cat:"Ø¹Ù„Ù…ÙŠØ©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ ÙƒÙˆØ§ÙƒØ¨ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ©ØŸ",opts:["8","9","7","10"],c:0},
  {cat:"Ø¹Ù„Ù…ÙŠØ©",q:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ø£ÙƒØ«Ø± ÙˆÙØ±Ø© ÙÙŠ Ø§Ù„ÙƒÙˆÙ†ØŸ",opts:["Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†","Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†","Ø§Ù„ÙƒØ±Ø¨ÙˆÙ†","Ø§Ù„Ù‡ÙŠÙ„ÙŠÙˆÙ…"],c:0},
  {cat:"Ø¹Ù„Ù…ÙŠØ©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø¹Ø¸Ø§Ù… Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ø§Ù„Ø¨Ø§Ù„ØºØŸ",opts:["206","205","208","200"],c:0},
  {cat:"Ø¹Ù„Ù…ÙŠØ©",q:"Ù…Ø§ Ù‡Ùˆ Ø£ØµÙ„Ø¨ Ù…Ø¹Ø¯Ù† Ø¹Ù„Ù‰ ÙˆØ¬Ù‡ Ø§Ù„Ø£Ø±Ø¶ØŸ",opts:["Ø§Ù„Ø£Ù„Ù…Ø§Ø³","Ø§Ù„Ø­Ø¯ÙŠØ¯","Ø§Ù„ØªÙŠØªØ§Ù†ÙŠÙˆÙ…","Ø§Ù„Ø°Ù‡Ø¨"],c:0},
  {cat:"Ø¹Ø§Ù…Ø©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ù„ÙˆØ§Ù† Ù‚ÙˆØ³ Ù‚Ø²Ø­ØŸ",opts:["7","6","8","5"],c:0},
  {cat:"Ø¹Ø§Ù…Ø©",q:"Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù„Ù„ÙŠØ§Ø¨Ø§Ù†ØŸ",opts:["Ø§Ù„ÙŠÙ†","Ø§Ù„ÙˆÙˆÙ†","Ø§Ù„ÙŠÙˆØ§Ù†","Ø§Ù„Ø¯ÙˆÙ„Ø§Ø±"],c:0},
  {cat:"Ø¹Ø§Ù…Ø©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø­Ø±ÙˆÙ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©ØŸ",opts:["28","26","30","27"],c:0},
  {cat:"Ø¹Ø§Ù…Ø©",q:"Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ø§Ù„Ø£Ø³Ø±Ø¹ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",opts:["Ø§Ù„ÙÙ‡Ø¯","Ø§Ù„Ø£Ø³Ø¯","Ø§Ù„Ø­ØµØ§Ù†","Ø§Ù„Ù†Ø³Ø±"],c:0},
  {cat:"Ø¹Ø§Ù…Ø©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø£ÙŠØ§Ù… Ø§Ù„Ø³Ù†Ø© Ø§Ù„ÙƒØ¨ÙŠØ³Ø©ØŸ",opts:["366","365","364","367"],c:0},
  // ===== Ø±ÙŠØ§Ø¶ÙŠØ© =====
{cat:"Ø±ÙŠØ§Ø¶ÙŠØ©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ ØªØ¨Ø¯ÙŠÙ„Ø§Øª Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø³Ù…ÙˆØ­Ø© Ø¹Ø§Ø¯Ø©Ù‹ ÙÙŠ Ù…Ø¨Ø§Ø±ÙŠØ§Øª ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… (Ø¨Ø¹Ø¯ ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„ÙÙŠÙØ§)ØŸ",opts:["5","3","6","4"],c:0},
{cat:"Ø±ÙŠØ§Ø¶ÙŠØ©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø´ÙˆØ§Ø· Ù…Ø¨Ø§Ø±Ø§Ø© ÙƒØ±Ø© Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø±Ø³Ù…ÙŠØ©ØŸ",opts:["4","2","3","5"],c:0},
{cat:"Ø±ÙŠØ§Ø¶ÙŠØ©",q:"ÙƒÙ… Ø·ÙˆÙ„ Ø³Ø¨Ø§Ù‚ Ø§Ù„Ù…Ø§Ø±Ø§Ø«ÙˆÙ† Ø§Ù„Ø±Ø³Ù…ÙŠØŸ",opts:["42.195 ÙƒÙ…","40 ÙƒÙ…","21.097 ÙƒÙ…","50 ÙƒÙ…"],c:0},
{cat:"Ø±ÙŠØ§Ø¶ÙŠØ©",q:"ÙÙŠ Ø£ÙŠ Ø¯ÙˆÙ„Ø© Ø£ÙÙ‚ÙŠÙ…Øª Ø£ÙˆÙ„Ù…Ø¨ÙŠØ§Ø¯ 2016ØŸ",opts:["Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„","Ø§Ù„ØµÙŠÙ†","Ø§Ù„ÙŠÙˆÙ†Ø§Ù†","Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠØ§"],c:0},
{cat:"Ø±ÙŠØ§Ø¶ÙŠØ©",q:"ÙƒÙ… Ù†Ù‚Ø·Ø© ØªÙØ­ØªØ³Ø¨ Ø§Ù„Ø±Ù…ÙŠØ© Ø§Ù„Ø«Ù„Ø§Ø«ÙŠØ© ÙÙŠ ÙƒØ±Ø© Ø§Ù„Ø³Ù„Ø©ØŸ",opts:["3","2","1","4"],c:0},
{cat:"Ø±ÙŠØ§Ø¶ÙŠØ©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù„Ø¹Ø¨ Ù„ÙƒÙ„ ÙØ±ÙŠÙ‚ ÙÙŠ ÙƒØ±Ø© Ø§Ù„Ø·Ø§Ø¦Ø±Ø©ØŸ",opts:["6","5","7","8"],c:0},
{cat:"Ø±ÙŠØ§Ø¶ÙŠØ©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø¬ÙˆÙ„Ø§Øª ÙÙŠ Ø§Ù„Ù†Ø²Ø§Ù„ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ Ù„Ù„Ù…Ù„Ø§ÙƒÙ…Ø© Ø¹Ø§Ø¯Ø©Ù‹ØŸ",opts:["12","10","8","15"],c:0},
{cat:"Ø±ÙŠØ§Ø¶ÙŠØ©",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø¨Ø·ÙˆÙ„Ø© Ø§Ù„Ø£Ù‚ÙˆÙ‰ Ù„Ù„Ø£Ù†Ø¯ÙŠØ© ÙÙŠ Ø£ÙˆØ±ÙˆØ¨Ø§ØŸ",opts:["Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§","Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠ","ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… Ù„Ù„Ø£Ù†Ø¯ÙŠØ©","ÙƒØ£Ø³ Ø§Ù„Ø³ÙˆØ¨Ø± Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠ"],c:0},
{cat:"Ø±ÙŠØ§Ø¶ÙŠØ©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø´ÙˆØ§Ø· Ù…Ø¨Ø§Ø±Ø§Ø© Ø§Ù„ØªÙ†Ø³ Ù„Ù„Ø±Ø¬Ø§Ù„ ÙÙŠ Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª Ø§Ù„Ø£Ø±Ø¨Ø¹ Ø§Ù„ÙƒØ¨Ø±Ù‰ØŸ",opts:["5","3","4","2"],c:0},
{cat:"Ø±ÙŠØ§Ø¶ÙŠØ©",q:"Ø£ÙŠ Ø±ÙŠØ§Ø¶Ø© ØªÙØ¹Ø±Ù Ø¨Ù€(Ø§Ù„Ø±ÙŠØ§Ø¶Ø© Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡)ØŸ",opts:["Ø§Ù„ØªÙ†Ø³","Ø§Ù„Ø³Ø¨Ø§Ø­Ø©","Ø§Ù„Ø¬ÙˆØ¯Ùˆ","Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø·Ø§Ø¦Ø±Ø©"],c:0},

// ===== ØªØ§Ø±ÙŠØ®ÙŠØ© =====
{cat:"ØªØ§Ø±ÙŠØ®ÙŠØ©",q:"ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©ØŸ",opts:["1945","1944","1946","1939"],c:0},
{cat:"ØªØ§Ø±ÙŠØ®ÙŠØ©",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø­Ø¶Ø§Ø±Ø© Ø§Ù„ØªÙŠ Ø¨ÙÙ†ÙŠØª Ø­ÙˆÙ„ Ù†Ù‡Ø± Ø§Ù„Ù†ÙŠÙ„ Ù‚Ø¯ÙŠÙ…Ø§Ù‹ØŸ",opts:["Ø§Ù„Ù…ØµØ±ÙŠØ© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©","Ø§Ù„Ø±ÙˆÙ…Ø§Ù†ÙŠØ©","Ø§Ù„Ø¥ØºØ±ÙŠÙ‚ÙŠØ©","Ø§Ù„ÙÙŠÙ†ÙŠÙ‚ÙŠØ©"],c:0},
{cat:"ØªØ§Ø±ÙŠØ®ÙŠØ©",q:"Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù‚Ø§Ø¦Ø¯ Ø§Ù„Ù…Ù‚Ø¯ÙˆÙ†ÙŠ Ø§Ù„Ø°ÙŠ ÙØªØ­ Ø¨Ù„Ø§Ø¯Ø§Ù‹ ÙˆØ§Ø³Ø¹Ø© Ø­ØªÙ‰ Ø§Ù„Ù‡Ù†Ø¯ØŸ",opts:["Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø± Ø§Ù„Ø£ÙƒØ¨Ø±","ÙŠÙˆÙ„ÙŠÙˆØ³ Ù‚ÙŠØµØ±","Ø­Ù†Ø¨Ø¹Ù„","Ù†ÙŠØ±ÙˆÙ†"],c:0},
{cat:"ØªØ§Ø±ÙŠØ®ÙŠØ©",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø³ÙÙŠÙ†Ø© Ø§Ù„Ø´Ù‡ÙŠØ±Ø© Ø§Ù„ØªÙŠ ØºØ±Ù‚Øª Ø¹Ø§Ù… 1912ØŸ",opts:["ØªØ§ÙŠØªØ§Ù†ÙŠÙƒ","Ø¨Ø±ÙŠØªØ§Ù†Ùƒ","ÙƒÙˆÙŠÙ† Ù…Ø§Ø±ÙŠ","Ø³Ø§Ù†ØªØ§ Ù…Ø§Ø±ÙŠØ§"],c:0},
{cat:"ØªØ§Ø±ÙŠØ®ÙŠØ©",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø¬Ø¯Ø§Ø± Ø§Ù„Ø¯ÙØ§Ø¹ÙŠ Ø§Ù„Ø´Ù‡ÙŠØ± ÙÙŠ Ø§Ù„ØµÙŠÙ†ØŸ",opts:["Ø³ÙˆØ± Ø§Ù„ØµÙŠÙ† Ø§Ù„Ø¹Ø¸ÙŠÙ…","Ø¬Ø¯Ø§Ø± Ø¨Ø±Ù„ÙŠÙ†","Ø§Ù„Ø³ÙˆØ± Ø§Ù„Ù‡Ø§Ø¯Ø±ÙŠØ§Ù†ÙŠ","Ø³ÙˆØ± Ø§Ù„Ù‚Ø¯Ø³"],c:0},
{cat:"ØªØ§Ø±ÙŠØ®ÙŠØ©",q:"Ø£ÙŠ Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ© ÙƒØ§Ù†Øª Ø¹Ø§ØµÙ…ØªÙ‡Ø§ Ø±ÙˆÙ…Ø§ØŸ",opts:["Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ© Ø§Ù„Ø±ÙˆÙ…Ø§Ù†ÙŠØ©","Ø§Ù„Ø¨ÙŠØ²Ù†Ø·ÙŠØ©","Ø§Ù„ÙØ±Ø¹ÙˆÙ†ÙŠØ©","Ø§Ù„Ø¹Ø¨Ø§Ø³ÙŠØ©"],c:0},
{cat:"ØªØ§Ø±ÙŠØ®ÙŠØ©",q:"ÙÙŠ Ø£ÙŠ Ù‚Ø§Ø±Ø© Ù‚Ø§Ù…Øª Ø­Ø¶Ø§Ø±Ø© Ø§Ù„Ø¥Ù†ÙƒØ§ØŸ",opts:["Ø£Ù…Ø±ÙŠÙƒØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©","Ø£Ù…Ø±ÙŠÙƒØ§ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ©","Ø£ÙˆØ±ÙˆØ¨Ø§","Ø¢Ø³ÙŠØ§"],c:0},
{cat:"ØªØ§Ø±ÙŠØ®ÙŠØ©",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø­Ø¯Ø« Ø§Ù„Ø°ÙŠ Ø£Ø¯Ù‰ Ù„Ø§Ù†Ù‚Ø³Ø§Ù… Ø£Ù„Ù…Ø§Ù†ÙŠØ§ Ø¥Ù„Ù‰ Ø´Ø±Ù‚ÙŠØ© ÙˆØºØ±Ø¨ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©ØŸ",opts:["Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¨Ø§Ø±Ø¯Ø©","Ø­Ø±Ø¨ Ø§Ù„Ù‚Ø±Ù…","Ø­Ø±Ø¨ ÙÙŠØªÙ†Ø§Ù…","Ø­Ø±Ø¨ Ø§Ù„Ø®Ù„ÙŠØ¬"],c:0},
{cat:"ØªØ§Ø±ÙŠØ®ÙŠØ©",q:"Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù…Ø³ØªÙƒØ´Ù Ø§Ù„Ø°ÙŠ Ø§Ø±ØªØ¨Ø· Ø§Ø³Ù…Ù‡ Ø¨Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø£Ù…Ø±ÙŠÙƒØªÙŠÙ† Ø¹Ø§Ù… 1492ØŸ",opts:["ÙƒØ±ÙŠØ³ØªÙˆÙØ± ÙƒÙˆÙ„ÙˆÙ…Ø¨ÙˆØ³","ÙØ§Ø³ÙƒÙˆ Ø¯Ø§ ØºØ§Ù…Ø§","Ù…Ø§Ø¬Ù„Ø§Ù†","Ø¬ÙŠÙ…Ø³ ÙƒÙˆÙƒ"],c:0},
{cat:"ØªØ§Ø±ÙŠØ®ÙŠØ©",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø¹ØµØ± Ø§Ù„Ø°ÙŠ ØªÙ…ÙŠØ² Ø¨Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¬Ø± Ù„ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ø£Ø¯ÙˆØ§ØªØŸ",opts:["Ø§Ù„Ø¹ØµØ± Ø§Ù„Ø­Ø¬Ø±ÙŠ","Ø§Ù„Ø¹ØµØ± Ø§Ù„Ø¨Ø±ÙˆÙ†Ø²ÙŠ","Ø§Ù„Ø¹ØµØ± Ø§Ù„Ø­Ø¯ÙŠØ¯ÙŠ","Ø§Ù„Ø¹ØµØ± Ø§Ù„ØµÙ†Ø§Ø¹ÙŠ"],c:0},

// ===== Ù…Ø³Ù„Ø³Ù„Ø§Øª =====
{cat:"Ù…Ø³Ù„Ø³Ù„Ø§Øª",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ù„Ø³Ù„ Ø§Ù„Ø°ÙŠ ØªØ¯ÙˆØ± Ø£Ø­Ø¯Ø§Ø«Ù‡ Ø­ÙˆÙ„ ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ù…Ø®Ø¯Ø±Ø§Øª ÙˆØ´Ø®ØµÙŠØ© ÙˆØ§Ù„ØªØ± ÙˆØ§ÙŠØªØŸ",opts:["Breaking Bad","The Office","Friends","Sherlock"],c:0},
{cat:"Ù…Ø³Ù„Ø³Ù„Ø§Øª",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ù„Ø³Ù„ Ø§Ù„ÙƒÙˆØ±ÙŠ Ø§Ù„Ø°ÙŠ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø£Ù„Ø¹Ø§Ø¨ Ù‚Ø§ØªÙ„Ø© Ù„Ù„ÙÙˆØ² Ø¨Ø¬Ø§Ø¦Ø²Ø©ØŸ",opts:["Ù„Ø¹Ø¨Ø© Ø§Ù„Ø­Ø¨Ø§Ø±","Ø¯Ø§Ø±Ùƒ","Ù†Ø§Ø±ÙƒÙˆØ³","Ø¨ÙŠÙƒÙŠ Ø¨Ù„Ø§ÙŠÙ†Ø¯Ø±Ø²"],c:0},
{cat:"Ù…Ø³Ù„Ø³Ù„Ø§Øª",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ù„Ø³Ù„ Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠ Ø¹Ù† Ø³Ø±Ù‚Ø© Ù…Ø·Ø¨Ø¹Ø© Ø§Ù„Ù†Ù‚ÙˆØ¯ Ø¨Ù‚ÙŠØ§Ø¯Ø© (Ø§Ù„Ø¨Ø±ÙˆÙÙŠØ³ÙˆØ±)ØŸ",opts:["La Casa de Papel","Vikings","Stranger Things","Narcos"],c:0},
{cat:"Ù…Ø³Ù„Ø³Ù„Ø§Øª",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ù„Ø³Ù„ Ø§Ù„ÙƒÙˆÙ…ÙŠØ¯ÙŠ Ø§Ù„Ø´Ù‡ÙŠØ± Ø§Ù„Ø°ÙŠ ØªØ¯ÙˆØ± Ø£Ø­Ø¯Ø§Ø«Ù‡ Ø­ÙˆÙ„ 6 Ø£ØµØ¯Ù‚Ø§Ø¡ ÙÙŠ Ù†ÙŠÙˆÙŠÙˆØ±ÙƒØŸ",opts:["Friends","How I Met Your Mother","The Big Bang Theory","Modern Family"],c:0},
{cat:"Ù…Ø³Ù„Ø³Ù„Ø§Øª",q:"Ø£ÙŠ Ù…Ø³Ù„Ø³Ù„ ØªØ¯ÙˆØ± Ø£Ø­Ø¯Ø§Ø«Ù‡ Ø­ÙˆÙ„ Ù…Ø­Ù‚Ù‚ Ø¹Ø¨Ù‚Ø±ÙŠ Ø§Ø³Ù…Ù‡ Ø´ÙŠØ±Ù„ÙˆÙƒ Ù‡ÙˆÙ„Ù…Ø²ØŸ",opts:["Sherlock","House","Dark","Suits"],c:0},
{cat:"Ù…Ø³Ù„Ø³Ù„Ø§Øª",q:"Ù…Ø§ Ø§Ø³Ù… Ù…Ø³Ù„Ø³Ù„ Ø§Ù„ÙØ§Ù†ØªØ§Ø²ÙŠØ§ Ø§Ù„Ø°ÙŠ Ø§Ø´ØªÙ‡Ø± Ø¨ØµØ±Ø§Ø¹ Ø§Ù„Ø¹Ø±ÙˆØ´ØŸ",opts:["Game of Thrones","The Witcher","The Crown","Lost"],c:0},
{cat:"Ù…Ø³Ù„Ø³Ù„Ø§Øª",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ù„Ø³Ù„ Ø§Ù„Ø°ÙŠ ÙŠØªÙ†Ø§ÙˆÙ„ Ø¹ØµØ§Ø¨Ø© ÙÙŠ Ø¨Ø±Ù…Ù†ØºÙ‡Ø§Ù… ÙˆØ²Ø¹ÙŠÙ…Ù‡Ø§ ØªÙˆÙ…Ø§Ø³ Ø´ÙŠÙ„Ø¨ÙŠØŸ",opts:["Peaky Blinders","Narcos","Vikings","Suits"],c:0},
{cat:"Ù…Ø³Ù„Ø³Ù„Ø§Øª",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ù„Ø³Ù„ Ø§Ù„Ø°ÙŠ ØªØ¯ÙˆØ± Ø£Ø­Ø¯Ø§Ø«Ù‡ Ø­ÙˆÙ„ ÙˆØ¨Ø§Ø¡ Ø§Ù„Ø²ÙˆÙ…Ø¨ÙŠ ÙˆØ¨Ù‚Ø§Ø¡ Ø§Ù„Ù†Ø§Ø¬ÙŠÙ†ØŸ",opts:["The Walking Dead","Dark","Prison Break","Lost"],c:0},
{cat:"Ù…Ø³Ù„Ø³Ù„Ø§Øª",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ù„Ø³Ù„ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠ Ø§Ù„Ø°ÙŠ Ø¨Ø·Ù„ÙÙ‡ Ù…Ø­Ø§Ù…Ù Ø§Ø³Ù…Ù‡ Ù‡Ø§Ø±ÙÙŠ Ø³Ø¨ÙŠÙƒØªØ±ØŸ",opts:["Suits","House","The Office","Dexter"],c:0},
{cat:"Ù…Ø³Ù„Ø³Ù„Ø§Øª",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ù„Ø³Ù„ Ø§Ù„Ø°ÙŠ Ø¨Ø·Ù„ÙÙ‡ Ù…Ø§ÙŠÙƒÙ„ Ø³ÙƒÙˆÙÙŠÙ„Ø¯ ÙˆÙŠÙ‡Ø±Ø¨ Ù…Ù† Ø§Ù„Ø³Ø¬Ù†ØŸ",opts:["Prison Break","Lost","Dexter","Narcos"],c:0},

// ===== Ø£ÙÙ„Ø§Ù… =====
{cat:"Ø£ÙÙ„Ø§Ù…",q:"Ù…Ø§ Ø§Ø³Ù… ÙÙŠÙ„Ù… Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© Ø§Ù„Ø°ÙŠ ØªØ¯ÙˆØ± Ù‚ØµØªÙ‡ Ø­ÙˆÙ„ Ø£Ù„Ø¹Ø§Ø¨ ØªØªØ­Ø±Ùƒ Ø¹Ù†Ø¯Ù…Ø§ Ù„Ø§ ÙŠØ±Ø§Ù‡Ø§ Ø§Ù„Ø¨Ø´Ø±ØŸ",opts:["Toy Story","Shrek","Frozen","Cars"],c:0},
{cat:"Ø£ÙÙ„Ø§Ù…",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„ÙÙŠÙ„Ù… Ø§Ù„Ø°ÙŠ ØªØ¯ÙˆØ± Ù‚ØµØªÙ‡ Ø­ÙˆÙ„ Ø³ÙÙŠÙ†Ø© ØºØ±Ù‚Øª ÙÙŠ Ø§Ù„Ù…Ø­ÙŠØ· ÙˆÙ‚ØµØ© Ø­Ø¨ØŸ",opts:["Titanic","Inception","Gladiator","Avatar"],c:0},
{cat:"Ø£ÙÙ„Ø§Ù…",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„ÙÙŠÙ„Ù… Ø§Ù„Ø°ÙŠ ÙŠØ¯ÙˆØ± Ø­ÙˆÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ø­Ù„Ø§Ù… ÙˆØ²Ø±Ø§Ø¹Ø© Ø§Ù„Ø£ÙÙƒØ§Ø±ØŸ",opts:["Inception","Interstellar","The Matrix","Memento"],c:0},
{cat:"Ø£ÙÙ„Ø§Ù…",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„ÙÙŠÙ„Ù… Ø§Ù„Ø°ÙŠ ÙŠØªØ­Ø¯Ø« Ø¹Ù† ÙƒÙˆÙƒØ¨ Ø¨Ø§Ù†Ø¯ÙˆØ±Ø§ ÙˆÙƒØ§Ø¦Ù†Ø§Øª Ø²Ø±Ù‚Ø§Ø¡ØŸ",opts:["Avatar","Dune","Star Wars","Joker"],c:0},
{cat:"Ø£ÙÙ„Ø§Ù…",q:"Ù…Ø§ Ø§Ø³Ù… ÙÙŠÙ„Ù… Ø§Ù„Ø£Ø¨Ø·Ø§Ù„ Ø§Ù„Ø®Ø§Ø±Ù‚ÙŠÙ† Ø§Ù„Ø°ÙŠ ÙŠØ¬Ù…Ø¹ Ø´Ø®ØµÙŠØ§Øª Ù…Ø§Ø±ÙÙ„ Ø¶Ø¯ ØªÙ‡Ø¯ÙŠØ¯ ÙƒØ¨ÙŠØ±ØŸ",opts:["Avengers","Batman","Superman","X-Men"],c:0},
{cat:"Ø£ÙÙ„Ø§Ù…",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„ÙÙŠÙ„Ù… Ø§Ù„Ø°ÙŠ ØªØ¯ÙˆØ± Ø£Ø­Ø¯Ø§Ø«Ù‡ ÙÙŠ Ù…Ø¯Ø±Ø³Ø© Ø³Ø­Ø±ÙŠØ© ÙˆØ¨Ø·Ù„Ù‡ Ù‡Ø§Ø±ÙŠØŸ",opts:["Harry Potter","The Hobbit","Narnia","Fantastic Beasts"],c:0},
{cat:"Ø£ÙÙ„Ø§Ù…",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„ÙÙŠÙ„Ù… Ø§Ù„Ø°ÙŠ Ø¨Ø·Ù„ÙÙ‡ Ù…Ø­Ø§Ø±Ø¨ Ø±ÙˆÙ…Ø§Ù†ÙŠ ÙŠØ¹ÙˆØ¯ Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù… ÙÙŠ Ø§Ù„Ø³Ø§Ø­Ø©ØŸ",opts:["Gladiator","Braveheart","Troy","300"],c:0},
{cat:"Ø£ÙÙ„Ø§Ù…",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„ÙÙŠÙ„Ù… Ø§Ù„Ø°ÙŠ Ø¨Ø·Ù„ÙÙ‡ Ù…Ù‡Ø±Ø¬ ÙˆÙŠØ³ØªØ¹Ø±Ø¶ ØªØ­ÙˆÙ„Ù‡ Ø§Ù„Ù†ÙØ³ÙŠ ÙÙŠ Ø¬ÙˆØ«Ø§Ù…ØŸ",opts:["Joker","The Dark Knight","Venom","Logan"],c:0},
{cat:"Ø£ÙÙ„Ø§Ù…",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„ÙÙŠÙ„Ù… Ø§Ù„Ø°ÙŠ ÙŠØ¯ÙˆØ± Ø­ÙˆÙ„ Ø±Ø­Ù„Ø© ÙØ¶Ø§Ø¦ÙŠØ© Ù„Ø¥Ù†Ù‚Ø§Ø° Ø§Ù„Ø¨Ø´Ø±ÙŠØ© Ø¹Ø¨Ø± Ø«Ù‚Ø¨ Ø¯ÙˆØ¯ÙŠØŸ",opts:["Interstellar","Gravity","The Martian","Arrival"],c:0},
{cat:"Ø£ÙÙ„Ø§Ù…",q:"Ù…Ø§ Ø§Ø³Ù… Ø§Ù„ÙÙŠÙ„Ù… Ø§Ù„Ø´Ù‡ÙŠØ± Ø¹Ù† Ø¯ÙŠÙ†Ø§ØµÙˆØ±Ø§Øª ØªØ¹ÙˆØ¯ Ù„Ù„Ø­ÙŠØ§Ø© Ø¯Ø§Ø®Ù„ Ø­Ø¯ÙŠÙ‚Ø©ØŸ",opts:["Jurassic Park","King Kong","Godzilla","Jumanji"],c:0},
            // ===== Ø§Ù‚ØªØµØ§Ø¯ =====
{cat:"Ø§Ù‚ØªØµØ§Ø¯",q:"Ù…Ø§ Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù„Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©ØŸ",opts:["Ø§Ù„Ø±ÙŠØ§Ù„","Ø§Ù„Ø¯ÙŠÙ†Ø§Ø±","Ø§Ù„Ø¯Ø±Ù‡Ù…","Ø§Ù„Ø¬Ù†ÙŠÙ‡"],c:0},
{cat:"Ø§Ù‚ØªØµØ§Ø¯",q:"Ù…Ø§ Ù…Ø¹Ù†Ù‰ GDPØŸ",opts:["Ø§Ù„Ù†Ø§ØªØ¬ Ø§Ù„Ù…Ø­Ù„ÙŠ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ","Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„ÙØ±Ø¯ÙŠ","Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø©","Ù‚ÙŠÙ…Ø© Ø§Ù„ØµØ§Ø¯Ø±Ø§Øª"],c:0},
{cat:"Ø§Ù‚ØªØµØ§Ø¯",q:"Ù…Ù† ÙŠØªØ­ÙƒÙ… Ø¨Ø§Ù„Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ù†Ù‚Ø¯ÙŠØ© Ù„Ù„Ø¯ÙˆÙ„Ø©ØŸ",opts:["Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ","ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…","Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©","Ø§Ù„Ø´Ø±ÙƒØ§Øª"],c:0},
{cat:"Ø§Ù‚ØªØµØ§Ø¯",q:"Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙŠØ³Ù…Ù‰ØŸ",opts:["Ø§Ù„ØªØ¶Ø®Ù…","Ø§Ù„ÙƒØ³Ø§Ø¯","Ø§Ù„Ø§Ù†ÙƒÙ…Ø§Ø´","Ø§Ù„Ø§Ø­ØªÙƒØ§Ø±"],c:0},
{cat:"Ø§Ù‚ØªØµØ§Ø¯",q:"Ø´Ø±Ø§Ø¡ Ø§Ù„Ø£Ø³Ù‡Ù… ÙŠØ¹Ù†ÙŠØŸ",opts:["Ø§Ù…ØªÙ„Ø§Ùƒ Ø¬Ø²Ø¡ Ù…Ù† Ø´Ø±ÙƒØ©","Ø¥Ù‚Ø±Ø§Ø¶ Ø¨Ù†Ùƒ","Ø´Ø±Ø§Ø¡ Ø£Ø±Ø¶","ÙØªØ­ Ø­Ø³Ø§Ø¨"],c:0},

// ===== Ø¹Ù„ÙˆÙ… =====
{cat:"Ø¹Ù„Ù…ÙŠØ©",q:"Ù…Ø§ Ø§Ù„ØºØ§Ø² Ø§Ù„Ø°ÙŠ Ù†ØªÙ†ÙØ³Ù‡ØŸ",opts:["Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†","Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†","Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†","Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ†"],c:0},
{cat:"Ø¹Ù„Ù…ÙŠØ©",q:"Ø¯Ø±Ø¬Ø© ØºÙ„ÙŠØ§Ù† Ø§Ù„Ù…Ø§Ø¡ØŸ",opts:["100Â°","90Â°","80Â°","120Â°"],c:0},
{cat:"Ø¹Ù„Ù…ÙŠØ©",q:"Ø£Ù‚ÙˆÙ‰ Ø­Ø§Ø³Ø© Ù„Ø¯Ù‰ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ",opts:["Ø§Ù„Ø¨ØµØ±","Ø§Ù„Ø´Ù…","Ø§Ù„Ø³Ù…Ø¹","Ø§Ù„Ù„Ù…Ø³"],c:0},
{cat:"Ø¹Ù„Ù…ÙŠØ©",q:"Ù…Ø±ÙƒØ² Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ø¹ØµØ¨ÙŠØŸ",opts:["Ø§Ù„Ø¯Ù…Ø§Øº","Ø§Ù„Ù‚Ù„Ø¨","Ø§Ù„Ø±Ø¦Ø©","Ø§Ù„Ù…Ø¹Ø¯Ø©"],c:0},
{cat:"Ø¹Ù„Ù…ÙŠØ©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ ÙƒØ±ÙˆÙ…ÙˆØ³ÙˆÙ…Ø§Øª Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ",opts:["46","44","48","50"],c:0},

// ===== Ø£Ù„Ø¹Ø§Ø¨ =====
{cat:"Ø£Ù„Ø¹Ø§Ø¨",q:"Ø´Ø±ÙƒØ© Ø¨Ù„Ø§ÙŠØ³ØªÙŠØ´Ù† ØªØªØ¨Ø¹ØŸ",opts:["Ø³ÙˆÙ†ÙŠ","Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª","Ù†ÙŠÙ†ØªÙ†Ø¯Ùˆ","Ø³ÙŠØºØ§"],c:0},
{cat:"Ø£Ù„Ø¹Ø§Ø¨",q:"Ù„Ø¹Ø¨Ø© Ù…Ø§ÙŠÙ†ÙƒØ±Ø§ÙØª ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ØŸ",opts:["Ø§Ù„Ø¨Ù†Ø§Ø¡ ÙˆØ§Ù„Ø§Ø³ØªÙƒØ´Ø§Ù","Ø§Ù„Ø³Ø¨Ø§Ù‚","Ø§Ù„Ø±ÙŠØ§Ø¶Ø©","Ø§Ù„Ø±Ù…Ø§ÙŠØ© ÙÙ‚Ø·"],c:0},
{cat:"Ø£Ù„Ø¹Ø§Ø¨",q:"Ø£Ø´Ù‡Ø± Ù„Ø¹Ø¨Ø© Ø¨Ø§ØªÙ„ Ø±ÙˆÙŠØ§Ù„ØŸ",opts:["Fortnite","FIFA","GTA","Need for Speed"],c:0},
{cat:"Ø£Ù„Ø¹Ø§Ø¨",q:"Ø¬Ù‡Ø§Ø² Xbox ØªØ§Ø¨Ø¹ Ù„Ø´Ø±ÙƒØ©ØŸ",opts:["Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª","Ø³ÙˆÙ†ÙŠ","Ø¬ÙˆØ¬Ù„","Ø£Ø¨Ù„"],c:0},
{cat:"Ø£Ù„Ø¹Ø§Ø¨",q:"Ù„Ø¹Ø¨Ø© GTA ØªØµÙ†ÙØŸ",opts:["Ø¹Ø§Ù„Ù… Ù…ÙØªÙˆØ­","Ø³Ø¨Ø§Ù‚","Ø£Ù„ØºØ§Ø²","Ø±ÙŠØ§Ø¶Ø©"],c:0},

// ===== Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù† =====
{cat:"Ø¬Ø³Ù…",q:"Ø£ÙƒØ¨Ø± Ø¹Ø¶Ùˆ ÙÙŠ Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ",opts:["Ø§Ù„Ø¬Ù„Ø¯","Ø§Ù„Ù‚Ù„Ø¨","Ø§Ù„ÙƒØ¨Ø¯","Ø§Ù„Ø±Ø¦Ø©"],c:0},
{cat:"Ø¬Ø³Ù…",q:"Ø¹Ø¯Ø¯ Ø£Ø³Ù†Ø§Ù† Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ø§Ù„Ø¨Ø§Ù„ØºØŸ",opts:["32","28","30","36"],c:0},
{cat:"Ø¬Ø³Ù…",q:"Ø§Ù„Ø¹Ø¶Ùˆ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ø¶Ø® Ø§Ù„Ø¯Ù…ØŸ",opts:["Ø§Ù„Ù‚Ù„Ø¨","Ø§Ù„Ø±Ø¦Ø©","Ø§Ù„Ø¯Ù…Ø§Øº","Ø§Ù„ÙƒØ¨Ø¯"],c:0},
{cat:"Ø¬Ø³Ù…",q:"Ø£Ù‚ÙˆÙ‰ Ø¹Ø¶Ù„Ø© Ù†Ø³Ø¨Ø© Ù„Ø­Ø¬Ù…Ù‡Ø§ØŸ",opts:["Ø§Ù„Ù„Ø³Ø§Ù†","Ø§Ù„Ø°Ø±Ø§Ø¹","Ø§Ù„Ø³Ø§Ù‚","Ø§Ù„Ø¸Ù‡Ø±"],c:0},
{cat:"Ø¬Ø³Ù…",q:"Ø§Ù„Ø¹Ø¸Ø§Ù… ØªØ­Ù…ÙŠØŸ",opts:["Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©","Ø§Ù„Ø¬Ù„Ø¯","Ø§Ù„Ø¯Ù…","Ø§Ù„Ø£Ø¹ØµØ§Ø¨"],c:0},

// ===== Ø°ÙƒØ§Ø¡ Ø³Ø±ÙŠØ¹ =====
{cat:"Ø£Ù„ØºØ§Ø²",q:"Ø´ÙŠØ¡ ÙƒÙ„Ù…Ø§ Ù…Ø´Ù‰ ÙÙ‚Ø¯ Ø¬Ø²Ø¡Ø§Ù‹ Ù…Ù†Ù‡ØŸ",opts:["Ø§Ù„Ø´Ù…Ø¹Ø©","Ø§Ù„Ù‚Ù„Ù…","Ø§Ù„ÙƒØªØ§Ø¨","Ø§Ù„Ø¸Ù„"],c:0},
{cat:"Ø£Ù„ØºØ§Ø²",q:"Ù„Ù‡ Ø±Ù‚Ø¨Ø© Ø¨Ù„Ø§ Ø±Ø£Ø³ØŸ",opts:["Ø§Ù„Ø²Ø¬Ø§Ø¬Ø©","Ø§Ù„Ø¥Ù†Ø³Ø§Ù†","Ø§Ù„Ø­ØµØ§Ù†","Ø§Ù„Ø´Ø¬Ø±Ø©"],c:0},
{cat:"Ø£Ù„ØºØ§Ø²",q:"ÙŠØ°Ù‡Ø¨ ÙˆÙ„Ø§ ÙŠØ¹ÙˆØ¯ØŸ",opts:["Ø§Ù„ÙˆÙ‚Øª","Ø§Ù„Ù…Ø·Ø±","Ø§Ù„Ù†Ù‡Ø±","Ø§Ù„ØµÙˆØª"],c:0},
{cat:"Ø£Ù„ØºØ§Ø²",q:"Ø¨ÙŠØª Ø¨Ù„Ø§ Ø£Ø¨ÙˆØ§Ø¨ ÙˆÙ„Ø§ Ù†ÙˆØ§ÙØ°ØŸ",opts:["Ø§Ù„Ø¨ÙŠØ¶Ø©","Ø§Ù„Ø®ÙŠÙ…Ø©","Ø§Ù„Ù‚ØµØ±","Ø§Ù„ÙƒÙ‡Ù"],c:0},
{cat:"Ø£Ù„ØºØ§Ø²",q:"ÙŠÙ…Ø´ÙŠ ÙˆÙŠÙ‚Ù ÙˆÙ„ÙŠØ³ Ù„Ù‡ Ø£Ø±Ø¬Ù„ØŸ",opts:["Ø§Ù„Ø³Ø§Ø¹Ø©","Ø§Ù„Ø³ÙŠØ§Ø±Ø©","Ø§Ù„Ù‚Ù„Ù…","Ø§Ù„Ù†Ù‡Ø±"],c:0},

// ===== Ø¯ÙˆÙ„ =====
{cat:"Ø¯ÙˆÙ„",q:"Ø¹Ø§ØµÙ…Ø© ÙØ±Ù†Ø³Ø§ØŸ",opts:["Ø¨Ø§Ø±ÙŠØ³","Ø±ÙˆÙ…Ø§","Ù…Ø¯Ø±ÙŠØ¯","Ø¨Ø±Ù„ÙŠÙ†"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ø£ÙƒØ¨Ø± Ø¯ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",opts:["Ø±ÙˆØ³ÙŠØ§","Ø§Ù„ØµÙŠÙ†","Ø£Ù…Ø±ÙŠÙƒØ§","ÙƒÙ†Ø¯Ø§"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ø¹Ø§ØµÙ…Ø© Ù…ØµØ±ØŸ",opts:["Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©","Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©","Ø§Ù„Ø¬ÙŠØ²Ø©","Ø§Ù„Ø£Ù‚ØµØ±"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ø¹Ø§ØµÙ…Ø© ØªØ±ÙƒÙŠØ§ØŸ",opts:["Ø£Ù†Ù‚Ø±Ø©","Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„","Ø¥Ø²Ù…ÙŠØ±","Ø¨ÙˆØ±ØµØ©"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ø¹Ø§ØµÙ…Ø© ÙƒÙ†Ø¯Ø§ØŸ",opts:["Ø£ÙˆØªØ§ÙˆØ§","ØªÙˆØ±Ù†ØªÙˆ","ÙØ§Ù†ÙƒÙˆÙØ±","Ù…ÙˆÙ†ØªØ±ÙŠØ§Ù„"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø¥ÙŠØ·Ø§Ù„ÙŠØ§ØŸ",opts:["Ø±ÙˆÙ…Ø§","Ù…ÙŠÙ„Ø§Ù†","Ù†Ø§Ø¨ÙˆÙ„ÙŠ","ÙÙ„ÙˆØ±Ù†Ø³Ø§"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø£Ù„Ù…Ø§Ù†ÙŠØ§ØŸ",opts:["Ø¨Ø±Ù„ÙŠÙ†","Ù…ÙŠÙˆÙ†Ø®","ÙØ±Ø§Ù†ÙƒÙÙˆØ±Øª","Ù‡Ø§Ù…Ø¨ÙˆØ±Øº"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§ØŸ",opts:["Ù…Ø¯Ø±ÙŠØ¯","Ø¨Ø±Ø´Ù„ÙˆÙ†Ø©","ÙØ§Ù„Ù†Ø³ÙŠØ§","Ø¥Ø´Ø¨ÙŠÙ„ÙŠØ©"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§ØŸ",opts:["ÙƒØ§Ù†Ø¨Ø±Ø§","Ø³ÙŠØ¯Ù†ÙŠ","Ù…Ù„Ø¨ÙˆØ±Ù†","Ø¨ÙŠØ±Ø«"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„ØŸ",opts:["Ø¨Ø±Ø§Ø²ÙŠÙ„ÙŠØ§","Ø±ÙŠÙˆ Ø¯ÙŠ Ø¬Ø§Ù†ÙŠØ±Ùˆ","Ø³Ø§Ùˆ Ø¨Ø§ÙˆÙ„Ùˆ","Ø³Ù„ÙØ§Ø¯ÙˆØ±"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ù‡Ù†Ø¯ØŸ",opts:["Ù†ÙŠÙˆØ¯Ù„Ù‡ÙŠ","Ù…ÙˆÙ…Ø¨Ø§ÙŠ","ÙƒØ§Ù„ÙƒÙˆØªØ§","ØªØ´ÙŠÙ†Ø§ÙŠ"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„ØµÙŠÙ†ØŸ",opts:["Ø¨ÙƒÙŠÙ†","Ø´Ù†ØºÙ‡Ø§ÙŠ","Ù‡ÙˆÙ†Øº ÙƒÙˆÙ†Øº","Ù‚ÙˆØ§Ù†ØºØªØ´Ùˆ"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø±ÙˆØ³ÙŠØ§ØŸ",opts:["Ù…ÙˆØ³ÙƒÙˆ","Ø³Ø§Ù†Øª Ø¨Ø·Ø±Ø³Ø¨Ø±Øº","Ø³ÙˆØªØ´ÙŠ","Ù‚Ø§Ø²Ø§Ù†"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„ÙŠÙˆÙ†Ø§Ù†ØŸ",opts:["Ø£Ø«ÙŠÙ†Ø§","Ø³Ø§Ù„ÙˆÙ†ÙŠÙƒ","Ø¨Ø§ØªØ±Ø§Ø³","ÙƒØ±ÙŠØª"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ø³ÙˆÙŠØ¯ØŸ",opts:["Ø³ØªÙˆÙƒÙ‡ÙˆÙ„Ù…","Ù…Ø§Ù„Ù…Ùˆ","Ø£ÙˆØ¨Ø³Ø§Ù„Ø§","ØºÙˆØªÙ†Ø¨Ø±Øº"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ù†Ø±ÙˆÙŠØ¬ØŸ",opts:["Ø£ÙˆØ³Ù„Ùˆ","Ø¨ÙŠØ±ØºÙ†","ØªØ±ÙˆÙ†Ø¯Ù‡Ø§ÙŠÙ…","Ø³ØªØ§ÙÙ†ØºØ±"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ø¯Ù†Ù…Ø§Ø±ÙƒØŸ",opts:["ÙƒÙˆØ¨Ù†Ù‡Ø§ØºÙ†","Ø¢Ø±Ù‡ÙˆØ³","Ø£ÙˆØ¯Ù†Ø³Ù‡","Ø£Ù„Ø¨ÙˆØ±Øº"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© ÙÙ†Ù„Ù†Ø¯Ø§ØŸ",opts:["Ù‡Ù„Ø³Ù†ÙƒÙŠ","ØªØ§Ù…Ø¨ÙŠØ±ÙŠ","ØªÙˆØ±ÙƒÙˆ","Ø£ÙˆÙ„Ùˆ"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ù‡ÙˆÙ„Ù†Ø¯Ø§ØŸ",opts:["Ø£Ù…Ø³ØªØ±Ø¯Ø§Ù…","Ø±ÙˆØªØ±Ø¯Ø§Ù…","Ù„Ø§Ù‡Ø§ÙŠ","Ø£ÙˆØªØ±Ø®Øª"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø¨Ù„Ø¬ÙŠÙƒØ§ØŸ",opts:["Ø¨Ø±ÙˆÙƒØ³Ù„","Ø£Ù†ØªÙˆÙŠØ±Ø¨","Ø¨Ø±ÙˆØ¬","ØºÙ†Øª"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø³ÙˆÙŠØ³Ø±Ø§ØŸ",opts:["Ø¨Ø±Ù†","Ø²ÙŠÙˆØ±Ø®","Ø¬Ù†ÙŠÙ","Ù„ÙˆØ²Ø§Ù†"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ù†Ù…Ø³Ø§ØŸ",opts:["ÙÙŠÙŠÙ†Ø§","Ø³Ø§Ù„Ø²Ø¨ÙˆØ±Øº","ØºØ±Ø§ØªØ³","Ù„ÙŠÙ†Ø²"],c:0},

{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ù…ÙƒØ³ÙŠÙƒØŸ",opts:["Ù…ÙƒØ³ÙŠÙƒÙˆ Ø³ÙŠØªÙŠ","ÙƒØ§Ù†ÙƒÙˆÙ†","ØºÙˆØ§Ø¯Ø§Ù„Ø§Ø®Ø§Ø±Ø§","Ù…ÙˆÙ†ØªÙŠØ±ÙŠ"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†ØŸ",opts:["Ø¨ÙˆÙŠÙ†Ø³ Ø¢ÙŠØ±Ø³","Ù‚Ø±Ø·Ø¨Ø©","Ù…Ù†Ø¯ÙˆØ²Ø§","Ø±ÙˆØ²Ø§Ø±ÙŠÙˆ"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© ØªØ´ÙŠÙ„ÙŠØŸ",opts:["Ø³Ø§Ù†ØªÙŠØ§ØºÙˆ","ÙØ§Ù„Ø¨Ø§Ø±Ø§ÙŠØ³Ùˆ","ÙƒÙˆÙ†Ø«Ø¨Ø«ÙŠÙˆÙ†","Ù„Ø§ÙƒØ§Ù„ÙŠØ±Ø§"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø¬Ù†ÙˆØ¨ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ØŸ",opts:["Ø¨Ø±ÙŠØªÙˆØ±ÙŠØ§","ÙƒÙŠØ¨ ØªØ§ÙˆÙ†","Ø¬ÙˆÙ‡Ø§Ù†Ø³Ø¨Ø±Øº","Ø¯ÙŠØ±Ø¨Ø§Ù†"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ù†ÙŠØ¬ÙŠØ±ÙŠØ§ØŸ",opts:["Ø£Ø¨ÙˆØ¬Ø§","Ù„Ø§ØºÙˆØ³","ÙƒØ§Ù†Ùˆ","Ø¥ÙŠØ¨Ø§Ø¯Ø§Ù†"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ù…ØºØ±Ø¨ØŸ",opts:["Ø§Ù„Ø±Ø¨Ø§Ø·","Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡","Ù…Ø±Ø§ÙƒØ´","Ø·Ù†Ø¬Ø©"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ØŸ",opts:["Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±","ÙˆÙ‡Ø±Ø§Ù†","Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©","Ø¹Ù†Ø§Ø¨Ø©"],c:0},
{cat:"Ø¯ÙˆÙ„",q:"Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© ØªÙˆÙ†Ø³ØŸ",opts:["ØªÙˆÙ†Ø³","ØµÙØ§Ù‚Ø³","Ø³ÙˆØ³Ø©","Ø¨Ù†Ø²Ø±Øª"],c:0},

// ===== Ù…ØªÙ†ÙˆØ¹Ø© =====
{cat:"Ø¹Ø§Ù…Ø©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø£ÙŠØ§Ù… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ØŸ",opts:["7","6","5","8"],c:0},
{cat:"Ø¹Ø§Ù…Ø©",q:"Ù„ÙˆÙ† Ø§Ù„Ø²Ù…Ø±Ø¯ØŸ",opts:["Ø£Ø®Ø¶Ø±","Ø£Ø­Ù…Ø±","Ø£Ø²Ø±Ù‚","Ø£ØµÙØ±"],c:0},
{cat:"Ø¹Ø§Ù…Ø©",q:"Ø¢Ù„Ø© Ù‚ÙŠØ§Ø³ Ø§Ù„Ø­Ø±Ø§Ø±Ø©ØŸ",opts:["Ø§Ù„ØªØ±Ù…ÙˆÙ…ØªØ±","Ø§Ù„Ø¨Ø§Ø±ÙˆÙ…ØªØ±","Ø§Ù„Ù…ÙŠØ²Ø§Ù†","Ø§Ù„Ù…Ù‚ÙŠØ§Ø³"],c:0},
{cat:"Ø¹Ø§Ù…Ø©",q:"ÙƒÙ… Ø¹Ø¯Ø¯ Ø³Ø§Ø¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…ØŸ",opts:["24","12","18","30"],c:0},
{cat:"Ø¹Ø§Ù…Ø©",q:"Ø£ÙƒØ¨Ø± Ù…Ø­ÙŠØ· ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",opts:["Ø§Ù„Ù‡Ø§Ø¯Ø¦","Ø§Ù„Ø£Ø·Ù„Ø³ÙŠ","Ø§Ù„Ù‡Ù†Ø¯ÙŠ","Ø§Ù„Ù…ØªØ¬Ù…Ø¯"],c:0}
];

/* â•â•â•â•â•â•â• STATE â•â•â•â•â•â•â• */
let RC=null, PID=null, PN=null, isH=false, myT=null, RD=null;
let tmrHost=null, tmrDisp=null, tmrAns=null, rl=null;
let tmrCountdown=null, tmrTypewriter=null;

/* â•â•â•â•â•â•â• UTILS â•â•â•â•â•â•â• */
function showScr(id){document.querySelectorAll('.scr').forEach(s=>s.classList.remove('on'));document.getElementById(id).classList.add('on')}
function goBack(){if(document.referrer&&document.referrer.indexOf(window.location.host)!==-1)window.history.back();else showScr('scrWelcome')}
function clearT(){clearInterval(tmrHost);clearInterval(tmrDisp);clearInterval(tmrAns);clearInterval(tmrCountdown);clearInterval(tmrTypewriter);tmrHost=tmrDisp=tmrAns=tmrCountdown=tmrTypewriter=null}
function saveS(){if(RC&&PID)sessionStorage.setItem('gs',JSON.stringify({rc:RC,pid:PID,pn:PN,h:isH,t:myT}))}
function clearS(){sessionStorage.removeItem('gs')}
function restoreS(){
  const s=sessionStorage.getItem('gs');if(!s)return false;
  try{const d=JSON.parse(s);
    // Set a timeout - if Firebase doesn't respond in 3s, go to welcome
    let answered=false;
    setTimeout(()=>{if(!answered){clearS();showScr('scrWelcome')}},3000);
    db.ref('rooms/'+d.rc).once('value',snap=>{
      answered=true;
      if(!snap.exists()||!snap.val().players||!snap.val().players[d.pid]){clearS();showScr('scrWelcome');return}
      RC=d.rc;PID=d.pid;PN=d.pn;isH=d.h;myT=d.t;saveS();listen()});return true}
  catch(e){clearS();return false}
}

/* â•â•â•â•â•â•â• CREATE / JOIN â•â•â•â•â•â•â• */
var teamIsPublic = false;

function createRoom(){
  const n=document.getElementById('hostName').value.trim();if(!n){alert('Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ');return}
  const t1=document.getElementById('t1n').value.trim()||'Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø±';
  const t2=document.getElementById('t2n').value.trim()||'Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚';
  const sz=parseInt(document.getElementById('tsz').value);
  RC=Math.floor(1000+Math.random()*9000).toString();PID='h-'+Date.now();PN=n;isH=true;
  db.ref('rooms/'+RC).set({oneShotOpts:false,code:RC,host:PID,t1Name:t1,t2Name:t2,tSize:sz,
    players:{[PID]:{name:n,isHost:true,team:''}},state:'lobby',
    curQ:'',usedQ:[],qQueue:[],couch:[],buzzP:'',showOpts:false,banTeam:'',
    corAns:'',selAns:'',waitChoice:false,choiceP:'',waitText:false,qStart:'',buzzTime:'',
    countdown:0,typePos:0,typeActive:false,typePaused:false,typeResumed:false});
  if(teamIsPublic){db.ref('publicRooms/team/'+RC).set({hostName:n,t1Name:t1,t2Name:t2,created:Date.now()})}
  saveS();listen();showLobby()}

function joinRoom(){
  const n=document.getElementById('pName').value.trim();const c=document.getElementById('pCode').value.trim();
  if(!n){alert('Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ');return}if(!c||c.length!==4){alert('Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„ØºØ±ÙØ© (4 Ø£Ø±Ù‚Ø§Ù…)');return}
  db.ref('rooms/'+c).once('value',snap=>{
    if(!snap.exists()){alert('Ø§Ù„ØºØ±ÙØ© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©');return}
    RC=c;PID='p-'+Date.now();PN=n;isH=false;
    db.ref('rooms/'+RC+'/players/'+PID).set({name:n,isHost:false,team:''});
    saveS();listen();showScr('scrTeam');document.getElementById('wpn').textContent=n})}

/* â•â•â•â•â•â•â• PUBLIC ROOMS - TEAM â•â•â•â•â•â•â• */
async function loadPublicRoomsTeam(){
  var el=document.getElementById('publicRoomsListTeam');
  var noEl=document.getElementById('noPublicRoomsTeam');
  el.innerHTML='<p style="text-align:center;color:#aaa;">â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø«...</p>';
  noEl.classList.add('hidden');
  try{
    var snap=await db.ref('publicRooms/team').once('value');
    var rooms=snap.val();el.innerHTML='';
    if(!rooms){noEl.classList.remove('hidden');return}
    var found=0;var now=Date.now();
    for(var code in rooms){
      var info=rooms[code];
      if(info.created&&(now-info.created)>3600000){db.ref('publicRooms/team/'+code).remove();continue}
      var rs=await db.ref('rooms/'+code).once('value');
      if(!rs.exists()){db.ref('publicRooms/team/'+code).remove();continue}
      var rd=rs.val();if(rd.state!=='lobby'){db.ref('publicRooms/team/'+code).remove();continue}
      var pc=rd.players?Object.keys(rd.players).length:0;
      var card=document.createElement('div');
      card.style.cssText='background:rgba(255,255,255,0.05);border:1px solid rgba(212,175,55,0.2);border-radius:8px;padding:10px;margin:5px 0;cursor:pointer;display:flex;justify-content:space-between;align-items:center;transition:all 0.2s;';
      card.innerHTML='<div><span style="color:#d4af37;font-weight:700;">ğŸ® '+(info.hostName||'Ù…Ø¶ÙŠÙ')+'</span><br><span style="font-size:0.8em;color:#999;">'+(info.t1Name||'')+ ' vs '+(info.t2Name||'')+' Â· '+code+'</span></div><span style="color:#2ecc71;font-weight:700;">ğŸ‘¥ '+pc+' â†</span>';
      card.setAttribute('data-code',code);
      card.addEventListener('click',function(){joinPublicTeam(this.getAttribute('data-code'))});
      el.appendChild(card);found++}
    if(found===0)noEl.classList.remove('hidden');
  }catch(e){el.innerHTML='<p style="text-align:center;color:#e74c3c;">âŒ Ø®Ø·Ø£</p>'}}

function joinPublicTeam(code){
  var name=document.getElementById('publicNameTeam').value.trim();
  if(!name){alert('Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø£ÙˆÙ„Ø§Ù‹!');return}
  db.ref('rooms/'+code).once('value',snap=>{
    if(!snap.exists()){alert('Ø§Ù„ØºØ±ÙØ© Ù„Ù… ØªØ¹Ø¯ Ù…ÙˆØ¬ÙˆØ¯Ø©!');loadPublicRoomsTeam();return}
    var rd=snap.val();if(rd.state!=='lobby'){alert('Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ø¯Ø£Øª!');return}
    RC=code;PID='p-'+Date.now();PN=name;isH=false;
    db.ref('rooms/'+RC+'/players/'+PID).set({name:name,isHost:false,team:''});
    saveS();listen();showScr('scrTeam');document.getElementById('wpn').textContent=name})}

async function quickJoinTeam(){
  var btn=document.getElementById('quickJoinBtnTeam');
  btn.disabled=true;btn.textContent='â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø«...';
  try{
    var snap=await db.ref('publicRooms/team').once('value');
    var rooms=snap.val();
    if(!rooms){alert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø© Ø­Ø§Ù„ÙŠØ§Ù‹!');btn.disabled=false;btn.textContent='âš¡ Ø§Ù†Ø¶Ù…Ø§Ù… Ø³Ø±ÙŠØ¹';return}
    var foundCode=null;
    for(var code in rooms){var rs=await db.ref('rooms/'+code).once('value');
      if(rs.exists()&&rs.val().state==='lobby'){foundCode=code;break}else{db.ref('publicRooms/team/'+code).remove()}}
    if(!foundCode){alert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø±ÙˆÙ…Ø§Øª Ù…ØªØ§Ø­Ø©!');btn.disabled=false;btn.textContent='âš¡ Ø§Ù†Ø¶Ù…Ø§Ù… Ø³Ø±ÙŠØ¹';return}
    var name=prompt('Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ:');
    if(!name||!name.trim()){btn.disabled=false;btn.textContent='âš¡ Ø§Ù†Ø¶Ù…Ø§Ù… Ø³Ø±ÙŠØ¹';return}
    RC=foundCode;PID='p-'+Date.now();PN=name.trim();isH=false;
    db.ref('rooms/'+RC+'/players/'+PID).set({name:PN,isHost:false,team:''});
    saveS();listen();showScr('scrTeam');document.getElementById('wpn').textContent=PN;
  }catch(e){alert('Ø®Ø·Ø£: '+e.message)}
  btn.disabled=false;btn.textContent='âš¡ Ø§Ù†Ø¶Ù…Ø§Ù… Ø³Ø±ÙŠØ¹'}

/* â•â•â•â•â•â•â• LISTEN â•â•â•â•â•â•â• */
function listen(){
  if(rl)db.ref('rooms/'+RC).off('value',rl);
  rl=db.ref('rooms/'+RC).on('value',snap=>{
    if(!snap.exists()){clearS();showScr('scrWelcome');return}
    RD=snap.val();if(!RD.players||!RD.players[PID])return;
    const me=RD.players[PID];if(me.team&&me.team!=='')myT=me.team;
    updateUI()})}

/* â•â•â•â•â•â•â• LOBBY â•â•â•â•â•â•â• */
function showLobby(){showScr('scrLobby');document.getElementById('drc').textContent=RC}
function pickTeam(t){myT=t;db.ref('rooms/'+RC+'/players/'+PID).update({team:t});saveS()}
function pickTeamJoin(t){myT=t;db.ref('rooms/'+RC+'/players/'+PID).update({team:t});saveS();
  RD&&RD.state==='playing'?showScr('scrGame'):showScr('scrWait')}

function renderPlayers(cid){
  const c=document.getElementById(cid);c.innerHTML='';
  Object.entries(RD.players||{}).forEach(([id,p])=>{
    const d=document.createElement('div');d.className='chip';
    let dc='dg';if(p.team==='team1')dc='dr';if(p.team==='team2')dc='db';
    d.innerHTML=`<span class="dot ${dc}"></span>${p.name}${p.isHost?' ğŸ‘‘':''}`;c.appendChild(d)})}

function updateLobby(){
  const cnt=Object.keys(RD.players||{}).length;
  document.getElementById('pc').textContent=cnt;renderPlayers('lpl');
  if(!RD)return;
  document.getElementById('htBtns').innerHTML=
    `<button class="tsb rt ${myT==='team1'?'sel':''}" onclick="pickTeam('team1')">ğŸ”´ ${RD.t1Name}</button>`+
    `<button class="tsb bt ${myT==='team2'?'sel':''}" onclick="pickTeam('team2')">ğŸ”µ ${RD.t2Name}</button>`;
  const b=document.getElementById('sgBtn');
  if(!myT||myT===''){b.disabled=true;b.textContent='Ø§Ø®ØªØ± ÙØ±ÙŠÙ‚Ùƒ Ø£ÙˆÙ„Ø§Ù‹'}
  else{b.disabled=false;b.textContent='Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø© â–¶ï¸'}}

function updateWait(){
  document.getElementById('wtn').textContent=myT==='team1'?RD.t1Name:RD.t2Name;renderPlayers('wpl')}

function startGame(){if(!myT){alert('Ø§Ø®ØªØ± ÙØ±ÙŠÙ‚Ùƒ');return}db.ref('publicRooms/team/'+RC).remove();db.ref('rooms/'+RC).update({state:'playing'})}

/* â•â•â•â•â•â•â• UPDATE UI â•â•â•â•â•â•â• */
function updateUI(){
  if(!RD)return;
  // Check for replay team-select state
  if(RD.state==='teamSelect'){document.getElementById('replayOv').classList.add('on');renderReplayTeams();return}
  else{document.getElementById('replayOv').classList.remove('on')}

  if(RD.state==='lobby'){
    if(isH){if(!document.getElementById('scrLobby').classList.contains('on'))showLobby();updateLobby()}
    else if(!myT||myT===''){if(!document.getElementById('scrTeam').classList.contains('on')){showScr('scrTeam');document.getElementById('wpn').textContent=PN}
      if(RD){document.getElementById('tsBtns').innerHTML=
        `<button class="tsb rt" onclick="pickTeamJoin('team1')">ğŸ”´ ${RD.t1Name}</button>`+
        `<button class="tsb bt" onclick="pickTeamJoin('team2')">ğŸ”µ ${RD.t2Name}</button>`}}
    else{if(!document.getElementById('scrWait').classList.contains('on'))showScr('scrWait');updateWait()}
  } else if(RD.state==='playing'){
    if(!myT||myT===''){showScr('scrTeam');document.getElementById('wpn').textContent=PN;
      if(RD){document.getElementById('tsBtns').innerHTML=
        `<button class="tsb rt" onclick="pickTeamJoin('team1')">ğŸ”´ ${RD.t1Name}</button>`+
        `<button class="tsb bt" onclick="pickTeamJoin('team2')">ğŸ”µ ${RD.t2Name}</button>`}}
    else{if(!document.getElementById('scrGame').classList.contains('on'))showScr('scrGame');updateGame()}
  }
}

/* â•â•â•â•â•â•â• GAME â•â•â•â•â•â•â• */
function updateGame(){
  if(!RD)return;const sz=RD.tSize||2;const couch=RD.couch||[];

  // Victory: couch full AND all same team
  let t1c=0,t2c=0;
  couch.forEach(pid=>{const p=RD.players[pid];if(p){if(p.team==='team1')t1c++;else t2c++}});
  if(couch.length>=sz && (t1c===sz||t2c===sz)){showVic();return}
  document.getElementById('vicOv').classList.remove('on');

  // Top bar
  document.getElementById('gt1n').textContent=RD.t1Name;document.getElementById('gt2n').textContent=RD.t2Name;
  document.getElementById('gt1s').textContent=t1c;document.getElementById('gt2s').textContent=t2c;
  renderTP('gt1p','team1');renderTP('gt2p','team2');

  // Couch
  document.getElementById('couchCnt').textContent=couch.length;document.getElementById('couchMax').textContent=sz;
  const cs=document.getElementById('couchSeats');cs.innerHTML='';
  for(let i=0;i<sz;i++){
    const d=document.createElement('div');
    if(couch[i]){const p=RD.players[couch[i]];
      if(p){d.className='cseat '+(p.team==='team1'?'fr':'fb')+(couch[i]===PID?' me':'');d.textContent='ğŸ† '+p.name}
      else{d.className='cseat empty';d.textContent='â€”'}}
    else{d.className='cseat empty';d.textContent='â€”'}
    cs.appendChild(d)}

  // ALL players see questions - even on couch
  document.getElementById('gContent').style.display='block';
  renderGC();
  // Show next button ONLY for host AND only when question is done
  const qDone = hasAns() || (!RD.curQ || RD.curQ==='');
  document.getElementById('hNext').classList.toggle('hid', !isH || !qDone);
  document.getElementById('gTop').style.display='';document.getElementById('couchSec').style.display=''}

function renderTP(cid,team){
  const c=document.getElementById(cid);c.innerHTML='';const couch=RD.couch||[];
  Object.entries(RD.players||{}).forEach(([id,p])=>{if(p.team===team){
    const s=document.createElement('span');s.className='mp'+(couch.includes(id)?' oc':'');
    s.textContent=p.name;c.appendChild(s)}})}

/* â•â•â•â•â•â•â• ANSWER MATCHING â•â•â•â•â•â•â• */
function hasAns(){return RD.corAns===true||RD.corAns===false}
function norm(s){return s.toLowerCase().replace(/[\u064B-\u065F\u0670]/g,'').replace(/Ø©/g,'Ù‡').replace(/Ù‰/g,'ÙŠ').replace(/[Ø£Ø¥Ø¢Ù±]/g,'Ø§').replace(/Ø¤/g,'Ùˆ').replace(/Ø¦/g,'ÙŠ').replace(/\s+/g,' ').trim()}

const AR_N={'ÙˆØ§Ø­Ø¯':1,'Ø§Ø«Ù†ÙŠÙ†':2,'Ø§Ø«Ù†Ø§Ù†':2,'Ø«Ù„Ø§Ø«Ø©':3,'Ø«Ù„Ø§Ø«':3,'Ø§Ø±Ø¨Ø¹Ø©':4,'Ø§Ø±Ø¨Ø¹':4,'Ø®Ù…Ø³Ø©':5,'Ø®Ù…Ø³':5,
'Ø³ØªØ©':6,'Ø³Øª':6,'Ø³Ø¨Ø¹Ø©':7,'Ø³Ø¨Ø¹':7,'Ø«Ù…Ø§Ù†ÙŠØ©':8,'Ø«Ù…Ø§Ù†ÙŠ':8,'Ø«Ù…Ø§Ù†':8,'ØªØ³Ø¹Ø©':9,'ØªØ³Ø¹':9,
'Ø¹Ø´Ø±Ø©':10,'Ø¹Ø´Ø±':10,'Ø§Ø­Ø¯ Ø¹Ø´Ø±':11,'Ø§Ø«Ù†Ø§ Ø¹Ø´Ø±':12,'Ù…Ø¦Ø©':100,'Ù…Ø§Ø¦Ø©':100,'Ù…Ø¦ØªÙŠÙ†':200,
'Ø«Ù„Ø§Ø«Ù…Ø¦Ø©':300,'Ø§Ø±Ø¨Ø¹Ù…Ø¦Ø©':400,'Ø®Ù…Ø³Ù…Ø¦Ø©':500,'Ø§Ù„Ù':1000};

function getNums(s){const m=s.match(/\d+/g);const r=m?m.map(Number):[];
const n=norm(s);for(const[w,v]of Object.entries(AR_N))if(n.includes(norm(w)))r.push(v);return[...new Set(r)]}

/* â•â•â•â•â•â•â• PHONETIC TRANSLITERATION SYSTEM â•â•â•â•â•â•â• */
// ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø¥Ù„Ù‰ Ø£Ø­Ø±Ù Ù„Ø§ØªÙŠÙ†ÙŠØ© ØµÙˆØªÙŠØ©
function arToLatin(s){
  s=s.replace(/[\u064B-\u065F\u0670]/g,'');
  const m={'Ø§':'a','Ø£':'a','Ø¥':'a','Ø¢':'aa','Ø¨':'b','Ù¾':'p','Øª':'t','Ø«':'th','Ø¬':'j','Ø­':'h','Ø®':'kh',
    'Ø¯':'d','Ø°':'dh','Ø±':'r','Ø²':'z','Ø³':'s','Ø´':'sh','Øµ':'s','Ø¶':'d','Ø·':'t','Ø¸':'z',
    'Ø¹':'a','Øº':'g','Ù':'f','Ù‚':'q','Ùƒ':'k','Ù„':'l','Ù…':'m','Ù†':'n','Ù‡':'h','Ùˆ':'w',
    'ÙŠ':'y','Ø©':'a','Ù‰':'a','Ø¦':'y','Ø¤':'w'};
  let r='';
  for(let c of s) r+=(m[c]!==undefined)?m[c]:c;
  return r;
}

// ØªÙˆÙ„ÙŠØ¯ Ù…ÙØªØ§Ø­ ØµÙˆØªÙŠ Ù…ÙˆØ­Ø¯ Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø© (ÙŠØ¹Ù…Ù„ Ù…Ø¹ Ø¹Ø±Ø¨ÙŠ ÙˆÙ„Ø§ØªÙŠÙ†ÙŠ)
function phoneticKey(s){
  s=s.toLowerCase().trim();
  // Ù„Ùˆ Ø¹Ø±Ø¨ÙŠ Ø­ÙˆÙ‘Ù„Ù‡ Ù„Ù„Ø§ØªÙŠÙ†ÙŠ Ø£ÙˆÙ„
  if(/[\u0600-\u06FF]/.test(s)){
    // Ø´ÙŠÙ„ "Ø§Ù„" Ø§Ù„ØªØ¹Ø±ÙŠÙ
    s=s.replace(/(^|\s)Ø§Ù„/g,'$1');
    s=arToLatin(s);
  }
  // Ù†Ø¸Ù‘Ù Ø§Ù„Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠ
  s=s.replace(/ph/g,'f').replace(/ck/g,'k').replace(/x/g,'ks');
  // ØªØ¨Ø³ÙŠØ· Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„ØµØ§Ù…ØªØ© ÙÙŠ Ø§Ù„Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠ
  s=s.replace(/ght/g,'t');     // knightâ†’knit, nightâ†’nit, fightâ†’fit
  s=s.replace(/\bkn/g,'n');    // knightâ†’nit, knowâ†’now, kneeâ†’nee
  s=s.replace(/\bwr/g,'r');    // writeâ†’rite, wrongâ†’rong
  s=s.replace(/mb\b/g,'m');    // climbâ†’clim, bombâ†’bom
  // Ø´ÙŠÙ„ Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ¹Ø±ÙŠÙ ÙˆØ§Ù„Ø±Ø¨Ø·
  s=s.replace(/\b(the|of|a|an|de|la|el|le|los|las)\b/g,'');
  // ÙˆØ­Ù‘Ø¯ Ø§Ù„Ø£ØµÙˆØ§Øª Ø§Ù„Ù…ØªØ´Ø§Ø¨Ù‡Ø©
  s=s.replace(/[gqj]/g,'k');   // Ù‚ Øº Ø¬ Ùƒ â†’ k (ÙÙŠ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø¬ ØªÙ…Ø«Ù„ g Ùˆ j)
  s=s.replace(/c(?=[eiy])/g,'s'); // ce ci cy â†’ s
  s=s.replace(/c/g,'k');       // c â†’ k
  s=s.replace(/[sz]/g,'s');    // Ø³ Ø² Øµ â†’ s
  s=s.replace(/[dt]/g,'t');    // Ø¯ Øª Ø· Ø¶ â†’ t
  s=s.replace(/[pb]/g,'b');    // Ø¨ Ù¾ â†’ b
  s=s.replace(/v/g,'f');       // Ù Ú¤ â†’ f
  // Ø´ÙŠÙ„ ÙƒÙ„ Ø´ÙŠ ØºÙŠØ± Ø­Ø±ÙˆÙ
  s=s.replace(/[^a-z]/g,'');
  // Ø´ÙŠÙ„ Ø§Ù„ØªÙƒØ±Ø§Ø±
  s=s.replace(/(.)\1+/g,'$1');
  return s;
}

// ØªÙˆÙ„ÙŠØ¯ Ù…ÙØªØ§Ø­ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø³Ø§ÙƒÙ†Ø© ÙÙ‚Ø· (Ø¨Ø¯ÙˆÙ† Ø­Ø±ÙƒØ§Øª)
function consonantKey(s){
  s=phoneticKey(s);
  // Ø´ÙŠÙ„ ÙƒÙ„ Ø§Ù„Ø­Ø±ÙƒØ§Øª + Ø§Ù„Ø£Ø­Ø±Ù Ø§Ù„Ù„ÙŠ ØªÙ…Ø«Ù„ Ø­Ø±ÙƒØ§Øª ÙÙŠ Ø§Ù„ØªØ¹Ø±ÙŠØ¨ (Ùˆ=o/u, ÙŠ=i/e, Ù‡=ØºØ§Ù„Ø¨Ø§Ù‹ ØµØ§Ù…ØªØ©)
  s=s.replace(/[aeiouhyw]/g,'');
  // Ø´ÙŠÙ„ Ø§Ù„ØªÙƒØ±Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ù„ÙŠ ØµØ§Ø± Ø¨Ø¹Ø¯ Ø­Ø°Ù Ø§Ù„Ø­Ø±ÙƒØ§Øª
  s=s.replace(/(.)\1+/g,'$1');
  return s;
}

// Ù…Ù‚Ø§Ø±Ù†Ø© ØµÙˆØªÙŠØ© Ø°ÙƒÙŠØ©
function phoneticMatch(userInput,correctAns){
  // Ù„Ùˆ Ù…Ø§ ÙÙŠÙ‡ Ø®Ù„Ø· Ø¹Ø±Ø¨ÙŠ/Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠ Ù„Ø§ ØªØ³ÙˆÙŠ Ø´ÙŠ
  const hasAr=/[\u0600-\u06FF]/.test(userInput);
  const hasEn=/[a-zA-Z]/.test(correctAns);
  if(!hasAr && !hasEn) return false;

  const uKey=phoneticKey(userInput);
  const cKey=phoneticKey(correctAns);

  // Ù…Ø·Ø§Ø¨Ù‚Ø© ÙƒØ§Ù…Ù„Ø©
  if(uKey===cKey) return true;
  if(uKey.length>=3 && cKey.length>=3){
    // Ù…Ø·Ø§Ø¨Ù‚Ø© Ø¬Ø²Ø¦ÙŠØ© (Ù„Ùˆ ÙƒØªØ¨ Ø¬Ø²Ø¡ ÙƒØ¨ÙŠØ± Ù…Ù† Ø§Ù„Ø§Ø³Ù…)
    if(cKey.includes(uKey) && uKey.length>=cKey.length*0.5) return true;
    if(uKey.includes(cKey) && cKey.length>=uKey.length*0.5) return true;
  }

  // Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø³Ø§ÙƒÙ†Ø©
  const uCon=consonantKey(userInput);
  const cCon=consonantKey(correctAns);
  if(uCon.length>=3 && cCon.length>=3){
    if(uCon===cCon) return true;
    if(cCon.includes(uCon) && uCon.length>=cCon.length*0.5) return true;
    if(uCon.includes(cCon) && cCon.length>=uCon.length*0.5) return true;
  }

  // Ù…Ù‚Ø§Ø±Ù†Ø© ÙƒÙ„Ù…Ø© Ø¨ÙƒÙ„Ù…Ø©
  const uWords=userInput.replace(/(^|\s)Ø§Ù„/g,'$1').split(/\s+/).filter(w=>w.length>1);
  const cWords=correctAns.toLowerCase().replace(/\b(the|of|a|an|de|la)\b/g,'').split(/\s+/).filter(w=>w.length>1);
  if(cWords.length>0){
    let matched=0;
    for(const cw of cWords){
      const ck=phoneticKey(cw);
      if(ck.length<2) continue;
      for(const uw of uWords){
        const uk=phoneticKey(uw);
        if(uk.length<2) continue;
        if(uk===ck || (ck.length>=3 && uk.length>=3 && (ck.includes(uk)||uk.includes(ck)))) {matched++;break}
        // Ù…Ù‚Ø§Ø±Ù†Ø© Ø³Ø§ÙƒÙ†Ø©
        const ukc=consonantKey(uw), ckc=consonantKey(cw);
        if(ukc.length>=2 && ckc.length>=2 && (ukc===ckc||(ckc.includes(ukc)&&ukc.length>=ckc.length*0.6)||(ukc.includes(ckc)&&ckc.length>=ukc.length*0.6))){matched++;break}
      }
    }
    // Ù„Ùˆ Ø·Ø§Ø¨Ù‚ Ø£ØºÙ„Ø¨ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ø©
    if(matched>=Math.ceil(cWords.length*0.6) && matched>=1) return true;
  }

  return false;
}

function checkAns(u,c){
  const un=norm(u),cn=norm(c);if(un===cn)return true;
  const uN=getNums(u),cN=getNums(c);
  if(uN.length&&cN.length){for(const a of uN)for(const b of cN)if(a===b)return true}
  if(un.length>=3&&cn.includes(un))return true;if(cn.length>=3&&un.includes(cn))return true;
  const uw=un.split(' ').filter(w=>w.length>2),cw=cn.split(' ').filter(w=>w.length>2);
  for(const a of uw)for(const b of cw){if(a===b)return true;if(a.length>=3&&b.includes(a))return true;if(b.length>=3&&a.includes(b))return true}
  // âœ… Ù…Ø·Ø§Ø¨Ù‚Ø© ØµÙˆØªÙŠØ© Ù„Ù„ØªØ¹Ø±ÙŠØ¨ (Ù…Ø«Ù„Ø§Ù‹: ÙˆØ§Ù„ÙƒÙŠÙ†Ù‚ Ø¯ÙŠØ¯ = Walking Dead)
  if(phoneticMatch(u,c)) return true;
  return false}

/* â•â•â•â•â•â•â• RENDER GAME â•â•â•â•â•â•â• */
function renderGC(){
  ['qCard','tBar','bzInd','bzBtn','aiArea','optsG','chG'].forEach(id=>document.getElementById(id).classList.add('hid'));
  document.getElementById('bzBtn').disabled=true;
  const st=document.getElementById('gSts');st.classList.remove('hid');

  // Choice
  if(RD.waitChoice&&RD.choiceP===PID){showQ();st.textContent='âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! Ø§Ø®ØªØ±:';st.className='sts s';renderChoice();return}
  if(RD.waitChoice){const p=RD.players[RD.choiceP];showQ();st.textContent=(p?.name||'')+' ÙŠØ®ØªØ§Ø±...';st.className='sts i';return}

  // No Q
  if(!RD.curQ||RD.curQ===''){st.textContent='â³ Ø§Ù†ØªØ¸Ø± Ø§Ù„Ø³Ø¤Ø§Ù„...';st.className='sts i';return}

  // Countdown phase
  const cd=RD.countdown||0;
  if(cd>0){
    document.getElementById('qCard').classList.remove('hid');
    document.getElementById('qCat').textContent=RD.curQ.cat||'';
    document.getElementById('qTxt').textContent='';
    st.textContent='â³ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø®Ù„Ø§Ù„... '+cd;st.className='sts w';
    st.style.fontSize='1.5em';
    if(isH)startCountdown();
    return}
  st.style.fontSize='';

  // Typewriter active - question still being typed
  if(RD.typeActive && (RD.typePos||0)<(RD.curQ.q||'').length && !RD.typePaused && !RD.buzzP && !RD.showOpts && !hasAns()){
    showQ();showMainTimer();
    const bb=document.getElementById('bzBtn');bb.classList.remove('hid');
    const onCouch=(RD.couch||[]).includes(PID);
    const banned=RD.banTeam&&RD.banTeam===myT;
    if(onCouch){bb.disabled=true;st.textContent='ğŸ›‹ï¸ Ø£Ù†Øª Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ†Ø¨Ø© - Ø´Ø§Ù‡Ø¯ ÙÙ‚Ø·';st.className='sts w'}
    else if(banned){bb.disabled=true;st.textContent='â›” ÙØ±ÙŠÙ‚Ùƒ Ù…Ù…Ù†ÙˆØ¹ - Ø§Ù†ØªØ¸Ø±';st.className='sts e'}
    else{bb.disabled=false;st.textContent='ğŸ“– Ø§Ù‚Ø±Ø£ ÙˆØ§Ø¶ØºØ· Ø§Ù„Ø¬Ø±Ø³!';st.className='sts i'}
    if(isH)startTypewriter();
    return}

  // Typewriter resumed after wrong answer - question completing for other team
  if(RD.typeResumed && RD.typeActive && (RD.typePos||0)<(RD.curQ.q||'').length && !RD.buzzP && !hasAns()){
    showQ();showMainTimer();
    const banned=RD.banTeam&&RD.banTeam===myT;
    if(banned){st.textContent='âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©! Ø§Ù„Ø³Ø¤Ø§Ù„ ÙŠØªÙƒÙ…Ù„...';st.className='sts e'}
    else{st.textContent='â³ Ø§Ù„Ø³Ø¤Ø§Ù„ ÙŠØªÙƒÙ…Ù„... Ø§Ø³ØªØ¹Ø¯ Ù„Ù„Ø®ÙŠØ§Ø±Ø§Øª';st.className='sts w'}
    if(isH)resumeTypewriter();
    return}

  // Question fully typed out  
  if(RD.typeActive && (RD.typePos||0)>=(RD.curQ.q||'').length && !RD.buzzP && !RD.showOpts && !hasAns()){
    showQ();showMainTimer();
    const bb=document.getElementById('bzBtn');bb.classList.remove('hid');
    const onCouch=(RD.couch||[]).includes(PID);
    const banned=RD.banTeam&&RD.banTeam===myT;
    if(onCouch){bb.disabled=true;st.textContent='ğŸ›‹ï¸ Ø£Ù†Øª Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ†Ø¨Ø© - Ø´Ø§Ù‡Ø¯ ÙÙ‚Ø·';st.className='sts w'}
    else if(banned){bb.disabled=true;st.textContent='â›” ÙØ±ÙŠÙ‚Ùƒ Ù…Ù…Ù†ÙˆØ¹ - ÙØ±ØµØ© Ø§Ù„Ø®ØµÙ…';st.className='sts e'}
    else{bb.disabled=false;st.textContent='ğŸ“– Ø§Ù‚Ø±Ø£ ÙˆØ§Ø¶ØºØ· Ø§Ù„Ø¬Ø±Ø³!';st.className='sts i'}
    return}

  showQ();

  // I'm typing
  if(RD.waitText&&RD.buzzP===PID&&!hasAns()){
    st.textContent='âŒ¨ï¸ Ø§ÙƒØªØ¨ Ø¥Ø¬Ø§Ø¨ØªÙƒ!';st.className='sts w';
    document.getElementById('aiArea').classList.remove('hid');showMainTimer();startAnsTimer();return}

  // Someone typing
  if(RD.waitText&&RD.buzzP&&RD.buzzP!==PID&&!hasAns()){
    const p=RD.players[RD.buzzP];const bi=document.getElementById('bzInd');bi.classList.remove('hid');
    bi.textContent=`ğŸ”” ${p?.name||''} ÙŠÙƒØªØ¨ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©...`;st.textContent='Ø§Ù†ØªØ¸Ø±...';st.className='sts i';showMainTimer();return}

  // Options
  if(RD.showOpts&&!hasAns()){
    const og=document.getElementById('optsG');og.classList.remove('hid');og.innerHTML='';
    const onCouch=(RD.couch||[]).includes(PID);
    const banned=RD.banTeam&&RD.banTeam===myT;
    // Shuffle options using question text as seed so order is stable per question
    var shuffled=RD.curQ.opts.map(function(o,i){return{text:o,origIdx:i}});
    var seed=0;for(var ci2=0;ci2<(RD.curQ.q||'').length;ci2++)seed+=RD.curQ.q.charCodeAt(ci2);
    for(var si=shuffled.length-1;si>0;si--){seed=(seed*9301+49297)%233280;var sj=seed%((si)+1);var tmp=shuffled[si];shuffled[si]=shuffled[sj];shuffled[sj]=tmp}
    shuffled.forEach(function(item){var b=document.createElement('button');b.className='ob';b.textContent=item.text;
      if(onCouch||banned)b.disabled=true;else b.onclick=function(){selAns(item.origIdx)};og.appendChild(b)});
    if(onCouch){st.textContent='ğŸ›‹ï¸ Ø£Ù†Øª Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ†Ø¨Ø© - Ø´Ø§Ù‡Ø¯ ÙÙ‚Ø·';st.className='sts w'}
    else if(banned){st.textContent='â›” ÙØ±ÙŠÙ‚Ùƒ Ù…Ù…Ù†ÙˆØ¹ - ÙØ±ØµØ© Ø§Ù„Ø®ØµÙ…';st.className='sts e'}
    else if(RD.banTeam){st.textContent='ğŸ¯ ÙØ±ØµØªÙƒ! Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©';st.className='sts s'}
    else{st.textContent='Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©';st.className='sts i'}
    return}

  // Result
  if(hasAns()){st.textContent=RD.corAns?'âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!':'âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©!';st.className=RD.corAns?'sts s':'sts e';return}

  // Active Q - fully typed
  if(!RD.buzzP&&!RD.showOpts){showMainTimer();const bb=document.getElementById('bzBtn');bb.classList.remove('hid');
    const onCouch=(RD.couch||[]).includes(PID);
    if(onCouch){bb.disabled=true;st.textContent='ğŸ›‹ï¸ Ø£Ù†Øª Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ†Ø¨Ø© - Ø´Ø§Ù‡Ø¯ ÙÙ‚Ø·';st.className='sts w'}
    else{bb.disabled=false;st.textContent='ğŸ“– Ø§Ù‚Ø±Ø£ ÙˆØ§Ø¶ØºØ· Ø§Ù„Ø¬Ø±Ø³!';st.className='sts i'}
    return}

  // Someone buzzed
  if(RD.buzzP&&RD.buzzP!==PID){const p=RD.players[RD.buzzP];
    st.textContent=(p?.name||'')+' ÙŠØ¬ÙŠØ¨...';st.className='sts w';showMainTimer()}}

function showQ(){if(!RD.curQ||RD.curQ==='')return;document.getElementById('qCard').classList.remove('hid');
  document.getElementById('qCat').textContent=RD.curQ.cat||'';
  // Typewriter: show only up to typePos characters
  const fullQ=RD.curQ.q||'';
  const pos=RD.typePos||0;
  if(pos>0&&pos<fullQ.length){
    document.getElementById('qTxt').textContent=fullQ.substring(0,pos)+'|';
  } else if(pos>=fullQ.length){
    document.getElementById('qTxt').textContent=fullQ;
  } else {
    document.getElementById('qTxt').textContent='';
  }
}

/* â•â•â•â•â•â•â• COUNTDOWN & TYPEWRITER (HOST ONLY) â•â•â•â•â•â•â• */

function startCountdown(){
  if(!isH)return; if(tmrCountdown)return;
  tmrCountdown=setInterval(()=>{
    if(!RD||!RD.curQ||RD.curQ===''){clearInterval(tmrCountdown);tmrCountdown=null;return}
    const cd=RD.countdown||0;
    if(cd>1){
      db.ref('rooms/'+RC).update({countdown:cd-1});
    } else if(cd===1){
      clearInterval(tmrCountdown);tmrCountdown=null;
      db.ref('rooms/'+RC).update({countdown:0,typeActive:true,typePos:0,qStart:Date.now()});
    } else {
      clearInterval(tmrCountdown);tmrCountdown=null;
    }
  },1000);
}

function startTypewriter(){
  if(!isH)return; if(tmrTypewriter)return;
  const fullQ=RD.curQ?.q||'';
  tmrTypewriter=setInterval(()=>{
    if(!RD||!RD.curQ||RD.curQ===''){clearInterval(tmrTypewriter);tmrTypewriter=null;return}
    if(RD.typePaused||!RD.typeActive){clearInterval(tmrTypewriter);tmrTypewriter=null;return}
    const pos=RD.typePos||0;
    if(pos<fullQ.length){
      db.ref('rooms/'+RC).update({typePos:pos+1});
    } else {
      clearInterval(tmrTypewriter);tmrTypewriter=null;
      // If resumed after wrong answer, show options for other team
      if(RD.typeResumed&&RD.banTeam){
        db.ref('rooms/'+RC).update({
          showOpts:true,
          oneShotOpts:true,
          typeActive:false,
          typeResumed:false
        });
      }
    }
  },80);
}

function resumeTypewriter(){
  if(!isH)return;
  tmrTypewriter=null;
  startTypewriter();
}

/* â•â•â•â•â•â•â• TIMERS â•â•â•â•â•â•â• */
function showMainTimer(){
  if(!RD.qStart)return;document.getElementById('tBar').classList.remove('hid');updTimerDisp();
  if(!tmrDisp)tmrDisp=setInterval(()=>{if(!RD||!RD.qStart){clearInterval(tmrDisp);tmrDisp=null;return}updTimerDisp()},500);
  if(isH&&!tmrHost)tmrHost=setInterval(()=>{if(!RD||!RD.qStart){clearInterval(tmrHost);tmrHost=null;return}
    const tl=Math.max(0,30-Math.floor((Date.now()-RD.qStart)/1000));
    if(tl<=0){clearInterval(tmrHost);tmrHost=null;
      if(!hasAns()&&!RD.showOpts){
        // If typeResumed (second team's turn) and time runs out, show options
        if(RD.typeResumed||RD.banTeam){
          const u={showOpts:true,waitText:false,typeActive:false,typePaused:false};
          if(RD.banTeam)u.banTeam=RD.banTeam;
          u.oneShotOpts=true;
          // Show full question
          u.typePos=(RD.curQ?.q||'').length;
          db.ref('rooms/'+RC).update(u);
        } else {
          const u={showOpts:true,waitText:false,typeActive:false,typePaused:false};
          if(RD.buzzP)u.banTeam=RD.players[RD.buzzP]?.team||'';
          u.typePos=(RD.curQ?.q||'').length;
          db.ref('rooms/'+RC).update(u);
        }
      }}},500)}

function updTimerDisp(){const tl=Math.max(0,30-Math.floor((Date.now()-RD.qStart)/1000));
  const c=document.getElementById('tCirc');if(c){c.textContent=tl;c.classList.toggle('dng',tl<=5)}}

function startAnsTimer(){if(!RD.buzzTime)return;clearInterval(tmrAns);const ci=document.getElementById('atCirc');
  tmrAns=setInterval(()=>{if(!RD||!RD.buzzTime){clearInterval(tmrAns);tmrAns=null;return}
    const tl=Math.max(0,7-Math.floor((Date.now()-RD.buzzTime)/1000));
    ci.textContent=tl;ci.classList.toggle('dng',tl<=2);
    if(tl<=0 && RD.buzzP===PID && !hasAns()){
      clearInterval(tmrAns);tmrAns=null;
      const fullLen=(RD.curQ?.q||'').length;
      const curPos=RD.typePos||0;
      if(curPos>=fullLen){
        db.ref('rooms/'+RC).update({
          corAns:'',
          waitText:false,
          showOpts:true,
          banTeam:(RD.players?.[PID]?.team) || "",
          oneShotOpts:true,
          buzzTime:"",
          buzzP:'',
          typePaused:false,
          typeActive:false,
          typeResumed:false
        });
      } else {
        db.ref('rooms/'+RC).update({
          corAns:'',
          waitText:false,
          showOpts:false,
          banTeam:(RD.players?.[PID]?.team) || "",
          oneShotOpts:false,
          buzzTime:"",
          buzzP:'',
          typeResumed:true,
          typePaused:false,
          typeActive:true,
          qStart:Date.now()
        });
      }
    }},1000)}


/* â•â•â•â•â•â•â• BUZZER â•â•â•â•â•â•â• */
function buzzIn(){if(!RD.curQ||RD.curQ===''||RD.buzzP||RD.showOpts)return;
  if((RD.couch||[]).includes(PID))return;
  // Don't allow banned team to buzz
  if(RD.banTeam&&RD.banTeam===myT)return;
  document.getElementById('tAns').value='';
  db.ref('rooms/'+RC).update({buzzP:PID,waitText:true,buzzTime:Date.now(),typePaused:true,typeResumed:false})}

/* â•â•â•â•â•â•â• SUBMIT TEXT â•â•â•â•â•â•â• */
function submitAns(){const inp=document.getElementById('tAns');const v=inp.value.trim();
  if(!v){alert('Ø§ÙƒØªØ¨ Ø¥Ø¬Ø§Ø¨Ø©!');return}clearInterval(tmrAns);tmrAns=null;
  inp.value='';
  const ok=checkAns(v,RD.curQ.opts[RD.curQ.c]);const ref=db.ref('rooms/'+RC);
  if(ok){ref.update({corAns:true,waitText:false});handleCorrect()}
  else{
  const fullLen=(RD.curQ?.q||'').length;
  const curPos=RD.typePos||0;
  if(curPos>=fullLen){
    // Question already fully typed - show options immediately
    ref.update({
      corAns:'',
      waitText:false,
      showOpts:true,
      banTeam: RD.players[PID]?.team || '',
      oneShotOpts:true,
      buzzTime:'',
      buzzP:'',
      typePaused:false,
      typeActive:false,
      typeResumed:false
    });
  } else {
    // Question not fully typed - resume typewriter, then show options when done
    ref.update({
      corAns:'',
      waitText:false,
      showOpts:false,
      banTeam: RD.players[PID]?.team || '',
      oneShotOpts:false,
      buzzTime:'',
      buzzP:'',
      typeResumed:true,
      typePaused:false,
      typeActive:true,
      qStart:Date.now()
    });
  }
}
                    }

/* â•â•â•â•â•â•â• SELECT OPTION â•â•â•â•â•â•â• */
function selAns(i){
  // âœ… Ù…Ù…Ù†ÙˆØ¹ Ø§Ù„Ù„ÙŠ Ø¹Ù„Ù‰ ÙƒÙ†Ø¨Ø© Ø§Ù„ÙÙˆØ² ÙŠØ¬Ø§ÙˆØ¨
  if((RD.couch || []).includes(PID)) return;

  const ok = i === RD.curQ.c;
  clearT();

  const ref = db.ref('rooms/'+RC);
  const myTeam = RD.players[PID]?.team || '';
  const disabled = RD.disabledOpts || [];

  // âœ… Ù„Ø§ ØªØ³Ù…Ø­ Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø®ÙŠØ§Ø± Ù…Ù‚ÙÙ‘Ù„
  if(disabled.includes(i)) return;

  if(ok){
    // âœ… ØµØ­ÙŠØ­: Ø§Ù†Ù‡Ù Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª ÙˆÙƒÙ…Ù‘Ù„ Ù…Ù†Ø·Ù‚ Ø§Ù„ÙƒÙ†Ø¨Ø©
    ref.update({
      selAns: i,
      corAns: true,
      showOpts: false,
      buzzP: RD.buzzP || PID,
      oneShotOpts: false,
      banTeam: '',
      disabledOpts: []
    });
    handleCorrect();
    return;
  }

  // âŒ Ø®Ø·Ø£
  if(RD.oneShotOpts){
    // âœ… Ù‡Ø°Ø§ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ "Ø¨Ø¹Ø¯ ÙØ´Ù„ Ø§Ù„Ø¬Ø±Ø³": Ø§Ù„Ø®ØµÙ… Ù„Ù‡ Ù…Ø­Ø§ÙˆÙ„Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·
    // Ù„Ùˆ ØºÙ„Ø· => ØªÙ†ØªÙ‡ÙŠ ÙØ±ØµØ© Ø§Ù„ÙØ±ÙŠÙ‚ÙŠÙ† ÙÙˆØ±Ø§Ù‹ Ø¨Ø¯ÙˆÙ† ÙƒØ´Ù Ø§Ù„Ø¬ÙˆØ§Ø¨
    ref.update({
      selAns: i,
      corAns: false,      // ÙŠÙ†Ù‡ÙŠ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù„Ù„Ø·Ø±ÙÙŠÙ†
      showOpts: false,    // ÙŠÙ‚ÙÙ„ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
      oneShotOpts: false,
      banTeam: '',
      waitText: false,
      buzzTime: ''
    });
    return;
  }

  // âœ… ÙˆØ¶Ø¹ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ (Ø¨Ø¹Ø¯ 30 Ø«Ø§Ù†ÙŠØ©):
  // Ø§Ù‚ÙÙ„ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ù„ÙŠ Ø§Ø®ØªØ§Ø±Ù‡ + Ø§Ù…Ù†Ø¹ ÙØ±ÙŠÙ‚Ù‡ ÙˆØ®Ù„ÙŠ Ø§Ù„ÙØ±ØµØ© Ù„Ù„Ø®ØµÙ…
  ref.update({
    selAns: i,
    corAns: '', // Ù„Ø§ Ù†Ù†Ù‡ÙŠ Ø§Ù„Ø³Ø¤Ø§Ù„
    showOpts: true,
    banTeam: myTeam, // ÙØ±ÙŠÙ‚Ù‡ Ù…Ù…Ù†ÙˆØ¹
    disabledOpts: [...new Set([...disabled, i])],
    waitText: false,
    buzzTime: ''
  });
}


/* â•â•â•â•â•â•â• CORRECT ANSWER â•â•â•â•â•â•â• */
function handleCorrect(){
  const sz=RD.tSize||2;const couch=RD.couch||[];const ref=db.ref('rooms/'+RC);
  const opps=couch.filter(pid=>{const p=RD.players[pid];return p&&p.team!==myT});

  if(couch.length>=sz){
    // Couch FULL â†’ can only pull (NO auto-sit)
    if(opps.length>0)ref.update({waitChoice:true,choiceP:PID});
  } else {
    // Space available
    if(opps.length>0)ref.update({waitChoice:true,choiceP:PID}); // sit or pull
    else addToCouch(); // just sit
  }}

/* â•â•â•â•â•â•â• CHOICE â•â•â•â•â•â•â• */
function renderChoice(){
  const cg=document.getElementById('chG');cg.classList.remove('hid');cg.innerHTML='';
  const sz=RD.tSize||2;const couch=RD.couch||[];
  const opps=couch.filter(pid=>{const p=RD.players[pid];return p&&p.team!==myT});
  const full=couch.length>=sz;

  if(full){
    // ONLY pull - no auto sit
    if(opps.length>0){const b=document.createElement('button');b.className='chb pull';
      b.textContent='ğŸ¯ Ø§Ø³Ø­Ø¨ Ù„Ø§Ø¹Ø¨ Ø®ØµÙ… Ù…Ù† Ø§Ù„ÙƒÙ†Ø¨Ø©';b.onclick=()=>doSteal();cg.appendChild(b)}
  } else {
    const sb=document.createElement('button');sb.className='chb sit';
    sb.textContent='ğŸ›‹ï¸ Ø§Ø¬Ù„Ø³ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ†Ø¨Ø©';sb.onclick=()=>doSit();cg.appendChild(sb);
    if(opps.length>0){const pb=document.createElement('button');pb.className='chb pull';
      pb.textContent='ğŸ¯ Ø§Ø³Ø­Ø¨ Ù„Ø§Ø¹Ø¨ Ø®ØµÙ… Ù…Ù† Ø§Ù„ÙƒÙ†Ø¨Ø©';pb.onclick=()=>doSteal();cg.appendChild(pb)}}}

function doSit(){addToCouch()}

function doSteal(){
  const couch=[...(RD.couch||[])];
  let idx=-1;for(let i=couch.length-1;i>=0;i--){const p=RD.players[couch[i]];if(p&&p.team!==myT){idx=i;break}}
  if(idx===-1){db.ref('rooms/'+RC).update({waitChoice:false,choiceP:''});return}
  couch.splice(idx,1);
  // Pull ONLY - do NOT auto-sit. Player needs another correct answer to sit.
  db.ref('rooms/'+RC).update({couch:couch,waitChoice:false,choiceP:''})}

function addToCouch(){
  const couch=[...(RD.couch||[])];const sz=RD.tSize||2;
  if(couch.length>=sz){db.ref('rooms/'+RC).update({waitChoice:false,choiceP:''});return}
  if(!couch.includes(PID))couch.push(PID);
  db.ref('rooms/'+RC).update({couch:couch,waitChoice:false,choiceP:''})}

/* â•â•â•â•â•â•â• NEXT QUESTION â•â•â•â•â•â•â• */
function nextQ(){clearT();
  let queue=RD.qQueue||[];
  const used=RD.usedQ||[];
  
  // If queue is empty, create a new fully shuffled queue from ALL unused questions
  if(!queue.length){
    let pool=[];
    for(let i=0;i<ALL_Q.length;i++){
      if(!used.includes(i))pool.push(i);
    }
    // If all questions used, reset
    if(pool.length===0){
      pool=[];for(let i=0;i<ALL_Q.length;i++)pool.push(i);
      used.length=0;
    }
    // Fisher-Yates shuffle
    for(let i=pool.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[pool[i],pool[j]]=[pool[j],pool[i]]}
    queue=pool;
  }
  
  const idx=queue.shift();
  const q=ALL_Q[idx];
  used.push(idx);
  
  db.ref('rooms/'+RC).update({oneShotOpts:false,curQ:{cat:q.cat,q:q.q,opts:q.opts,c:q.c},
    usedQ:used,qQueue:queue,
    buzzP:'',showOpts:false,banTeam:'',corAns:'',selAns:'',
    waitChoice:false,choiceP:'',qStart:'',waitText:false,buzzTime:'',
    countdown:3,typePos:0,typeActive:false,typePaused:false,typeResumed:false})}

/* â•â•â•â•â•â•â• VICTORY â•â•â•â•â•â•â• */
function showVic(){clearT();const couch=RD.couch||[];
  let t1c=0,t2c=0;couch.forEach(pid=>{const p=RD.players[pid];if(p){if(p.team==='team1')t1c++;else t2c++}});
  const w=t1c>t2c?RD.t1Name:RD.t2Name;
  document.getElementById('vicOv').classList.add('on');document.getElementById('vicMsg').textContent='ğŸ‰ '+w+' ÙØ§Ø²! ğŸ‰';
  document.getElementById('gContent').style.display='none';
  document.getElementById('hNext').classList.add('hid');
  document.getElementById('gTop').style.display='none';document.getElementById('couchSec').style.display='none'}

/* â•â•â•â•â•â•â• REPLAY WITH TEAM CHANGE â•â•â•â•â•â•â• */
function askReplay(){
  // Go to team selection state so all players can change
  db.ref('rooms/'+RC).update({state:'teamSelect'})}

function renderReplayTeams(){
  if(!RD)return;
  document.getElementById('rpBtns').innerHTML=
    `<button class="tsb rt ${myT==='team1'?'sel':''}" onclick="rpPick('team1')">ğŸ”´ ${RD.t1Name}</button>`+
    `<button class="tsb bt ${myT==='team2'?'sel':''}" onclick="rpPick('team2')">ğŸ”µ ${RD.t2Name}</button>`;
  // Only host sees start button
  if(isH){document.getElementById('rpStart').classList.remove('hid');document.getElementById('rpWait').classList.add('hid')}
  else{document.getElementById('rpStart').classList.add('hid');document.getElementById('rpWait').classList.remove('hid')}}

function rpPick(t){myT=t;db.ref('rooms/'+RC+'/players/'+PID).update({team:t});saveS();renderReplayTeams()}

function confirmReplay(){
  db.ref('rooms/'+RC).update({state:'playing',curQ:'',usedQ:[],qQueue:[],couch:[],
    buzzP:'',showOpts:false,banTeam:'',corAns:'',selAns:'',
    waitChoice:false,choiceP:'',waitText:false,qStart:'',buzzTime:'',
    countdown:0,typePos:0,typeActive:false,typePaused:false,typeResumed:false});
  document.getElementById('replayOv').classList.remove('on');
  document.getElementById('gTop').style.display='';document.getElementById('couchSec').style.display='';
  document.getElementById('gContent').style.display='';document.getElementById('vicOv').classList.remove('on')}

/* â•â•â•â•â•â•â• INPUT â•â•â•â•â•â•â• */
document.getElementById('pCode')?.addEventListener('input',function(){this.value=this.value.replace(/[^0-9]/g,'')});
document.getElementById('tAns')?.addEventListener('keypress',function(e){if(e.key==='Enter')submitAns()});

/* â•â•â•â•â•â•â• STARS â•â•â•â•â•â•â• */
(function(){var c=document.getElementById('teamStars');for(var i=0;i<60;i++){var s=document.createElement('div');var sz=Math.random()*2.5+1;s.style.cssText='position:absolute;background:white;border-radius:50%;width:'+sz+'px;height:'+sz+'px;left:'+Math.random()*100+'%;top:'+Math.random()*100+'%;animation:starTw '+(Math.random()*3+2)+'s ease-in-out infinite '+(Math.random()*3)+'s';c.appendChild(s)}var st=document.createElement('style');st.textContent='@keyframes starTw{0%,100%{opacity:0.15}50%{opacity:0.8}}';document.head.appendChild(st)})();

/* â•â•â•â•â•â•â• INIT â•â•â•â•â•â•â• */
if(!restoreS())showScr('scrWelcome');
</script>
</body>
</html>
